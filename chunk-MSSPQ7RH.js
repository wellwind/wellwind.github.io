import{a as rt,b as at}from"./chunk-DMKRETPT.js";import{a as Q,b as X}from"./chunk-PMJUEI5Q.js";import{a as F}from"./chunk-FYBESAFS.js";import{a as et,b as ot}from"./chunk-RNNFPY6H.js";import{a as k,b as B,c as x,d as I,e as O,f as D}from"./chunk-5SURUXUN.js";import{a as A,b as T,c as Y,d as tt,g as it}from"./chunk-HXKAOSDU.js";import"./chunk-VXCSXRBK.js";import{b as q,c as J,d as N,g as E}from"./chunk-Z5R2DTUN.js";import{b as U,e as V,g as W,h as Z}from"./chunk-FPA2J5JD.js";import{Da as S,Ea as M,Fa as r,Ga as a,Ha as P,I as f,Lb as b,M as m,N as y,Sa as z,Ua as p,Va as w,Wa as g,Ya as C,_a as G,aa as _,ab as u,bb as d,ga as h,j,ja as n,oa as v,tb as K,ua as l}from"./chunk-IN3HSR3R.js";import"./chunk-2BJYVO3V.js";import"./chunk-CWTPBX7D.js";var R=(()=>{let t=class t{constructor(){this.sitePostService=m(E)}resolve(i,o){let s=i.paramMap.get("category-slug");return this.sitePostService.categoriesAndPosts$.pipe(j(L=>rt(s,L)),j(L=>N([J(q("date"))],L)))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mt=(e,t)=>t.slug;function lt(e,t){if(e&1&&(r(0,"mat-card",3)(1,"mat-card-title",4)(2,"a",5),u(3,"postDateAsPath"),p(4),a()(),r(5,"mat-card-subtitle",6),P(6,"app-blog-post-subtitle",7),a(),r(7,"mat-card-content",8),P(8,"div",9),a(),r(9,"mat-card-footer")(10,"a",10),u(11,"postDateAsPath"),r(12,"mat-icon"),p(13,"read_more"),a(),r(14,"span"),p(15,"\u7E7C\u7E8C\u95B1\u8B80"),a()()()()),e&2){let c=t.$implicit;n(2),l("routerLink",d(3,5,c)),n(2),w(c.title),n(2),l("postMeta",c),n(2),l("innerHTML",c.summary,_),n(2),l("routerLink",d(11,7,c))}}var nt=10,H=(()=>{let t=class t{constructor(){this.siteMetaService=m(F),this.categorySlug=A(i=>i.get("category-slug"),""),this.currentPage=A(i=>+(i.get("page")||1),1),this.categoryPosts=T(i=>i.posts,[]),this.categoryPostsCount=h(()=>this.categoryPosts().length),this.posts=h(()=>ot(this.currentPage(),nt,this.categoryPosts())),this.totalPage=h(()=>Math.ceil(this.categoryPostsCount()/nt)),this._updateMetaEffect=v(()=>{let i=this.categorySlug();this.siteMetaService.resetMeta({title:`\u5206\u985E\uFF1A${i}`,description:`${i} \u76F8\u95DC\u6587\u7AE0`,keywords:[i||""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["app-blog-categories-posts"]],standalone:!0,features:[C],decls:10,vars:7,consts:[[1,"categories-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"],["appearance","outlined","class","blog-post"]],template:function(o,s){o&1&&(r(0,"mat-toolbar",0)(1,"h1"),p(2),u(3,"unslugify"),a(),r(4,"h2"),p(5),a()(),S(6,lt,16,9,"mat-card",11,mt),r(8,"mat-card",1),P(9,"app-pagination",2),a()),o&2&&(n(2),w(d(3,5,s.categorySlug()||"")),n(3),g("\u5206\u985E (\u5171 ",s.categoryPostsCount()," \u7BC7\u6587\u7AE0)"),M(6,s.posts()),n(4),z("linkBase","/blog/categories/",s.categorySlug(),"/page"),l("currentPage",s.currentPage()||1)("totalPage",s.totalPage()||1))},dependencies:[X,Q,D,k,x,O,I,B,b,tt,V,U,Z,W,et,at,it],changeDetection:0});let e=t;return e})();var st=(()=>{let t=class t{constructor(){this.sitePostService=m(E)}resolve(i,o){return this.sitePostService.categoriesAndPosts$}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ut=(e,t)=>t.key,dt=e=>["/blog/categories",e];function gt(e,t){if(e&1&&(r(0,"li")(1,"a",4),u(2,"slugify"),p(3),a(),p(4),a()),e&2){let c=t.$implicit;n(1),l("routerLink",G(5,dt,d(2,3,c.key||""))),n(2),g(" ",c.key," "),n(1),g(" (",c.value.length,") ")}}var pt=(()=>{let t=class t{constructor(){this.siteMetaService=m(F),this.categories=T(i=>i.categories,{}),this._updateMetaEffect=v(()=>{this.siteMetaService.resetMeta({title:"\u5206\u985E",description:"\u986F\u793A\u6240\u6709\u5206\u985E",keywords:[""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["app-blog-categories"]],standalone:!0,features:[C],decls:11,vars:5,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[3,"routerLink"]],template:function(o,s){o&1&&(r(0,"mat-card",0)(1,"mat-card-title",1),p(2," \u5206\u985E "),a(),r(3,"mat-card-subtitle",2),p(4),u(5,"keyvalue"),a(),r(6,"mat-card-content",3)(7,"ul"),S(8,gt,5,7,"li",null,ut),u(10,"keyvalue"),a()()()),o&2&&(n(4),g(" \u5171 ",d(5,1,s.categories()).length," \u500B\u5206\u985E "),M(8,d(10,3,s.categories())))},dependencies:[D,k,x,I,B,b,K,Y],changeDetection:0});let e=t;return e})();var ft=[{path:":category-slug",resolve:{posts:R},component:H},{path:":category-slug/page/:page",resolve:{posts:R},component:H},{path:"",resolve:{categories:st},component:pt}],ne=ft;export{ne as default};
