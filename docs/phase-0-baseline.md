# Phase 0 Baseline Snapshot

This document captures the current end-to-end behaviour of the published blog prior to the feature-sliced refactor. It serves as a reference for regression testing throughout later phases.

## Blog Listing (`/blog`)
- `BlogPostsComponent` renders posts provided by `SitePostService.postsMetaWithSlugAndSortDesc$`, sorted in reverse chronological order.
- Pagination uses `getPagePosts` with a page size of 5 and preserves the query parameter when navigating through `PaginationComponent` events.
- Each post preview exposes title, publication date, summary (rendered HTML string), and tags. Clicking a tag routes to `/blog/tags/:slug`.
- Archive links surface by year and month via `blog-archives` routes, and clicking a month routes to the filtered `blog-posts` view.

## Post Detail (`/blog/:yyyy/:MM/:dd/:slug`)
- `BlogContentResolve` loads markdown from `assets/blog/:slug.md`, parsing metadata via `parseMarkdownMeta` and caching SSR responses through Angular `TransferState`.
- `BlogPostComponent` renders the HTML generated by `transformMarkdown`, shows categories/tags, previous/next navigation by category and publication date, and exposes LikeCoin + comment widgets.
- Table of contents is generated client-side using headings rendered inside the markdown content container.

## Search (`/query`)
- `QueryComponent` reads `q`, `start`, and `end` from query parameters. Results derive from `searchPosts` composed with `searchPostsByDateRange`.
- Empty `q` lists every post as an article result. Structured queries (`category:Frontend:Angular`) filter posts by taxonomy and keyword, while `tag:rxjs` or `category:frontend` surface taxonomy hits.
- Date filters limit article results and show the selected range as chips above the list.
- Clicking a result triggers a Faro analytics event (`click-query-result`) with link metadata.

## Taxonomy (`/blog/categories/:slug`, `/blog/tags/:slug`)
- `blog-categories` and `blog-tags` routes resolve all posts for the selected taxonomy via `findPosts`, using slugified category/tag names.
- Category and tag overview pages display chips sized by usage counts via `BlogTagPostSizePipe` and route to the respective listing pages.

## Layout
- `LayoutComponent` wraps all blog routes, providing header navigation, sidebar toggles, and theme switching backed by `WebsiteTheme` helpers.
- Navigation breadcrumbs update SEO metadata with `SiteMetaService` and record analytics events on route changes.

## Routing Flow Baseline
1. Landing on `/` redirects to `/blog` through the top-level router configuration in `app.routes.ts`.
2. Navigating from the list to an article preserves scroll position and reuses the same `SitePostService` cache for metadata.
3. Taxonomy and archive routes reuse the blog layout shell and return to the listing via router links without full reloads.
