import{k as U,l as V,m as S}from"./chunk-B7TLSKZD.js";import{a as G,b as P}from"./chunk-GYCTRUTU.js";import"./chunk-RY3IAXLZ.js";import{a as z,c as W,f as k}from"./chunk-P6BWR2LZ.js";import{f as H,g as J}from"./chunk-APYMP6ZI.js";import{Aa as f,Ba as u,Da as L,Ea as N,F as y,Fa as n,G as I,Ga as a,Ib as R,Lb as q,Ob as $,P as b,Pa as M,Qc as K,U as T,Ua as d,V as C,Va as _,Wa as h,Ya as Q,ab as p,bb as s,cb as v,j as m,k as O,la as r,m as B,ma as E,s as x,sb as j,ua as F,ub as A}from"./chunk-LEKLC6X2.js";import"./chunk-CWTPBX7D.js";var it=(e,t)=>t.link;function rt(e,t){e&1&&(n(0,"h1"),d(1),a()),e&2&&(r(1),h(" ",t," "))}function nt(e,t){e&1&&(n(0,"span",4),d(1),p(2,"date"),a()),e&2&&(r(1),h("Start: ",v(2,1,t,"yyyy-MM-dd"),""))}function at(e,t){e&1&&(n(0,"span",4),d(1),p(2,"date"),a()),e&2&&(r(1),h("End: ",v(2,1,t,"yyyy-MM-dd"),""))}function ct(e,t){if(e&1&&(n(0,"span",8),d(1),p(2,"date"),a()),e&2){let c=M().$implicit;r(1),_(v(2,1,c.date,"yyyy-MM-dd"))}}function lt(e,t){if(e&1&&(n(0,"mat-list-item",5)(1,"div",6),f(2,ct,3,4,"span",7),p(3,"push"),p(4,"push"),n(5,"span",8),d(6),a(),n(7,"span",9),d(8),a()()()),e&2){let c=t.$implicit,i=M(2);F("routerLink",c.link),r(2),u(2,(s(3,4,i.searchDateStart$)||s(4,6,i.searchDateEnd$))&&c.type==="\u6587\u7AE0"?2:-1),r(4),_(c.type),r(2),_(c.text)}}function pt(e,t){if(e&1&&(n(0,"mat-toolbar",1),f(1,rt,2,1,"h1"),p(2,"push"),n(3,"h2"),d(4,"\u641C\u5C0B\u7D50\u679C"),a()(),n(5,"mat-card",2)(6,"mat-card-content")(7,"h2"),d(8),a(),f(9,nt,3,4,"span",3),p(10,"push"),f(11,at,3,4,"span",3),p(12,"push"),n(13,"mat-nav-list"),L(14,lt,9,8,"mat-list-item",5,it),a()()()),e&2){let c=M(),i;r(1),u(1,(i=s(2,4,c.searchKeyword$))?1:-1,i),r(7),h("\u5171 ",t.length," \u7BC7\u6587\u7AE0"),r(1),u(9,(i=s(10,6,c.searchDateStart$))?9:-1,i),r(2),u(11,(i=s(12,8,c.searchDateEnd$))?11:-1,i),N(14,t)}}var D=(()=>{let t=class t{constructor(i,l){this.sitePostService=i,this.route=l,this.searchKeyword$=this.route.queryParamMap.pipe(m(o=>`${o.get("q")}`),x(Boolean),y("")),this.searchDateStart$=this.route.queryParamMap.pipe(m(o=>o.get("start")),x(o=>!!o),m(o=>new Date(o)),y(void 0)),this.searchDateEnd$=this.route.queryParamMap.pipe(m(o=>o.get("end")),x(o=>!!o),m(o=>new Date(o)),y(void 0)),this.searchResult$=O([this.sitePostService.postsMetaWithSlugAndSortDesc$,this.searchKeyword$,this.searchDateStart$,this.searchDateEnd$]).pipe(I(([o,g,Z,tt])=>B(()=>import("./chunk-VKKAI6P7.js").then(w=>{let et=w.searchPosts,ot=w.searchPostsByDateRange(Z,tt);return et(ot(o),g)}))))}ngOnInit(){}};t.\u0275fac=function(l){return new(l||t)(E(H),E(R))},t.\u0275cmp=T({type:t,selectors:[["app-query"]],standalone:!0,features:[Q],decls:3,vars:3,consts:[[1,"search-page-container"],[1,"search-header","mat-elevation-z4"],["appearance","outlined"],["class","search-chip"],[1,"search-chip"],[3,"routerLink"],["matLine","",1,"search-result"],["class","search-result-type"],[1,"search-result-type"],[1,"search-result-title"]],template:function(l,o){if(l&1&&(n(0,"div",0),f(1,pt,16,10),p(2,"push"),a()),l&2){let g;r(1),u(1,(g=s(2,1,o.searchResult$))?1:-1,g)}},dependencies:[P,G,k,z,W,S,V,U,q,j,J],styles:["[_ngcontent-%COMP%]:root{--background-color:#ffffff;--primary-color: #3f51b5;--primary-text-color: #212121;--secondary-text-color: #9e9e9e;--header-link-color: #ffffff;--default-link-color: #5c6bc0;--default-link-hover-color: #3949ab;--post-card-header-link-color: #212121;--post-card-header-link-hover-color: #3f51b5;--post-card-content-text-color: #212121;--sidebar-text-color: #757575;--sidebar-highlight-text-color: var(--primary-color);--sidebar-highlight-bg-color: rgba(63, 81, 181, .15);--sub-pages-header-background-color: #ffffff;--post-next-prev-text-color: #9e9e9e;--note-background-color: transparent;--note-border-color: rgba(0, 0, 0, .2);--note-info-indicator-color: #3f51b5;--note-warning-indicator-color: #ff9800;--note-danger-indicator-color: #e91e63;--toc-header-color: #212121;--toc-indicator-color: #9e9e9e;--toc-indicator-focus-color: #3f51b5;--code-text-color: #3f51b5;--code-background-color: #eeeeee}[_ngcontent-%COMP%]:root   .dark-theme[_ngcontent-%COMP%]{--background-color:#424242;--primary-color: #9fa8da;--primary-text-color: #f5f5f5;--secondary-text-color: #bdbdbd;--search-input-background-color: #424242;--search-input-text-color: #ffffff;--default-link-color: #D4DAED;--default-link-hover-color: white;--post-card-header-link-color: #f5f5f5;--post-card-header-link-hover-color: #9fa8da;--post-card-content-text-color: #f5f5f5;--sidebar-text-color: #bdbdbd;--sidebar-highlight-text-color: var(--primary-color);--sidebar-highlight-bg-color: rgba(159, 168, 218, .45);--sub-pages-header-background-color: #424242;--post-next-prev-text-color: #bdbdbd;--note-background-color: transparent;--note-border-color: rgba(255, 255, 255, .3);--note-info-indicator-color: #3f51b5;--note-warning-indicator-color: #ff9800;--note-danger-indicator-color: #e91e63;--toc-header-color: #f5f5f5;--toc-indicator-color: #9e9e9e;--toc-indicator-focus-color: #9fa8da;--code-text-color: #D4DAED;--code-background-color: #424242}[_ngcontent-%COMP%]:root   .dark-theme[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input.search-input[_ngcontent-%COMP%]{color:var(--search-input-text-color);background-color:var(--search-input-background-color)}.search-page-container[_ngcontent-%COMP%]{padding:16px}.search-result[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;align-items:baseline}@media (max-width: 599.98px){.search-result[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.search-result[_ngcontent-%COMP%]   .search-result-type[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:14px;margin-right:8px}.search-result[_ngcontent-%COMP%]   .search-result-title[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:18px}.search-chip[_ngcontent-%COMP%]{color:#fff;background:var(--primary-color);margin:2px;padding:2px;border-radius:4px}"]});let e=t;return e})();var dt=[{path:"",component:D}],Y=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=C({type:t}),t.\u0275inj=b({imports:[$.forChild(dt),$]});let e=t;return e})();var Nt=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=C({type:t}),t.\u0275inj=b({imports:[A,Y,k,P,K,S,D]});let e=t;return e})();export{Nt as QueryModule};
