import{a as mt,b as ct}from"./chunk-7B5MIJMI.js";import{a as tt,b as R}from"./chunk-LLOZPQ4I.js";import{a as O}from"./chunk-OXLFLJ2O.js";import{a as nt,b as st}from"./chunk-UTJ7WADY.js";import{a as rt,b as at,e as pt}from"./chunk-5QCG7PDC.js";import{a as w,b as L,c as D,d as N,e as _,f as y}from"./chunk-UTWX254T.js";import"./chunk-747JYNUV.js";import{a as et,b as it,c as ot,f as H}from"./chunk-34HZ3IGH.js";import{b as Y,e as F}from"./chunk-5C5HB5ZG.js";import{A as V,Cb as T,Fb as K,G as P,Gc as X,H as S,Hc as A,Ia as Z,J as C,Ka as l,L as b,La as G,M as $,Ma as g,Oa as E,Qa as q,Sa as a,Ta as n,X as W,ba as m,ca as f,h as c,ib as x,ka as u,kb as J,lb as Q,ta as B,ua as I,va as p,wa as s,xa as k,zb as j}from"./chunk-4IQPA3HJ.js";import"./chunk-2BJYVO3V.js";import"./chunk-CWTPBX7D.js";var ht=(e,t)=>t.slug;function Mt(e,t){if(e&1&&(p(0,"mat-card",3)(1,"mat-card-title",4)(2,"a",5),a(3,"postDateAsPath"),l(4),s()(),p(5,"mat-card-subtitle",6),k(6,"app-blog-post-subtitle",7),s(),p(7,"mat-card-content",8),k(8,"div",9),s(),p(9,"mat-card-footer")(10,"a",10),a(11,"postDateAsPath"),p(12,"mat-icon"),l(13,"read_more"),s(),p(14,"span"),l(15,"\u7E7C\u7E8C\u95B1\u8B80"),s()()()()),e&2){let d=t.$implicit;m(2),u("routerLink",n(3,5,d)),m(2),G(d.title),m(2),u("postMeta",d),m(2),u("innerHTML",d.summary,W),m(2),u("routerLink",n(11,7,d))}}var lt=10,v=(()=>{let t=class t{constructor(r,o){this.route=r,this.siteMetaService=o,this.categorySlug$=this.route.paramMap.pipe(c(i=>i.get("category-slug"))),this.currentPage$=this.route.paramMap.pipe(c(i=>+(i.get("page")||1))),this.categoryPosts$=this.route.data.pipe(c(i=>i.posts)),this.categoryPostsCount$=this.categoryPosts$.pipe(c(i=>i.length)),this.posts$=this.currentPage$.pipe(V(i=>this.categoryPosts$.pipe(c(h=>st(i,lt,h))))),this.totalPage$=this.categoryPosts$.pipe(c(i=>Math.ceil(Object.keys(i).length/lt)))}ngOnInit(){this.categorySlug$.subscribe(r=>{this.siteMetaService.resetMeta({title:`\u5206\u985E\uFF1A${r}`,description:`${r} \u76F8\u95DC\u6587\u7AE0`,keywords:[r||""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)(f(j),f(O))},t.\u0275cmp=b({type:t,selectors:[["app-blog-categories-posts"]],standalone:!0,features:[E],decls:16,vars:19,consts:[[1,"categories-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"],["appearance","outlined","class","blog-post"]],template:function(o,i){o&1&&(p(0,"mat-toolbar",0)(1,"h1"),l(2),a(3,"unslugify"),a(4,"async"),s(),p(5,"h2"),l(6),a(7,"async"),s()(),B(8,Mt,16,9,"mat-card",11,ht),a(10,"async"),p(11,"mat-card",1),k(12,"app-pagination",2),a(13,"async"),a(14,"async"),a(15,"async"),s()),o&2&&(m(2),G(n(3,5,n(4,7,i.categorySlug$)||"")),m(4),g("\u5206\u985E (\u5171 ",n(7,9,i.categoryPostsCount$)," \u7BC7\u6587\u7AE0)"),I(8,n(10,11,i.posts$)),m(6),Z("linkBase","/blog/categories/",n(13,13,i.categorySlug$),"/page"),u("currentPage",n(14,15,i.currentPage$)||1)("totalPage",n(15,17,i.totalPage$)||1))},dependencies:[R,tt,y,w,D,_,N,L,T,at,F,Y,A,X,nt,mt,pt,x]});let e=t;return e})();var U=(()=>{let t=class t{constructor(r){this.sitePostService=r}resolve(r,o){let i=r.paramMap.get("category-slug");return this.sitePostService.categoriesAndPosts$.pipe(c(h=>ct(i,h)),c(h=>ot([it(et("date"))],h)))}};t.\u0275fac=function(o){return new(o||t)(C(H))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dt=(()=>{let t=class t{constructor(r){this.sitePostService=r}resolve(r,o){return this.sitePostService.categoriesAndPosts$}};t.\u0275fac=function(o){return new(o||t)(C(H))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Pt=(e,t)=>t.key,St=e=>["/blog/categories",e];function Ct(e,t){if(e&1&&(p(0,"li")(1,"a",4),a(2,"slugify"),l(3),s(),l(4),s()),e&2){let d=t.$implicit;m(1),u("routerLink",q(5,St,n(2,3,d.key||""))),m(2),g(" ",d.key," "),m(1),g(" (",d.value.length,") ")}}var z=(()=>{let t=class t{constructor(r,o){this.route=r,this.siteMetaService=o,this.categories$=this.route.data.pipe(c(i=>i.categories))}ngOnInit(){this.siteMetaService.resetMeta({title:"\u5206\u985E",description:"\u986F\u793A\u6240\u6709\u5206\u985E",keywords:[""],type:"website"})}};t.\u0275fac=function(o){return new(o||t)(f(j),f(O))},t.\u0275cmp=b({type:t,selectors:[["app-blog-categories"]],standalone:!0,features:[E],decls:13,vars:9,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[3,"routerLink"]],template:function(o,i){o&1&&(p(0,"mat-card",0)(1,"mat-card-title",1),l(2," \u5206\u985E "),s(),p(3,"mat-card-subtitle",2),l(4),a(5,"keyvalue"),a(6,"async"),s(),p(7,"mat-card-content",3)(8,"ul"),B(9,Ct,5,7,"li",null,Pt),a(11,"keyvalue"),a(12,"async"),s()()()),o&2&&(m(4),g(" \u5171 ",n(5,1,n(6,3,i.categories$)).length," \u500B\u5206\u985E "),I(9,n(11,5,n(12,7,i.categories$))))},dependencies:[y,w,D,N,L,T,J,rt,x]});let e=t;return e})();var bt=[{path:":category-slug",resolve:{posts:U},component:v},{path:":category-slug/page/:page",resolve:{posts:U},component:v},{path:"",resolve:{categories:dt},component:z}],ut=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=$({type:t}),t.\u0275inj=S({imports:[K.forChild(bt),K]});let e=t;return e})();var le=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=$({type:t}),t.\u0275inj=S({imports:[Q,ut,y,A,F,R,z,v]});let e=t;return e})();export{le as BlogCategoriesModule};
