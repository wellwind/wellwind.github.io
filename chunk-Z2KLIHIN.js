import{a as mt,b as ct}from"./chunk-TUK6FPYH.js";import{a as ot,b as at}from"./chunk-QD5KCNCM.js";import{a as z}from"./chunk-5U7AJ6M7.js";import{a as st,b as lt}from"./chunk-ZPIIH3PO.js";import{a as k,b as B,c as T,d as E,e as it,f as I}from"./chunk-PRXXZBRA.js";import{a as L,b as _,c as nt,d as rt,g as pt}from"./chunk-FIDCGCPO.js";import"./chunk-SW5IL2UJ.js";import{b as Y,c as tt,d as et,g as x}from"./chunk-OQQT7IRN.js";import{b as J,e as N,g as Q,h as X}from"./chunk-Z7SRJ6E4.js";import{Ba as g,Bb as q,Fa as G,Ga as K,Ha as U,I as h,Ia as M,Ja as C,Ka as a,La as r,M as c,Ma as v,N as P,Q as $,Ta as F,Ub as b,Wa as V,ab as l,bb as A,cb as f,eb as S,gb as W,ha as R,ib as m,j as O,ja as n,jb as u,kb as Z,sb as d,ub as y,za as H}from"./chunk-GJ2X4DM3.js";import"./chunk-2BJYVO3V.js";import"./chunk-C6Q5SG76.js";var Pt=(e,t)=>t.slug;function Mt(e,t){if(e&1&&(a(0,"mat-card",1)(1,"mat-card-title",4)(2,"a",5),m(3,"postDateAsPath"),l(4),r()(),a(5,"mat-card-subtitle",6),v(6,"app-blog-post-subtitle",7),r(),a(7,"mat-card-content",8),v(8,"div",9),r(),a(9,"mat-card-footer")(10,"a",10),m(11,"postDateAsPath"),a(12,"mat-icon"),l(13,"read_more"),r(),a(14,"span"),l(15,"\u7E7C\u7E8C\u95B1\u8B80"),r()()()()),e&2){let p=t.$implicit;n(2),g("routerLink",u(3,5,p)),n(2),A(p.title),n(2),g("postMeta",p),n(2),g("innerHTML",p.summary,R),n(2),g("routerLink",u(11,7,p))}}var gt=10,j=(()=>{let t=class t{constructor(){this.siteMetaService=c(z),this.tagSlug=L(i=>i.get("tag-slug"),""),this.currentPage=L(i=>+(i.get("page")||1),1),this.tagPosts=_(i=>i.posts,[]),this.tagPostsCount=d(()=>this.tagPosts().length),this.posts=d(()=>lt(this.currentPage(),gt,this.tagPosts())),this.totalPage=d(()=>Math.ceil(this.tagPostsCount()/gt)),this.updateMetaEffect=y(()=>{this.siteMetaService.resetMeta({title:`\u6A19\u7C64\uFF1A${this.tagSlug()}`,description:`${this.tagSlug()} \u76F8\u95DC\u6587\u7AE0`,keywords:[this.tagSlug()||""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=P({type:t,selectors:[["app-blog-tag-posts"]],standalone:!0,features:[S],decls:10,vars:8,consts:[[1,"tags-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"blog-post"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"]],template:function(o,s){o&1&&(a(0,"mat-toolbar",0)(1,"h1"),l(2),m(3,"unslugify"),r(),a(4,"h2"),l(5),r()(),M(6,Mt,16,9,"mat-card",1,Pt),a(8,"mat-card",2),v(9,"app-pagination",3),r()),o&2&&(n(2),A(u(3,6,s.tagSlug()||"")),n(3),f("\u6A19\u7C64 (\u5171 ",s.tagPostsCount()," \u7BC7\u6587\u7AE0)"),n(),C(s.posts()),n(3),V("linkBase","/blog/tags/",s.tagSlug(),"/page"),g("currentPage",s.currentPage()||1)("totalPage",s.totalPage()||1))},dependencies:[at,ot,I,k,T,it,E,B,b,rt,N,J,X,Q,st,ct,pt],changeDetection:0});let e=t;return e})();var w=(()=>{let t=class t{constructor(){this.sitePostService=c(x)}resolve(i){let o=i.paramMap.get("tag-slug");return this.sitePostService.tagsAndPosts$.pipe(O(s=>mt(o,s)),O(s=>et([tt(Y("date"))],s)))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ut=(()=>{let t=class t{constructor(){this.sitePostService=c(x)}resolve(){return this.sitePostService.tagsAndPosts$}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dt=(()=>{let t=class t{transform(i,o){return i>=o*.4?1:i>=o*.2?2:i>=o*.1?3:4}};t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=$({name:"blogPostTagSize",type:t,pure:!0,standalone:!0});let e=t;return e})();var Ct=e=>["/blog/tags",e];function vt(e,t){if(e&1&&(a(0,"a",6),m(1,"blogPostTagSize"),m(2,"slugify"),l(3),r()),e&2){let p=F().$implicit,i=F();G("tag size-",Z(1,5,p.value.length,i.maxPostsCount()||0),""),g("routerLink",W(10,Ct,u(2,8,p.key))),n(3),f(" ",p.key," ")}}function St(e,t){if(e&1&&H(0,vt,4,12,"a",5),e&2){let p=t.$implicit;K(p!=null&&p.key?0:-1)}}var ft=(()=>{let t=class t{constructor(){this.siteMetaService=c(z),this.tags=_(i=>i.tags,{}),this.aa=d(()=>Object.values(this.tags()).map(i=>i.length)),this.maxPostsCount=d(()=>Math.max(...Object.values(this.tags()).map(i=>i.length))),this._updateMetaEffect=y(()=>{this.siteMetaService.resetMeta({title:"\u6A19\u7C64",description:"\u986F\u793A\u6240\u6709\u6A19\u7C64",keywords:[""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=P({type:t,selectors:[["app-blog-tags"]],standalone:!0,features:[S],decls:11,vars:5,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[1,"tags"],[3,"class","routerLink"],[3,"routerLink"]],template:function(o,s){o&1&&(a(0,"mat-card",0)(1,"mat-card-title",1),l(2,"\u6A19\u7C64"),r(),a(3,"mat-card-subtitle",2),l(4),m(5,"keyvalue"),r(),a(6,"mat-card-content",3)(7,"div",4),M(8,St,1,1,null,null,U),m(10,"keyvalue"),r()()()),o&2&&(n(4),f(" \u5171 ",u(5,1,s.tags()).length," \u500B\u6A19\u7C64 "),n(4),C(u(10,3,s.tags())))},dependencies:[I,k,T,E,B,b,q,nt,dt],styles:[".tags[_ngcontent-%COMP%]{text-align:center;line-height:36px;margin:8px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin:8px}.tags[_ngcontent-%COMP%]   .tag.size-1[_ngcontent-%COMP%]{font-size:36px}.tags[_ngcontent-%COMP%]   .tag.size-2[_ngcontent-%COMP%]{font-size:30px}.tags[_ngcontent-%COMP%]   .tag.size-3[_ngcontent-%COMP%]{font-size:24px}.tags[_ngcontent-%COMP%]   .tag.size-4[_ngcontent-%COMP%]{font-size:16px}"],changeDetection:0});let e=t;return e})();var yt=[{path:":tag-slug",resolve:{posts:w},component:j},{path:":tag-slug/page/:page",resolve:{posts:w},component:j},{path:"",resolve:{tags:ut},component:ft}],fe=yt;export{fe as default};
