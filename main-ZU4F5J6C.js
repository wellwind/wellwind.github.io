import{a as UE,b as yE,c as VE,d as bE,e as BE,f as GE,g as to,h as YE,i as wE,j as HE,k as FE,l as KE,m as kE,n as WE,o as XE,p as zE,q as QE,r as jE,s as qE,t as F,u as ZE,v as JE,w as $E,x as eT}from"./chunk-I2RQNTAM.js";import{a as uE,b as mE}from"./chunk-RIPZ5TCG.js";import{a as ME,b as CE,c as PE,d as hE,e as LE,f as xr,g as DE,h as IE,i as qn}from"./chunk-RQ57OMZH.js";import{c as xE,d as gE}from"./chunk-LLN72F2T.js";import{a as fE}from"./chunk-KA5LYXXJ.js";import{a as RE,b as Ja,c as $a,d as Ir,f as vE,g as OE,h as eo,i as NE}from"./chunk-FXRHMUMW.js";import{a as qa,e as cE,f as dE,g as tr,h as Za}from"./chunk-SPUNDOAV.js";import{a as AE,e as lE,f as pE,g as Qa,h as ja}from"./chunk-EPOA77OH.js";import{$ as ce,$a as ye,Aa as se,C as Mt,D as jt,Da as Ke,E as xe,Ea as ge,Eb as Xs,F as gs,Fa as Zt,Fb as zs,Fc as za,G as x,Ga as ae,H as Us,Ha as Ba,Hb as Qs,Hc as Te,I as qt,Ib as js,J as pe,Ja as Ee,K as _e,L as Ua,La as Ga,M as l,Ma as Ya,Mb as qs,N as ys,Na as f,Nb as Zs,Oa as M,Ob as Js,P as ya,Pa as w,Pb as $t,Q as Z,Qb as Fa,R as J,Ra as pt,Sa as kn,Sb as $s,T as Va,Ta as Q,Tb as Ka,Ua as oe,Ub as ka,Va as ht,Vb as eE,W as Oe,Wa as at,Wb as tE,X as re,Xb as rE,Ya as Lt,Yb as aE,Z as Pr,Za as Dt,Zb as oE,_ as Kn,_a as Ue,_b as We,a as Da,aa as Vs,ab as Ks,b as wn,ba as Ct,bb as Wn,bc as zn,c as ee,ca as bs,cb as Jt,cc as nE,da as Bs,db as B,dc as iE,e as Ps,eb as It,fa as He,fb as wa,g as Hn,gb as ot,gc as _E,ha as Gs,ib as ks,j as rt,ja as hr,jc as sE,k as hs,kc as EE,l as Ia,lc as TE,n as Ls,na as b,nc as Wa,oa as Ys,ob as Ws,oc as er,p as Qt,pa as ba,pb as Ne,pc as SE,q as te,qa as Fe,qb as ke,qc as Qn,rb as Xn,rc as Xa,sa as ws,t as xa,ta as Hs,tb as Lr,u as ga,ub as Dr,v as Fn,va as k,w as Ds,wa as de,wb as Ha,x as Is,xa as Pt,xc as jn,z as xs,za as Fs,zc as Xe}from"./chunk-CVAY75XQ.js";import{a as La,c as Cs,d as p,e as Cr,f as dd,g as Yn,h as ud}from"./chunk-VOSPIT4N.js";var NS,fS=p(()=>{"use strict";NS=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var MS=p(()=>{"use strict";fS()});var _t,gi=p(()=>{"use strict";_t="1.9.0"});function im(r){var t=new Set([r]),e=new Set,a=r.match(CS);if(!a)return function(){return!1};var o={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(o.prerelease!=null)return function(s){return s===r};function n(_){return e.add(_),!1}function i(_){return t.add(_),!0}return function(s){if(t.has(s))return!0;if(e.has(s))return!1;var E=s.match(CS);if(!E)return n(s);var T={major:+E[1],minor:+E[2],patch:+E[3],prerelease:E[4]};return T.prerelease!=null||o.major!==T.major?n(s):o.major===0?o.minor===T.minor&&o.patch<=T.patch?i(s):n(s):o.minor<=T.minor?i(s):n(s)}}var CS,PS,hS=p(()=>{"use strict";gi();CS=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;PS=im(_t)});function Qe(r,t,e,a){var o;a===void 0&&(a=!1);var n=Fr[Hr]=(o=Fr[Hr])!==null&&o!==void 0?o:{version:_t};if(!a&&n[r]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return e.error(i.stack||i.message),!1}if(n.version!==_t){var i=new Error("@opentelemetry/api: Registration of version v"+n.version+" for "+r+" does not match previously registered API v"+_t);return e.error(i.stack||i.message),!1}return n[r]=t,e.debug("@opentelemetry/api: Registered a global for "+r+" v"+_t+"."),!0}function ue(r){var t,e,a=(t=Fr[Hr])===null||t===void 0?void 0:t.version;if(!(!a||!PS(a)))return(e=Fr[Hr])===null||e===void 0?void 0:e[r]}function je(r,t){t.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+_t+".");var e=Fr[Hr];e&&delete e[r]}var _m,Hr,Fr,Vt=p(()=>{"use strict";MS();gi();hS();_m=_t.split(".")[0],Hr=Symbol.for("opentelemetry.js.api."+_m),Fr=NS});function Kr(r,t,e){var a=ue("diag");if(a)return e.unshift(t),a[r].apply(a,Em([],sm(e),!1))}var sm,Em,LS,DS=p(()=>{"use strict";Vt();sm=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},Em=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},LS=function(){function r(t){this._namespace=t.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kr("debug",this._namespace,t)},r.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kr("error",this._namespace,t)},r.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kr("info",this._namespace,t)},r.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kr("warn",this._namespace,t)},r.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kr("verbose",this._namespace,t)},r}()});var g,Po=p(()=>{"use strict";g=function(r){return r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL",r}(g||{})});function IS(r,t){r<g.NONE?r=g.NONE:r>g.ALL&&(r=g.ALL),t=t||{};function e(a,o){var n=t[a];return typeof n=="function"&&r>=o?n.bind(t):function(){}}return{error:e("error",g.ERROR),warn:e("warn",g.WARN),info:e("info",g.INFO),debug:e("debug",g.DEBUG),verbose:e("verbose",g.VERBOSE)}}var xS=p(()=>{"use strict";Po()});var Tm,Sm,Am,$,bt=p(()=>{"use strict";DS();xS();Po();Vt();Tm=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},Sm=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},Am="diag",$=function(){function r(){function t(o){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var _=ue("diag");if(_)return _[o].apply(_,Sm([],Tm(n),!1))}}var e=this,a=function(o,n){var i,_,s;if(n===void 0&&(n={logLevel:g.INFO}),o===e){var E=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error((i=E.stack)!==null&&i!==void 0?i:E.message),!1}typeof n=="number"&&(n={logLevel:n});var T=ue("diag"),S=IS((_=n.logLevel)!==null&&_!==void 0?_:g.INFO,o);if(T&&!n.suppressOverrideMessage){var A=(s=new Error().stack)!==null&&s!==void 0?s:"<failed to generate stacktrace>";T.warn("Current logger will be overwritten from "+A),S.warn("Current logger will overwrite one already registered from "+A)}return Qe("diag",S,e,!0)};e.setLogger=a,e.disable=function(){je(Am,e)},e.createComponentLogger=function(o){return new LS(o)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r}()});var lm,pm,gS,US=p(()=>{"use strict";lm=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},pm=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gS=function(){function r(t){this._entries=t?new Map(t):new Map}return r.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var e=lm(t,2),a=e[0],o=e[1];return[a,o]})},r.prototype.setEntry=function(t,e){var a=new r(this._entries);return a._entries.set(t,e),a},r.prototype.removeEntry=function(t){var e=new r(this._entries);return e._entries.delete(t),e},r.prototype.removeEntries=function(){for(var t,e,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var n=new r(this._entries);try{for(var i=pm(a),_=i.next();!_.done;_=i.next()){var s=_.value;n._entries.delete(s)}}catch(E){t={error:E}}finally{try{_&&!_.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},r.prototype.clear=function(){return new r},r}()});var yS,VS=p(()=>{"use strict";yS=Symbol("BaggageEntryMetadata")});function bS(r){return r===void 0&&(r={}),new gS(new Map(Object.entries(r)))}function kr(r){return typeof r!="string"&&(cm.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:yS,toString:function(){return r}}}var cm,Ui=p(()=>{"use strict";bt();US();VS();cm=$.instance()});function me(r){return Symbol.for(r)}var dm,st,Wr=p(()=>{"use strict";dm=function(){function r(t){var e=this;e._currentContext=t?new Map(t):new Map,e.getValue=function(a){return e._currentContext.get(a)},e.setValue=function(a,o){var n=new r(e._currentContext);return n._currentContext.set(a,o),n},e.deleteValue=function(a){var o=new r(e._currentContext);return o._currentContext.delete(a),o}}return r}(),st=new dm});var Bt,um,ho,mm,Rm,vm,Om,yi,Nm,fm,Mm,BS,Cm,Pm,hm,Lm,Dm,Im,xm,GS=p(()=>{"use strict";Bt=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),um=function(){function r(){}return r.prototype.createGauge=function(t,e){return Pm},r.prototype.createHistogram=function(t,e){return hm},r.prototype.createCounter=function(t,e){return Cm},r.prototype.createUpDownCounter=function(t,e){return Lm},r.prototype.createObservableGauge=function(t,e){return Im},r.prototype.createObservableCounter=function(t,e){return Dm},r.prototype.createObservableUpDownCounter=function(t,e){return xm},r.prototype.addBatchObservableCallback=function(t,e){},r.prototype.removeBatchObservableCallback=function(t){},r}(),ho=function(){function r(){}return r}(),mm=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.add=function(e,a){},t}(ho),Rm=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.add=function(e,a){},t}(ho),vm=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.record=function(e,a){},t}(ho),Om=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.record=function(e,a){},t}(ho),yi=function(){function r(){}return r.prototype.addCallback=function(t){},r.prototype.removeCallback=function(t){},r}(),Nm=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(yi),fm=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(yi),Mm=function(r){Bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(yi),BS=new um,Cm=new mm,Pm=new vm,hm=new Om,Lm=new Rm,Dm=new Nm,Im=new fm,xm=new Mm});var YS,wS,HS=p(()=>{"use strict";YS={get:function(r,t){if(r!=null)return r[t]},keys:function(r){return r==null?[]:Object.keys(r)}},wS={set:function(r,t,e){r!=null&&(r[t]=e)}}});var gm,Um,FS,KS=p(()=>{"use strict";Wr();gm=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},Um=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},FS=function(){function r(){}return r.prototype.active=function(){return st},r.prototype.with=function(t,e,a){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];return e.call.apply(e,Um([a],gm(o),!1))},r.prototype.bind=function(t,e){return e},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r}()});var ym,Vm,Vi,bm,dt,Xr=p(()=>{"use strict";KS();Vt();bt();ym=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},Vm=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},Vi="context",bm=new FS,dt=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(t){return Qe(Vi,t,$.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(t,e,a){for(var o,n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];return(o=this._getContextManager()).with.apply(o,Vm([t,e,a],ym(n),!1))},r.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},r.prototype._getContextManager=function(){return ue(Vi)||bm},r.prototype.disable=function(){this._getContextManager().disable(),je(Vi,$.instance())},r}()});var H,bi=p(()=>{"use strict";H=function(r){return r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED",r}(H||{})});var Lo,Do,zr,Io=p(()=>{"use strict";bi();Lo="0000000000000000",Do="00000000000000000000000000000000",zr={traceId:Do,spanId:Lo,traceFlags:H.NONE}});var ut,xo=p(()=>{"use strict";Io();ut=function(){function r(t){t===void 0&&(t=zr),this._spanContext=t}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(t,e){return this},r.prototype.setAttributes=function(t){return this},r.prototype.addEvent=function(t,e){return this},r.prototype.addLink=function(t){return this},r.prototype.addLinks=function(t){return this},r.prototype.setStatus=function(t){return this},r.prototype.updateName=function(t){return this},r.prototype.end=function(t){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(t,e){},r}()});function go(r){return r.getValue(Bi)||void 0}function kS(){return go(dt.getInstance().active())}function Qr(r,t){return r.setValue(Bi,t)}function WS(r){return r.deleteValue(Bi)}function XS(r,t){return Qr(r,new ut(t))}function Uo(r){var t;return(t=go(r))===null||t===void 0?void 0:t.spanContext()}var Bi,Gi=p(()=>{"use strict";Wr();xo();Xr();Bi=me("OpenTelemetry Context Key SPAN")});function _r(r){return Bm.test(r)&&r!==Do}function zS(r){return Gm.test(r)&&r!==Lo}function ne(r){return _r(r.traceId)&&zS(r.spanId)}function QS(r){return new ut(r)}var Bm,Gm,yo=p(()=>{"use strict";Io();xo();Bm=/^([0-9a-f]{32})$/i,Gm=/^[0-9a-f]{16}$/i});function Ym(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var Yi,Vo,wi=p(()=>{"use strict";Xr();Gi();xo();yo();Yi=dt.getInstance(),Vo=function(){function r(){}return r.prototype.startSpan=function(t,e,a){a===void 0&&(a=Yi.active());var o=!!e?.root;if(o)return new ut;var n=a&&Uo(a);return Ym(n)&&ne(n)?new ut(n):new ut},r.prototype.startActiveSpan=function(t,e,a,o){var n,i,_;if(!(arguments.length<2)){arguments.length===2?_=e:arguments.length===3?(n=e,_=a):(n=e,i=a,_=o);var s=i??Yi.active(),E=this.startSpan(t,n,s),T=Qr(s,E);return Yi.with(T,_,void 0,E)}},r}()});var wm,jS,qS=p(()=>{"use strict";wi();wm=new Vo,jS=function(){function r(t,e,a,o){this._provider=t,this.name=e,this.version=a,this.options=o}return r.prototype.startSpan=function(t,e,a){return this._getTracer().startSpan(t,e,a)},r.prototype.startActiveSpan=function(t,e,a,o){var n=this._getTracer();return Reflect.apply(n.startActiveSpan,n,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):wm},r}()});var ZS,JS=p(()=>{"use strict";wi();ZS=function(){function r(){}return r.prototype.getTracer=function(t,e,a){return new Vo},r}()});var Hm,Hi,$S=p(()=>{"use strict";qS();JS();Hm=new ZS,Hi=function(){function r(){}return r.prototype.getTracer=function(t,e,a){var o;return(o=this.getDelegateTracer(t,e,a))!==null&&o!==void 0?o:new jS(this,t,e,a)},r.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Hm},r.prototype.setDelegate=function(t){this._delegate=t},r.prototype.getDelegateTracer=function(t,e,a){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,e,a)},r}()});var Ce,eA=p(()=>{"use strict";Ce=function(r){return r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",r}(Ce||{})});var qe,tA=p(()=>{"use strict";qe=function(r){return r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER",r}(qe||{})});var sr,rA=p(()=>{"use strict";sr=function(r){return r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR",r}(sr||{})});var U,aA=p(()=>{"use strict";Xr();U=dt.getInstance()});var R,oA=p(()=>{"use strict";bt();R=$.instance()});var Fm,nA,iA=p(()=>{"use strict";GS();Fm=function(){function r(){}return r.prototype.getMeter=function(t,e,a){return BS},r}(),nA=new Fm});var Fi,_A,sA=p(()=>{"use strict";iA();Vt();bt();Fi="metrics",_A=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(t){return Qe(Fi,t,$.instance())},r.prototype.getMeterProvider=function(){return ue(Fi)||nA},r.prototype.getMeter=function(t,e,a){return this.getMeterProvider().getMeter(t,e,a)},r.prototype.disable=function(){je(Fi,$.instance())},r}()});var jr,EA=p(()=>{"use strict";sA();jr=_A.getInstance()});var TA,SA=p(()=>{"use strict";TA=function(){function r(){}return r.prototype.inject=function(t,e){},r.prototype.extract=function(t,e){return t},r.prototype.fields=function(){return[]},r}()});function ki(r){return r.getValue(Ki)||void 0}function AA(){return ki(dt.getInstance().active())}function lA(r,t){return r.setValue(Ki,t)}function pA(r){return r.deleteValue(Ki)}var Ki,cA=p(()=>{"use strict";Xr();Wr();Ki=me("OpenTelemetry Baggage Key")});var Wi,Km,dA,uA=p(()=>{"use strict";Vt();SA();HS();cA();Ui();bt();Wi="propagation",Km=new TA,dA=function(){function r(){this.createBaggage=bS,this.getBaggage=ki,this.getActiveBaggage=AA,this.setBaggage=lA,this.deleteBaggage=pA}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(t){return Qe(Wi,t,$.instance())},r.prototype.inject=function(t,e,a){return a===void 0&&(a=wS),this._getGlobalPropagator().inject(t,e,a)},r.prototype.extract=function(t,e,a){return a===void 0&&(a=YS),this._getGlobalPropagator().extract(t,e,a)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){je(Wi,$.instance())},r.prototype._getGlobalPropagator=function(){return ue(Wi)||Km},r}()});var K,mA=p(()=>{"use strict";uA();K=dA.getInstance()});var Xi,RA,vA=p(()=>{"use strict";Vt();$S();yo();Gi();bt();Xi="trace",RA=function(){function r(){this._proxyTracerProvider=new Hi,this.wrapSpanContext=QS,this.isSpanContextValid=ne,this.deleteSpan=WS,this.getSpan=go,this.getActiveSpan=kS,this.getSpanContext=Uo,this.setSpan=Qr,this.setSpanContext=XS}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(t){var e=Qe(Xi,this._proxyTracerProvider,$.instance());return e&&this._proxyTracerProvider.setDelegate(t),e},r.prototype.getTracerProvider=function(){return ue(Xi)||this._proxyTracerProvider},r.prototype.getTracer=function(t,e){return this.getTracerProvider().getTracer(t,e)},r.prototype.disable=function(){je(Xi,$.instance()),this._proxyTracerProvider=new Hi},r}()});var D,OA=p(()=>{"use strict";vA();D=RA.getInstance()});var C=p(()=>{"use strict";Ui();Wr();Po();eA();tA();rA();bi();yo();Io();aA();oA();EA();mA();OA()});var UA=Cr(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.toAnyValue=Pe.toKeyValue=Pe.toAttributes=Pe.createInstrumentationScope=Pe.createResource=void 0;function oR(r){return{attributes:gA(r.attributes),droppedAttributesCount:0}}Pe.createResource=oR;function nR(r){return{name:r.name,version:r.version}}Pe.createInstrumentationScope=nR;function gA(r){return Object.keys(r).map(t=>Qi(t,r[t]))}Pe.toAttributes=gA;function Qi(r,t){return{key:r,value:ji(t)}}Pe.toKeyValue=Qi;function ji(r){let t=typeof r;return t==="string"?{stringValue:r}:t==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:t==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(ji)}}:t==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([e,a])=>Qi(e,a))}}:{}}Pe.toAnyValue=ji});function wo(r){return r.setValue(qi,!0)}function yA(r){return r.deleteValue(qi)}function Er(r){return r.getValue(qi)===!0}var qi,Jr=p(()=>{"use strict";C();qi=me("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var VA,Ho,Tr,Fo,bA,BA,GA,Zi=p(()=>{"use strict";VA="=",Ho=";",Tr=",",Fo="baggage",bA=180,BA=4096,GA=8192});function Ko(r){return r.reduce(function(t,e){var a=""+t+(t!==""?Tr:"")+e;return a.length>GA?t:a},"")}function ko(r){return r.getAllEntries().map(function(t){var e=iR(t,2),a=e[0],o=e[1],n=encodeURIComponent(a)+"="+encodeURIComponent(o.value);return o.metadata!==void 0&&(n+=Ho+o.metadata.toString()),n})}function $r(r){var t=r.split(Ho);if(!(t.length<=0)){var e=t.shift();if(e){var a=e.indexOf(VA);if(!(a<=0)){var o=decodeURIComponent(e.substring(0,a).trim()),n=decodeURIComponent(e.substring(a+1).trim()),i;return t.length>0&&(i=kr(t.join(Ho))),{key:o,value:n,metadata:i}}}}}function YA(r){return typeof r!="string"||r.length===0?{}:r.split(Tr).map(function(t){return $r(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,e){return t[e.key]=e.value,t},{})}var iR,Ji=p(()=>{"use strict";C();Zi();iR=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n}});var wA,HA=p(()=>{"use strict";C();Jr();Zi();Ji();wA=function(){function r(){}return r.prototype.inject=function(t,e,a){var o=K.getBaggage(t);if(!(!o||Er(t))){var n=ko(o).filter(function(_){return _.length<=BA}).slice(0,bA),i=Ko(n);i.length>0&&a.set(e,Fo,i)}},r.prototype.extract=function(t,e,a){var o=a.get(e,Fo),n=Array.isArray(o)?o.join(Tr):o;if(!n)return t;var i={};if(n.length===0)return t;var _=n.split(Tr);return _.forEach(function(s){var E=$r(s);if(E){var T={value:E.value};E.metadata&&(T.metadata=E.metadata),i[E.key]=T}}),Object.entries(i).length===0?t:K.setBaggage(t,K.createBaggage(i))},r.prototype.fields=function(){return[Fo]},r}()});var FA,KA=p(()=>{"use strict";FA=function(){function r(t,e){this._monotonicClock=e,this._epochMillis=t.now(),this._performanceMillis=e.now()}return r.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},r}()});function WA(r){var t,e,a={};if(typeof r!="object"||r==null)return a;try{for(var o=kA(Object.entries(r)),n=o.next();!n.done;n=o.next()){var i=_R(n.value,2),_=i[0],s=i[1];if(!$i(_)){R.warn("Invalid attribute key: "+_);continue}if(!e_(s)){R.warn("Invalid attribute value set for key: "+_);continue}Array.isArray(s)?a[_]=s.slice():a[_]=s}}catch(E){t={error:E}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return a}function $i(r){return typeof r=="string"&&r.length>0}function e_(r){return r==null?!0:Array.isArray(r)?sR(r):XA(r)}function sR(r){var t,e,a;try{for(var o=kA(r),n=o.next();!n.done;n=o.next()){var i=n.value;if(i!=null){if(!a){if(XA(i)){a=typeof i;continue}return!1}if(typeof i!==a)return!1}}}catch(_){t={error:_}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return!0}function XA(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var kA,_R,zA=p(()=>{"use strict";C();kA=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_R=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n}});function Wo(){return function(r){R.error(ER(r))}}function ER(r){return typeof r=="string"?r:JSON.stringify(TR(r))}function TR(r){for(var t={},e=r;e!==null;)Object.getOwnPropertyNames(e).forEach(function(a){if(!t[a]){var o=e[a];o&&(t[a]=String(o))}}),e=Object.getPrototypeOf(e);return t}var t_=p(()=>{"use strict";C()});function jA(r){QA=r}function Xo(r){try{QA(r)}catch{}}var QA,r_=p(()=>{"use strict";t_();QA=Wo()});var ea,a_=p(()=>{"use strict";ea=function(r){return r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio",r}(ea||{})});function lR(r){return AR.indexOf(r)>-1}function cR(r){return pR.indexOf(r)>-1}function uR(r){return dR.indexOf(r)>-1}function mR(r,t,e){if(!(typeof e[r]>"u")){var a=String(e[r]);t[r]=a.toLowerCase()==="true"}}function RR(r,t,e,a,o){if(a===void 0&&(a=-1/0),o===void 0&&(o=1/0),typeof e[r]<"u"){var n=Number(e[r]);isNaN(n)||(n<a?t[r]=a:n>o?t[r]=o:t[r]=n)}}function vR(r,t,e,a){a===void 0&&(a=SR);var o=e[r];typeof o=="string"&&(t[r]=o.split(a).map(function(n){return n.trim()}))}function NR(r,t,e){var a=e[r];if(typeof a=="string"){var o=OR[a.toUpperCase()];o!=null&&(t[r]=o)}}function oa(r){var t={};for(var e in aa){var a=e;switch(a){case"OTEL_LOG_LEVEL":NR(a,t,r);break;default:if(lR(a))mR(a,t,r);else if(cR(a))RR(a,t,r);else if(uR(a))vR(a,t,r);else{var o=r[a];typeof o<"u"&&o!==null&&(t[a]=String(o))}}}return t}var SR,AR,pR,dR,ta,ra,o_,n_,aa,OR,i_=p(()=>{"use strict";C();a_();SR=",",AR=["OTEL_SDK_DISABLED"];pR=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];dR=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];ta=1/0,ra=128,o_=128,n_=128,aa={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:g.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ta,OTEL_ATTRIBUTE_COUNT_LIMIT:ra,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ta,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ra,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ta,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ra,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:o_,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:n_,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:ea.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};OR={ALL:g.ALL,VERBOSE:g.VERBOSE,DEBUG:g.DEBUG,INFO:g.INFO,WARN:g.WARN,ERROR:g.ERROR,NONE:g.NONE}});var Sr,__=p(()=>{"use strict";Sr=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});function s_(){var r=oa(Sr);return Object.assign({},aa,r)}function E_(){return oa(Sr)}var qA=p(()=>{"use strict";i_();__()});function ZA(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function zo(r){for(var t=new Uint8Array(r.length/2),e=0,a=0;a<r.length;a+=2){var o=ZA(r.charCodeAt(a)),n=ZA(r.charCodeAt(a+1));t[e++]=o<<4|n}return t}var T_=p(()=>{"use strict"});function S_(r){return btoa(String.fromCharCode.apply(String,MR([],fR(zo(r)),!1)))}var fR,MR,JA=p(()=>{"use strict";T_();fR=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},MR=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))}});function $A(r){return function(){for(var e=0;e<r*2;e++)Qo[e]=Math.floor(Math.random()*16)+48,Qo[e]>=58&&(Qo[e]+=39);return String.fromCharCode.apply(null,Qo.slice(0,r*2))}}var CR,PR,A_,Qo,el=p(()=>{"use strict";CR=8,PR=16,A_=function(){function r(){this.generateTraceId=$A(PR),this.generateSpanId=$A(CR)}return r}(),Qo=Array(32)});var Gt,tl=p(()=>{"use strict";Gt=performance});var jo,l_=p(()=>{"use strict";jo="1.30.1"});var rl=p(()=>{"use strict"});var al=p(()=>{"use strict";rl()});var hR,LR,DR,IR,ol,nl,il,_l,xR,sl,El=p(()=>{"use strict";hR="process.runtime.name",LR="telemetry.sdk.name",DR="telemetry.sdk.language",IR="telemetry.sdk.version",ol=hR,nl=LR,il=DR,_l=IR,xR="webjs",sl=xR});var Tl=p(()=>{"use strict";El()});var Sl=p(()=>{"use strict"});var Al=p(()=>{"use strict"});var ll=p(()=>{"use strict";al();Tl();Sl();Al()});var Ar,p_,pl=p(()=>{"use strict";l_();ll();p_=(Ar={},Ar[nl]="opentelemetry",Ar[ol]="browser",Ar[il]=sl,Ar[_l]=jo,Ar)});function c_(r){}var cl=p(()=>{"use strict"});var d_=p(()=>{"use strict";qA();__();JA();el();tl();pl();cl()});function lr(r){var t=r/1e3,e=Math.trunc(t),a=Math.round(r%1e3*UR);return[e,a]}function Zo(){var r=Gt.timeOrigin;if(typeof r!="number"){var t=Gt;r=t.timing&&t.timing.fetchStart}return r}function u_(r){var t=lr(Zo()),e=lr(typeof r=="number"?r:Gt.now());return m_(t,e)}function ul(r){if(Jo(r))return r;if(typeof r=="number")return r<Zo()?u_(r):lr(r);if(r instanceof Date)return lr(r.getTime());throw TypeError("Invalid input type")}function ml(r,t){var e=t[0]-r[0],a=t[1]-r[1];return a<0&&(e-=1,a+=qo),[e,a]}function Rl(r){var t=dl,e=""+"0".repeat(t)+r[1]+"Z",a=e.substring(e.length-t-1),o=new Date(r[0]*1e3).toISOString();return o.replace("000Z",a)}function vl(r){return r[0]*qo+r[1]}function Ol(r){return r[0]*1e3+r[1]/1e6}function Nl(r){return r[0]*1e6+r[1]/1e3}function Jo(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function fl(r){return Jo(r)||typeof r=="number"||r instanceof Date}function m_(r,t){var e=[r[0]+t[0],r[1]+t[1]];return e[1]>=qo&&(e[1]-=qo,e[0]+=1),e}var dl,gR,UR,qo,Ml=p(()=>{"use strict";d_();dl=9,gR=6,UR=Math.pow(10,gR),qo=Math.pow(10,dl)});var R_,Cl=p(()=>{"use strict";R_=function(r){return r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r}(R_||{})});var yR,Pl,hl=p(()=>{"use strict";C();yR=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pl=function(){function r(t){t===void 0&&(t={});var e;this._propagators=(e=t.propagators)!==null&&e!==void 0?e:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return typeof a.fields=="function"?a.fields():[]}).reduce(function(a,o){return a.concat(o)},[])))}return r.prototype.inject=function(t,e,a){var o,n;try{for(var i=yR(this._propagators),_=i.next();!_.done;_=i.next()){var s=_.value;try{s.inject(t,e,a)}catch(E){R.warn("Failed to inject with "+s.constructor.name+". Err: "+E.message)}}}catch(E){o={error:E}}finally{try{_&&!_.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}},r.prototype.extract=function(t,e,a){return this._propagators.reduce(function(o,n){try{return n.extract(o,e,a)}catch(i){R.warn("Failed to extract with "+n.constructor.name+". Err: "+i.message)}return o},t)},r.prototype.fields=function(){return this._fields.slice()},r}()});function Ll(r){return BR.test(r)}function Dl(r){return GR.test(r)&&!YR.test(r)}var v_,VR,bR,BR,GR,YR,Il=p(()=>{"use strict";v_="[_0-9a-z-*/]",VR="[a-z]"+v_+"{0,255}",bR="[a-z0-9]"+v_+"{0,240}@[a-z]"+v_+"{0,13}",BR=new RegExp("^(?:"+VR+"|"+bR+")$"),GR=/^[ -~]{0,255}[!-~]$/,YR=/,|=/});var xl,wR,gl,Ul,$o,O_=p(()=>{"use strict";Il();xl=32,wR=512,gl=",",Ul="=",$o=function(){function r(t){this._internalState=new Map,t&&this._parse(t)}return r.prototype.set=function(t,e){var a=this._clone();return a._internalState.has(t)&&a._internalState.delete(t),a._internalState.set(t,e),a},r.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},r.prototype.get=function(t){return this._internalState.get(t)},r.prototype.serialize=function(){var t=this;return this._keys().reduce(function(e,a){return e.push(a+Ul+t.get(a)),e},[]).join(gl)},r.prototype._parse=function(t){t.length>wR||(this._internalState=t.split(gl).reverse().reduce(function(e,a){var o=a.trim(),n=o.indexOf(Ul);if(n!==-1){var i=o.slice(0,n),_=o.slice(n+1,a.length);Ll(i)&&Dl(_)&&e.set(i,_)}return e},new Map),this._internalState.size>xl&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,xl))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var t=new r;return t._internalState=new Map(this._internalState),t},r}()});function N_(r){var t=XR.exec(r);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var na,ia,HR,FR,KR,kR,WR,XR,yl,Vl=p(()=>{"use strict";C();Jr();O_();na="traceparent",ia="tracestate",HR="00",FR="(?!ff)[\\da-f]{2}",KR="(?![0]{32})[\\da-f]{32}",kR="(?![0]{16})[\\da-f]{16}",WR="[\\da-f]{2}",XR=new RegExp("^\\s?("+FR+")-("+KR+")-("+kR+")-("+WR+")(-.*)?\\s?$");yl=function(){function r(){}return r.prototype.inject=function(t,e,a){var o=D.getSpanContext(t);if(!(!o||Er(t)||!ne(o))){var n=HR+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||H.NONE).toString(16);a.set(e,na,n),o.traceState&&a.set(e,ia,o.traceState.serialize())}},r.prototype.extract=function(t,e,a){var o=a.get(e,na);if(!o)return t;var n=Array.isArray(o)?o[0]:o;if(typeof n!="string")return t;var i=N_(n);if(!i)return t;i.isRemote=!0;var _=a.get(e,ia);if(_){var s=Array.isArray(_)?_.join(","):_;i.traceState=new $o(typeof s=="string"?s:void 0)}return D.setSpanContext(t,i)},r.prototype.fields=function(){return[na,ia]},r}()});function bl(r,t){return r.setValue(f_,t)}function Bl(r){return r.deleteValue(f_)}function Gl(r){return r.getValue(f_)}var f_,M_,Yl=p(()=>{"use strict";C();f_=me("OpenTelemetry SDK Context Key RPC_METADATA"),M_=function(r){return r.HTTP="http",r}(M_||{})});var _a,C_=p(()=>{"use strict";C();_a=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:Ce.NOT_RECORD}},r.prototype.toString=function(){return"AlwaysOffSampler"},r}()});var pr,P_=p(()=>{"use strict";C();pr=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:Ce.RECORD_AND_SAMPLED}},r.prototype.toString=function(){return"AlwaysOnSampler"},r}()});var wl,Hl=p(()=>{"use strict";C();r_();C_();P_();wl=function(){function r(t){var e,a,o,n;this._root=t.root,this._root||(Xo(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new pr),this._remoteParentSampled=(e=t.remoteParentSampled)!==null&&e!==void 0?e:new pr,this._remoteParentNotSampled=(a=t.remoteParentNotSampled)!==null&&a!==void 0?a:new _a,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new pr,this._localParentNotSampled=(n=t.localParentNotSampled)!==null&&n!==void 0?n:new _a}return r.prototype.shouldSample=function(t,e,a,o,n,i){var _=D.getSpanContext(t);return!_||!ne(_)?this._root.shouldSample(t,e,a,o,n,i):_.isRemote?_.traceFlags&H.SAMPLED?this._remoteParentSampled.shouldSample(t,e,a,o,n,i):this._remoteParentNotSampled.shouldSample(t,e,a,o,n,i):_.traceFlags&H.SAMPLED?this._localParentSampled.shouldSample(t,e,a,o,n,i):this._localParentNotSampled.shouldSample(t,e,a,o,n,i)},r.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},r}()});var Fl,Kl=p(()=>{"use strict";C();Fl=function(){function r(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return r.prototype.shouldSample=function(t,e){return{decision:_r(e)&&this._accumulate(e)<this._upperBound?Ce.RECORD_AND_SAMPLED:Ce.NOT_RECORD}},r.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},r.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},r.prototype._accumulate=function(t){for(var e=0,a=0;a<t.length/8;a++){var o=a*8,n=parseInt(t.slice(o,o+8),16);e=(e^n)>>>0}return e},r}()});function $R(r,t){return function(e){return r(t(e))}}function h_(r){if(!ev(r)||tv(r)!==zR)return!1;var t=JR(r);if(t===null)return!0;var e=Xl.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&kl.call(e)===ZR}function ev(r){return r!=null&&typeof r=="object"}function tv(r){return r==null?r===void 0?jR:QR:Yt&&Yt in Object(r)?rv(r):av(r)}function rv(r){var t=Xl.call(r,Yt),e=r[Yt],a=!1;try{r[Yt]=void 0,a=!0}catch{}var o=zl.call(r);return a&&(t?r[Yt]=e:delete r[Yt]),o}function av(r){return zl.call(r)}var zR,QR,jR,qR,kl,ZR,JR,Wl,Xl,Yt,zl,Ql=p(()=>{"use strict";zR="[object Object]",QR="[object Null]",jR="[object Undefined]",qR=Function.prototype,kl=qR.toString,ZR=kl.call(Object),JR=$R(Object.getPrototypeOf,Object),Wl=Object.prototype,Xl=Wl.hasOwnProperty,Yt=Symbol?Symbol.toStringTag:void 0,zl=Wl.toString});function ql(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.shift(),a=new WeakMap;r.length>0;)e=Zl(e,r.shift(),0,a);return e}function L_(r){return tn(r)?r.slice():r}function Zl(r,t,e,a){e===void 0&&(e=0);var o;if(!(e>ov)){if(e++,en(r)||en(t)||Jl(t))o=L_(t);else if(tn(r)){if(o=r.slice(),tn(t))for(var n=0,i=t.length;n<i;n++)o.push(L_(t[n]));else if(sa(t))for(var _=Object.keys(t),n=0,i=_.length;n<i;n++){var s=_[n];o[s]=L_(t[s])}}else if(sa(r))if(sa(t)){if(!nv(r,t))return t;o=Object.assign({},r);for(var _=Object.keys(t),n=0,i=_.length;n<i;n++){var s=_[n],E=t[s];if(en(E))typeof E>"u"?delete o[s]:o[s]=E;else{var T=o[s],S=E;if(jl(r,s,a)||jl(t,s,a))delete o[s];else{if(sa(T)&&sa(S)){var A=a.get(T)||[],c=a.get(S)||[];A.push({obj:r,key:s}),c.push({obj:t,key:s}),a.set(T,A),a.set(S,c)}o[s]=Zl(o[s],E,e,a)}}}}else o=t;return o}}function jl(r,t,e){for(var a=e.get(r[t])||[],o=0,n=a.length;o<n;o++){var i=a[o];if(i.key===t&&i.obj===r)return!0}return!1}function tn(r){return Array.isArray(r)}function Jl(r){return typeof r=="function"}function sa(r){return!en(r)&&!tn(r)&&!Jl(r)&&typeof r=="object"}function en(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function nv(r,t){return!(!h_(r)||!h_(t))}var ov,$l=p(()=>{"use strict";Ql();ov=20});function ep(r,t){var e,a=new Promise(function(n,i){e=setTimeout(function(){i(new D_("Operation timed out."))},t)});return Promise.race([r,a]).then(function(o){return clearTimeout(e),o},function(o){throw clearTimeout(e),o})}var iv,D_,tp=p(()=>{"use strict";iv=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),D_=function(r){iv(t,r);function t(e){var a=r.call(this,e)||this;return Object.setPrototypeOf(a,t.prototype),a}return t}(Error)});function I_(r,t){return typeof t=="string"?r===t:!!r.match(t)}function rp(r,t){var e,a;if(!t)return!1;try{for(var o=_v(t),n=o.next();!n.done;n=o.next()){var i=n.value;if(I_(r,i))return!0}}catch(_){e={error:_}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}return!1}var _v,ap=p(()=>{"use strict";_v=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}});function op(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var np=p(()=>{"use strict"});var ip,_p=p(()=>{"use strict";ip=function(){function r(){var t=this;this._promise=new Promise(function(e,a){t._resolve=e,t._reject=a})}return Object.defineProperty(r.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),r.prototype.resolve=function(t){this._resolve(t)},r.prototype.reject=function(t){this._reject(t)},r}()});var sv,Ev,sp,Ep=p(()=>{"use strict";_p();sv=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},Ev=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},sp=function(){function r(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new ip}return Object.defineProperty(r.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),r.prototype.call=function(){for(var t,e=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,Ev([this._that],sv(a),!1))).then(function(n){return e._deferred.resolve(n)},function(n){return e._deferred.reject(n)})}catch(n){this._deferred.reject(n)}}return this._deferred.promise},r}()});function Tp(r,t){return new Promise(function(e){U.with(wo(U.active()),function(){r.export(t,function(a){e(a)})})})}var Sp=p(()=>{"use strict";C();Jr()});var Ap={};dd(Ap,{AlwaysOffSampler:()=>_a,AlwaysOnSampler:()=>pr,AnchoredClock:()=>FA,BindOnceFuture:()=>sp,CompositePropagator:()=>Pl,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>ra,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>ta,DEFAULT_ENVIRONMENT:()=>aa,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>o_,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>n_,ExportResultCode:()=>R_,ParentBasedSampler:()=>wl,RPCType:()=>M_,RandomIdGenerator:()=>A_,SDK_INFO:()=>p_,TRACE_PARENT_HEADER:()=>na,TRACE_STATE_HEADER:()=>ia,TimeoutError:()=>D_,TraceIdRatioBasedSampler:()=>Fl,TraceState:()=>$o,TracesSamplerValues:()=>ea,VERSION:()=>jo,W3CBaggagePropagator:()=>wA,W3CTraceContextPropagator:()=>yl,_globalThis:()=>Sr,addHrTimes:()=>m_,baggageUtils:()=>Tv,callWithTimeout:()=>ep,deleteRPCMetadata:()=>Bl,getEnv:()=>s_,getEnvWithoutDefaults:()=>E_,getRPCMetadata:()=>Gl,getTimeOrigin:()=>Zo,globalErrorHandler:()=>Xo,hexToBase64:()=>S_,hexToBinary:()=>zo,hrTime:()=>u_,hrTimeDuration:()=>ml,hrTimeToMicroseconds:()=>Nl,hrTimeToMilliseconds:()=>Ol,hrTimeToNanoseconds:()=>vl,hrTimeToTimeStamp:()=>Rl,internal:()=>Sv,isAttributeKey:()=>$i,isAttributeValue:()=>e_,isTimeInput:()=>fl,isTimeInputHrTime:()=>Jo,isTracingSuppressed:()=>Er,isUrlIgnored:()=>rp,isWrapped:()=>op,loggingErrorHandler:()=>Wo,merge:()=>ql,millisToHrTime:()=>lr,otperformance:()=>Gt,parseEnvironment:()=>oa,parseTraceParent:()=>N_,sanitizeAttributes:()=>WA,setGlobalErrorHandler:()=>jA,setRPCMetadata:()=>bl,suppressTracing:()=>wo,timeInputToHrTime:()=>ul,unrefTimer:()=>c_,unsuppressTracing:()=>yA,urlMatches:()=>I_});var Tv,Sv,lp=p(()=>{"use strict";HA();KA();zA();r_();t_();Ml();T_();Cl();Ji();d_();hl();Vl();Yl();C_();P_();Hl();Kl();Jr();O_();i_();$l();a_();tp();ap();np();Ep();l_();Sp();Tv={getKeyPairs:ko,serializeKeyPairs:Ko,parseKeyPairsIntoRecord:YA,parsePairKeyValue:$r},Sv={_export:Tp}});var mp=Cr(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.getOtlpEncoder=he.encodeAsString=he.encodeAsLongBits=he.toLongBits=he.hrTimeToNanos=void 0;var rn=(lp(),ud(Ap));function x_(r){let t=BigInt(1e9);return BigInt(r[0])*t+BigInt(r[1])}he.hrTimeToNanos=x_;function cp(r){let t=Number(BigInt.asUintN(32,r)),e=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:t,high:e}}he.toLongBits=cp;function g_(r){let t=x_(r);return cp(t)}he.encodeAsLongBits=g_;function dp(r){return x_(r).toString()}he.encodeAsString=dp;var Av=typeof BigInt<"u"?dp:rn.hrTimeToNanoseconds;function pp(r){return r}function up(r){if(r!==void 0)return(0,rn.hexToBinary)(r)}var lv={encodeHrTime:g_,encodeSpanContext:rn.hexToBinary,encodeOptionalSpanContext:up};function pv(r){var t,e;if(r===void 0)return lv;let a=(t=r.useLongBits)!==null&&t!==void 0?t:!0,o=(e=r.useHex)!==null&&e!==void 0?e:!1;return{encodeHrTime:a?g_:Av,encodeSpanContext:o?pp:rn.hexToBinary,encodeOptionalSpanContext:o?pp:up}}he.getOtlpEncoder=pv});var Np=Cr(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.createExportTraceServiceRequest=Ze.toOtlpSpanEvent=Ze.toOtlpLink=Ze.sdkSpanToOtlpSpan=void 0;var Ea=UA(),cv=mp();function Rp(r,t){var e;let a=r.spanContext(),o=r.status;return{traceId:t.encodeSpanContext(a.traceId),spanId:t.encodeSpanContext(a.spanId),parentSpanId:t.encodeOptionalSpanContext(r.parentSpanId),traceState:(e=a.traceState)===null||e===void 0?void 0:e.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:t.encodeHrTime(r.startTime),endTimeUnixNano:t.encodeHrTime(r.endTime),attributes:(0,Ea.toAttributes)(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(n=>Op(n,t)),droppedEventsCount:r.droppedEventsCount,status:{code:o.code,message:o.message},links:r.links.map(n=>vp(n,t)),droppedLinksCount:r.droppedLinksCount}}Ze.sdkSpanToOtlpSpan=Rp;function vp(r,t){var e;return{attributes:r.attributes?(0,Ea.toAttributes)(r.attributes):[],spanId:t.encodeSpanContext(r.context.spanId),traceId:t.encodeSpanContext(r.context.traceId),traceState:(e=r.context.traceState)===null||e===void 0?void 0:e.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}Ze.toOtlpLink=vp;function Op(r,t){return{attributes:r.attributes?(0,Ea.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:t.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}Ze.toOtlpSpanEvent=Op;function dv(r,t){let e=(0,cv.getOtlpEncoder)(t);return{resourceSpans:mv(r,e)}}Ze.createExportTraceServiceRequest=dv;function uv(r){let t=new Map;for(let e of r){let a=t.get(e.resource);a||(a=new Map,t.set(e.resource,a));let o=`${e.instrumentationLibrary.name}@${e.instrumentationLibrary.version||""}:${e.instrumentationLibrary.schemaUrl||""}`,n=a.get(o);n||(n=[],a.set(o,n)),n.push(e)}return t}function mv(r,t){let e=uv(r),a=[],o=e.entries(),n=o.next();for(;!n.done;){let[i,_]=n.value,s=[],E=_.values(),T=E.next();for(;!T.done;){let A=T.value;if(A.length>0){let c=A.map(d=>Rp(d,t));s.push({scope:(0,Ea.createInstrumentationScope)(A[0].instrumentationLibrary),spans:c,schemaUrl:A[0].instrumentationLibrary.schemaUrl})}T=E.next()}let S={resource:(0,Ea.createResource)(i),scopeSpans:s,schemaUrl:void 0};a.push(S),n=o.next()}return a}});var fp=Cr(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.ESpanKind=void 0;var Rv;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(Rv=Ta.ESpanKind||(Ta.ESpanKind={}))});var Yp=Cr((yx,Gp)=>{"use strict";function G_(r){return typeof r=="function"}var ie=console.error.bind(console);function Aa(r,t,e){var a=!!r[t]&&r.propertyIsEnumerable(t);Object.defineProperty(r,t,{configurable:!0,enumerable:a,writable:!0,value:e})}function la(r){r&&r.logger&&(G_(r.logger)?ie=r.logger:ie("new logger isn't a function, not replacing"))}function bp(r,t,e){if(!r||!r[t]){ie("no original function "+t+" to wrap");return}if(!e){ie("no wrapper function"),ie(new Error().stack);return}if(!G_(r[t])||!G_(e)){ie("original object and wrapper must be functions");return}var a=r[t],o=e(a,t);return Aa(o,"__original",a),Aa(o,"__unwrap",function(){r[t]===o&&Aa(r,t,a)}),Aa(o,"__wrapped",!0),Aa(r,t,o),o}function Nv(r,t,e){if(r)Array.isArray(r)||(r=[r]);else{ie("must provide one or more modules to patch"),ie(new Error().stack);return}if(!(t&&Array.isArray(t))){ie("must provide one or more functions to wrap on modules");return}r.forEach(function(a){t.forEach(function(o){bp(a,o,e)})})}function Bp(r,t){if(!r||!r[t]){ie("no function to unwrap."),ie(new Error().stack);return}if(!r[t].__unwrap)ie("no original to unwrap to -- has "+t+" already been unwrapped?");else return r[t].__unwrap()}function fv(r,t){if(r)Array.isArray(r)||(r=[r]);else{ie("must provide one or more modules to patch"),ie(new Error().stack);return}if(!(t&&Array.isArray(t))){ie("must provide one or more functions to unwrap on modules");return}r.forEach(function(e){t.forEach(function(a){Bp(e,a)})})}la.wrap=bp;la.massWrap=Nv;la.unwrap=Bp;la.massUnwrap=fv;Gp.exports=la});var tT=[{path:"blog",loadChildren:()=>import("./chunk-5FQY3V2I.js")},{path:"query",loadChildren:()=>import("./chunk-AUCTZJUJ.js")},{path:"",redirectTo:"blog",pathMatch:"full"}];var ro=class extends Js{serialize(t){return this._withTrailingSlash(super.serialize(t))}_withTrailingSlash(t){let e=t.indexOf("?")>-1?"?":"#",a=t.split(e);return a[0].endsWith("/")||t.substring(t.lastIndexOf("/")+1).indexOf(".")===-1&&(a[0]+="/"),a.join(e)}};var h=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(h||{}),Ve="*";function rT(r,t=null){return{type:h.Sequence,steps:r,options:t}}function Zn(r){return{type:h.Style,styles:r,offset:null}}var nt=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(a=>a()),e.length=0}},rr=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,a=0,o=0,n=this.players.length;n==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(i=>{i.onDone(()=>{++e==n&&this._onFinish()}),i.onDestroy(()=>{++a==n&&this._onDestroy()}),i.onStart(()=>{++o==n&&this._onStart()})}),this.totalTime=this.players.reduce((i,_)=>Math.max(i,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(a=>{let o=a.totalTime?Math.min(1,e/a.totalTime):1;a.setPosition(o)})}getPosition(){let t=this.players.reduce((e,a)=>e===null||a.totalTime>e.totalTime?a:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(a=>a()),e.length=0}},gr="!";function aT(r){return new x(3e3,!1)}function md(){return new x(3100,!1)}function Rd(){return new x(3101,!1)}function vd(r){return new x(3001,!1)}function Od(r){return new x(3003,!1)}function Nd(r){return new x(3004,!1)}function nT(r,t){return new x(3005,!1)}function iT(){return new x(3006,!1)}function _T(){return new x(3007,!1)}function sT(r,t){return new x(3008,!1)}function ET(r){return new x(3002,!1)}function TT(r,t,e,a,o){return new x(3010,!1)}function ST(){return new x(3011,!1)}function AT(){return new x(3012,!1)}function lT(){return new x(3200,!1)}function pT(){return new x(3202,!1)}function cT(){return new x(3013,!1)}function dT(r){return new x(3014,!1)}function uT(r){return new x(3015,!1)}function mT(r){return new x(3016,!1)}function RT(r,t){return new x(3404,!1)}function fd(r){return new x(3502,!1)}function vT(r){return new x(3503,!1)}function OT(){return new x(3300,!1)}function NT(r){return new x(3504,!1)}function fT(r){return new x(3301,!1)}function MT(r,t){return new x(3302,!1)}function CT(r){return new x(3303,!1)}function PT(r,t){return new x(3400,!1)}function hT(r){return new x(3401,!1)}function LT(r){return new x(3402,!1)}function DT(r,t){return new x(3505,!1)}function it(r){switch(r.length){case 0:return new nt;case 1:return r[0];default:return new rr(r)}}function ti(r,t,e=new Map,a=new Map){let o=[],n=[],i=-1,_=null;if(t.forEach(s=>{let E=s.get("offset"),T=E==i,S=T&&_||new Map;s.forEach((A,c)=>{let d=c,u=A;if(c!=="offset")switch(d=r.normalizePropertyName(d,o),u){case gr:u=e.get(c);break;case Ve:u=a.get(c);break;default:u=r.normalizeStyleValue(c,d,u,o);break}S.set(d,u)}),T||n.push(S),_=S,i=E}),o.length)throw fd(o);return n}function ao(r,t,e,a){switch(t){case"start":r.onStart(()=>a(e&&Jn(e,"start",r)));break;case"done":r.onDone(()=>a(e&&Jn(e,"done",r)));break;case"destroy":r.onDestroy(()=>a(e&&Jn(e,"destroy",r)));break}}function Jn(r,t,e){let a=e.totalTime,o=!!e.disabled,n=oo(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,a??r.totalTime,o),i=r._data;return i!=null&&(n._data=i),n}function oo(r,t,e,a,o="",n=0,i){return{element:r,triggerName:t,fromState:e,toState:a,phaseName:o,totalTime:n,disabled:!!i}}function Se(r,t,e){let a=r.get(t);return a||r.set(t,a=e),a}function ri(r){let t=r.indexOf(":"),e=r.substring(1,t),a=r.slice(t+1);return[e,a]}var Md=typeof document>"u"?null:document.documentElement;function no(r){let t=r.parentNode||r.host||null;return t===Md?null:t}function Cd(r){return r.substring(1,6)=="ebkit"}var xt=null,oT=!1;function IT(r){xt||(xt=Pd()||{},oT=xt.style?"WebkitAppearance"in xt.style:!1);let t=!0;return xt.style&&!Cd(r)&&(t=r in xt.style,!t&&oT&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in xt.style)),t}function Pd(){return typeof document<"u"?document.body:null}function ai(r,t){for(;t;){if(t===r)return!0;t=no(t)}return!1}function oi(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let a=r.querySelector(t);return a?[a]:[]}var hd=1e3,ni="{{",Ld="}}",ii="ng-enter",io="ng-leave",Ur="ng-trigger",yr=".ng-trigger",_i="ng-animating",_o=".ng-animating";function ze(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$n(parseFloat(t[1]),t[2])}function $n(r,t){switch(t){case"s":return r*hd;default:return r}}function Vr(r,t,e){return r.hasOwnProperty("duration")?r:Dd(r,t,e)}function Dd(r,t,e){let a=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,n=0,i="";if(typeof r=="string"){let _=r.match(a);if(_===null)return t.push(aT(r)),{duration:0,delay:0,easing:""};o=$n(parseFloat(_[1]),_[2]);let s=_[3];s!=null&&(n=$n(parseFloat(s),_[4]));let E=_[5];E&&(i=E)}else o=r;if(!e){let _=!1,s=t.length;o<0&&(t.push(md()),_=!0),n<0&&(t.push(Rd()),_=!0),_&&t.splice(s,0,aT(r))}return{duration:o,delay:n,easing:i}}function xT(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function be(r,t,e){t.forEach((a,o)=>{let n=so(o);e&&!e.has(o)&&e.set(o,r.style[n]),r.style[n]=a})}function ct(r,t){t.forEach((e,a)=>{let o=so(a);r.style[o]=""})}function ar(r){return Array.isArray(r)?r.length==1?r[0]:rT(r):r}function gT(r,t,e){let a=t.params||{},o=si(r);o.length&&o.forEach(n=>{a.hasOwnProperty(n)||e.push(vd(n))})}var ei=new RegExp(`${ni}\\s*(.+?)\\s*${Ld}`,"g");function si(r){let t=[];if(typeof r=="string"){let e;for(;e=ei.exec(r);)t.push(e[1]);ei.lastIndex=0}return t}function or(r,t,e){let a=`${r}`,o=a.replace(ei,(n,i)=>{let _=t[i];return _==null&&(e.push(Od(i)),_=""),_.toString()});return o==a?r:o}var Id=/-+([a-z0-9])/g;function so(r){return r.replace(Id,(...t)=>t[1].toUpperCase())}function UT(r,t){return r===0||t===0}function yT(r,t,e){if(e.size&&t.length){let a=t[0],o=[];if(e.forEach((n,i)=>{a.has(i)||o.push(i),a.set(i,n)}),o.length)for(let n=1;n<t.length;n++){let i=t[n];o.forEach(_=>i.set(_,Eo(r,_)))}}return t}function Ae(r,t,e){switch(t.type){case h.Trigger:return r.visitTrigger(t,e);case h.State:return r.visitState(t,e);case h.Transition:return r.visitTransition(t,e);case h.Sequence:return r.visitSequence(t,e);case h.Group:return r.visitGroup(t,e);case h.Animate:return r.visitAnimate(t,e);case h.Keyframes:return r.visitKeyframes(t,e);case h.Style:return r.visitStyle(t,e);case h.Reference:return r.visitReference(t,e);case h.AnimateChild:return r.visitAnimateChild(t,e);case h.AnimateRef:return r.visitAnimateRef(t,e);case h.Query:return r.visitQuery(t,e);case h.Stagger:return r.visitStagger(t,e);default:throw Nd(t.type)}}function Eo(r,t){return window.getComputedStyle(r)[t]}var Ci=(()=>{class r{validateStyleProperty(e){return IT(e)}containsElement(e,a){return ai(e,a)}getParentElement(e){return no(e)}query(e,a,o){return oi(e,a,o)}computeStyle(e,a,o){return o||""}animate(e,a,o,n,i,_=[],s){return new nt(o,n)}static \u0275fac=function(a){return new(a||r)};static \u0275prov=qt({token:r,factory:r.\u0275fac})}return r})(),Ut=class{static NOOP=new Ci},yt=class{};var xd=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),po=class extends yt{normalizePropertyName(t,e){return so(t)}normalizeStyleValue(t,e,a,o){let n="",i=a.toString().trim();if(xd.has(e)&&a!==0&&a!=="0")if(typeof a=="number")n="px";else{let _=a.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&_[1].length==0&&o.push(nT(t,a))}return i+n}};var co="*";function gd(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(a=>Ud(a,e,t)):e.push(r),e}function Ud(r,t,e){if(r[0]==":"){let s=yd(r,e);if(typeof s=="function"){t.push(s);return}r=s}let a=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(a==null||a.length<4)return e.push(uT(r)),t;let o=a[1],n=a[2],i=a[3];t.push(VT(o,i));let _=o==co&&i==co;n[0]=="<"&&!_&&t.push(VT(i,o))}function yd(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,a)=>parseFloat(a)>parseFloat(e);case":decrement":return(e,a)=>parseFloat(a)<parseFloat(e);default:return t.push(mT(r)),"* => *"}}var To=new Set(["true","1"]),So=new Set(["false","0"]);function VT(r,t){let e=To.has(r)||So.has(r),a=To.has(t)||So.has(t);return(o,n)=>{let i=r==co||r==o,_=t==co||t==n;return!i&&e&&typeof o=="boolean"&&(i=o?To.has(r):So.has(r)),!_&&a&&typeof n=="boolean"&&(_=n?To.has(t):So.has(t)),i&&_}}var WT=":self",Vd=new RegExp(`s*${WT}s*,?`,"g");function XT(r,t,e,a){return new pi(r).build(t,e,a)}var bT="",pi=class{_driver;constructor(t){this._driver=t}build(t,e,a){let o=new ci(e);return this._resetContextStyleTimingState(o),Ae(this,ar(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector=bT,t.collectedStyles=new Map,t.collectedStyles.set(bT,new Map),t.currentTime=0}visitTrigger(t,e){let a=e.queryCount=0,o=e.depCount=0,n=[],i=[];return t.name.charAt(0)=="@"&&e.errors.push(iT()),t.definitions.forEach(_=>{if(this._resetContextStyleTimingState(e),_.type==h.State){let s=_,E=s.name;E.toString().split(/\s*,\s*/).forEach(T=>{s.name=T,n.push(this.visitState(s,e))}),s.name=E}else if(_.type==h.Transition){let s=this.visitTransition(_,e);a+=s.queryCount,o+=s.depCount,i.push(s)}else e.errors.push(_T())}),{type:h.Trigger,name:t.name,states:n,transitions:i,queryCount:a,depCount:o,options:null}}visitState(t,e){let a=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(a.containsDynamicStyles){let n=new Set,i=o||{};a.styles.forEach(_=>{_ instanceof Map&&_.forEach(s=>{si(s).forEach(E=>{i.hasOwnProperty(E)||n.add(E)})})}),n.size&&e.errors.push(sT(t.name,[...n.values()]))}return{type:h.State,name:t.name,style:a,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let a=Ae(this,ar(t.animation),e),o=gd(t.expr,e.errors);return{type:h.Transition,matchers:o,animation:a,queryCount:e.queryCount,depCount:e.depCount,options:gt(t.options)}}visitSequence(t,e){return{type:h.Sequence,steps:t.steps.map(a=>Ae(this,a,e)),options:gt(t.options)}}visitGroup(t,e){let a=e.currentTime,o=0,n=t.steps.map(i=>{e.currentTime=a;let _=Ae(this,i,e);return o=Math.max(o,e.currentTime),_});return e.currentTime=o,{type:h.Group,steps:n,options:gt(t.options)}}visitAnimate(t,e){let a=Yd(t.timings,e.errors);e.currentAnimateTimings=a;let o,n=t.styles?t.styles:Zn({});if(n.type==h.Keyframes)o=this.visitKeyframes(n,e);else{let i=t.styles,_=!1;if(!i){_=!0;let E={};a.easing&&(E.easing=a.easing),i=Zn(E)}e.currentTime+=a.duration+a.delay;let s=this.visitStyle(i,e);s.isEmptyStep=_,o=s}return e.currentAnimateTimings=null,{type:h.Animate,timings:a,style:o,options:null}}visitStyle(t,e){let a=this._makeStyleAst(t,e);return this._validateStyleAst(a,e),a}_makeStyleAst(t,e){let a=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let _ of o)typeof _=="string"?_===Ve?a.push(_):e.errors.push(ET(_)):a.push(new Map(Object.entries(_)));let n=!1,i=null;return a.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(i=_.get("easing"),_.delete("easing")),!n)){for(let s of _.values())if(s.toString().indexOf(ni)>=0){n=!0;break}}}),{type:h.Style,styles:a,easing:i,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){let a=e.currentAnimateTimings,o=e.currentTime,n=e.currentTime;a&&n>0&&(n-=a.duration+a.delay),t.styles.forEach(i=>{typeof i!="string"&&i.forEach((_,s)=>{let E=e.collectedStyles.get(e.currentQuerySelector),T=E.get(s),S=!0;T&&(n!=o&&n>=T.startTime&&o<=T.endTime&&(e.errors.push(TT(s,T.startTime,T.endTime,n,o)),S=!1),n=T.startTime),S&&E.set(s,{startTime:n,endTime:o}),e.options&&gT(_,e.options,e.errors)})})}visitKeyframes(t,e){let a={type:h.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(ST()),a;let o=1,n=0,i=[],_=!1,s=!1,E=0,T=t.steps.map(O=>{let P=this._makeStyleAst(O,e),V=P.offset!=null?P.offset:Gd(P.styles),Y=0;return V!=null&&(n++,Y=P.offset=V),s=s||Y<0||Y>1,_=_||Y<E,E=Y,i.push(Y),P});s&&e.errors.push(AT()),_&&e.errors.push(lT());let S=t.steps.length,A=0;n>0&&n<S?e.errors.push(pT()):n==0&&(A=o/(S-1));let c=S-1,d=e.currentTime,u=e.currentAnimateTimings,L=u.duration;return T.forEach((O,P)=>{let V=A>0?P==c?1:A*P:i[P],Y=V*L;e.currentTime=d+u.delay+Y,u.duration=Y,this._validateStyleAst(O,e),O.offset=V,a.styles.push(O)}),a}visitReference(t,e){return{type:h.Reference,animation:Ae(this,ar(t.animation),e),options:gt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:h.AnimateChild,options:gt(t.options)}}visitAnimateRef(t,e){return{type:h.AnimateRef,animation:this.visitReference(t.animation,e),options:gt(t.options)}}visitQuery(t,e){let a=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;let[n,i]=bd(t.selector);e.currentQuerySelector=a.length?a+" "+n:n,Se(e.collectedStyles,e.currentQuerySelector,new Map);let _=Ae(this,ar(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=a,{type:h.Query,selector:n,limit:o.limit||0,optional:!!o.optional,includeSelf:i,animation:_,originalSelector:t.selector,options:gt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(cT());let a=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Vr(t.timings,e.errors,!0);return{type:h.Stagger,animation:Ae(this,ar(t.animation),e),timings:a,options:null}}};function bd(r){let t=!!r.split(/\s*,\s*/).find(e=>e==WT);return t&&(r=r.replace(Vd,"")),r=r.replace(/@\*/g,yr).replace(/@\w+/g,e=>yr+"-"+e.slice(1)).replace(/:animating/g,_o),[r,t]}function Bd(r){return r?La({},r):null}var ci=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Gd(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let a=e;t=parseFloat(a.get("offset")),a.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Yd(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let n=Vr(r,t).duration;return Ei(n,0,"")}let e=r;if(e.split(/\s+/).some(n=>n.charAt(0)=="{"&&n.charAt(1)=="{")){let n=Ei(0,0,"");return n.dynamic=!0,n.strValue=e,n}let o=Vr(e,t);return Ei(o.duration,o.delay,o.easing)}function gt(r){return r?(r=La({},r),r.params&&(r.params=Bd(r.params))):r={},r}function Ei(r,t,e){return{duration:r,delay:t,easing:e}}function Pi(r,t,e,a,o,n,i=null,_=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:a,duration:o,delay:n,totalTime:o+n,easing:i,subTimeline:_}}var Br=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let a=this._map.get(t);a||this._map.set(t,a=[]),a.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},wd=1,Hd=":enter",Fd=new RegExp(Hd,"g"),Kd=":leave",kd=new RegExp(Kd,"g");function zT(r,t,e,a,o,n=new Map,i=new Map,_,s,E=[]){return new di().buildKeyframes(r,t,e,a,o,n,i,_,s,E)}var di=class{buildKeyframes(t,e,a,o,n,i,_,s,E,T=[]){E=E||new Br;let S=new ui(t,e,E,o,n,T,[]);S.options=s;let A=s.delay?ze(s.delay):0;S.currentTimeline.delayNextStep(A),S.currentTimeline.setStyles([i],null,S.errors,s),Ae(this,a,S);let c=S.timelines.filter(d=>d.containsAnimation());if(c.length&&_.size){let d;for(let u=c.length-1;u>=0;u--){let L=c[u];if(L.element===e){d=L;break}}d&&!d.allowOnlyTimelineStyles()&&d.setStyles([_],null,S.errors,s)}return c.length?c.map(d=>d.buildKeyframes()):[Pi(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let a=e.subInstructions.get(e.element);if(a){let o=e.createSubContext(t.options),n=e.currentTimeline.currentTime,i=this._visitSubInstructions(a,o,o.options);n!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t}visitAnimateRef(t,e){let a=e.createSubContext(t.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,a),this.visitReference(t.animation,a),e.transformIntoNewTimeline(a.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,a){for(let o of t){let n=o?.delay;if(n){let i=typeof n=="number"?n:ze(or(n,o?.params??{},e.errors));a.delayNextStep(i)}}}_visitSubInstructions(t,e,a){let n=e.currentTimeline.currentTime,i=a.duration!=null?ze(a.duration):null,_=a.delay!=null?ze(a.delay):null;return i!==0&&t.forEach(s=>{let E=e.appendInstructionToTimeline(s,i,_);n=Math.max(n,E.duration+E.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),Ae(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let a=e.subContextCount,o=e,n=t.options;if(n&&(n.params||n.delay)&&(o=e.createSubContext(n),o.transformIntoNewTimeline(),n.delay!=null)){o.previousNode.type==h.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=uo);let i=ze(n.delay);o.delayNextStep(i)}t.steps.length&&(t.steps.forEach(i=>Ae(this,i,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>a&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let a=[],o=e.currentTimeline.currentTime,n=t.options&&t.options.delay?ze(t.options.delay):0;t.steps.forEach(i=>{let _=e.createSubContext(t.options);n&&_.delayNextStep(n),Ae(this,i,_),o=Math.max(o,_.currentTimeline.currentTime),a.push(_.currentTimeline)}),a.forEach(i=>e.currentTimeline.mergeTimelineCollectedStyles(i)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let a=t.strValue,o=e.params?or(a,e.params,e.errors):a;return Vr(o,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let a=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;a.delay&&(e.incrementTime(a.delay),o.snapshotCurrentStyles());let n=t.style;n.type==h.Keyframes?this.visitKeyframes(n,e):(e.incrementTime(a.duration),this.visitStyle(n,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let a=e.currentTimeline,o=e.currentAnimateTimings;!o&&a.hasCurrentStyleProperties()&&a.forwardFrame();let n=o&&o.easing||t.easing;t.isEmptyStep?a.applyEmptyStep(n):a.setStyles(t.styles,n,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let a=e.currentAnimateTimings,o=e.currentTimeline.duration,n=a.duration,_=e.createSubContext().currentTimeline;_.easing=a.easing,t.styles.forEach(s=>{let E=s.offset||0;_.forwardTime(E*n),_.setStyles(s.styles,s.easing,e.errors,e.options),_.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(_),e.transformIntoNewTimeline(o+n),e.previousNode=t}visitQuery(t,e){let a=e.currentTimeline.currentTime,o=t.options||{},n=o.delay?ze(o.delay):0;n&&(e.previousNode.type===h.Style||a==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uo);let i=a,_=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=_.length;let s=null;_.forEach((E,T)=>{e.currentQueryIndex=T;let S=e.createSubContext(t.options,E);n&&S.delayNextStep(n),E===e.element&&(s=S.currentTimeline),Ae(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe();let A=S.currentTimeline.currentTime;i=Math.max(i,A)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(i),s&&(e.currentTimeline.mergeTimelineCollectedStyles(s),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let a=e.parentContext,o=e.currentTimeline,n=t.timings,i=Math.abs(n.duration),_=i*(e.currentQueryTotal-1),s=i*e.currentQueryIndex;switch(n.duration<0?"reverse":n.easing){case"reverse":s=_-s;break;case"full":s=a.currentStaggerTime;break}let T=e.currentTimeline;s&&T.delayNextStep(s);let S=T.currentTime;Ae(this,t.animation,e),e.previousNode=t,a.currentStaggerTime=o.currentTime-S+(o.startTime-a.currentTimeline.startTime)}},uo={},ui=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=uo;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,a,o,n,i,_,s){this._driver=t,this.element=e,this.subInstructions=a,this._enterClassName=o,this._leaveClassName=n,this.errors=i,this.timelines=_,this.currentTimeline=s||new mo(this._driver,e,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let a=t,o=this.options;a.duration!=null&&(o.duration=ze(a.duration)),a.delay!=null&&(o.delay=ze(a.delay));let n=a.params;if(n){let i=o.params;i||(i=this.options.params={}),Object.keys(n).forEach(_=>{(!e||!i.hasOwnProperty(_))&&(i[_]=or(n[_],i,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let a=t.params={};Object.keys(e).forEach(o=>{a[o]=e[o]})}}return t}createSubContext(t=null,e,a){let o=e||this.element,n=new r(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,a||0));return n.previousNode=this.previousNode,n.currentAnimateTimings=this.currentAnimateTimings,n.options=this._copyOptions(),n.updateOptions(t),n.currentQueryIndex=this.currentQueryIndex,n.currentQueryTotal=this.currentQueryTotal,n.parentContext=this,this.subContextCount++,n}transformIntoNewTimeline(t){return this.previousNode=uo,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,a){let o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(a??0)+t.delay,easing:""},n=new mi(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(n),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,a,o,n,i){let _=[];if(o&&_.push(this.element),t.length>0){t=t.replace(Fd,"."+this._enterClassName),t=t.replace(kd,"."+this._leaveClassName);let s=a!=1,E=this._driver.query(this.element,t,s);a!==0&&(E=a<0?E.slice(E.length+a,E.length):E.slice(0,a)),_.push(...E)}return!n&&_.length==0&&i.push(dT(e)),_}},mo=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,a,o){this._driver=t,this.element=e,this.startTime=a,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=wd,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,a]of this._globalTimelineStyles)this._backFill.set(e,a||Ve),this._currentKeyframe.set(e,Ve);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,a,o){e&&this._previousKeyframe.set("easing",e);let n=o&&o.params||{},i=Wd(t,this._globalTimelineStyles);for(let[_,s]of i){let E=or(s,n,a);this._pendingStyles.set(_,E),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??Ve),this._updateStyle(_,E)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,a)=>{let o=this._styleSummary.get(a);(!o||e.time>o.time)&&this._updateStyle(a,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,a=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((_,s)=>{let E=new Map([...this._backFill,..._]);E.forEach((T,S)=>{T===gr?t.add(S):T===Ve&&e.add(S)}),a||E.set("offset",s/this.duration),o.push(E)});let n=[...t.values()],i=[...e.values()];if(a){let _=o[0],s=new Map(_);_.set("offset",0),s.set("offset",1),o=[_,s]}return Pi(this.element,o,n,i,this.duration,this.startTime,this.easing,!1)}},mi=class extends mo{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,a,o,n,i,_=!1){super(t,e,i.delay),this.keyframes=a,this.preStyleProps=o,this.postStyleProps=n,this._stretchStartingKeyframe=_,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:a,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let n=[],i=a+e,_=e/i,s=new Map(t[0]);s.set("offset",0),n.push(s);let E=new Map(t[0]);E.set("offset",BT(_)),n.push(E);let T=t.length-1;for(let S=1;S<=T;S++){let A=new Map(t[S]),c=A.get("offset"),d=e+c*a;A.set("offset",BT(d/i)),n.push(A)}a=i,e=0,o="",t=n}return Pi(this.element,t,this.preStyleProps,this.postStyleProps,a,e,o,!0)}};function BT(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function Wd(r,t){let e=new Map,a;return r.forEach(o=>{if(o==="*"){a??=t.keys();for(let n of a)e.set(n,Ve)}else for(let[n,i]of o)e.set(n,i)}),e}function GT(r,t,e,a,o,n,i,_,s,E,T,S,A){return{type:0,element:r,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:n,toState:a,toStyles:i,timelines:_,queriedElements:s,preStyleProps:E,postStyleProps:T,totalTime:S,errors:A}}var Ti={},Ro=class{_triggerName;ast;_stateStyles;constructor(t,e,a){this._triggerName=t,this.ast=e,this._stateStyles=a}match(t,e,a,o){return Xd(this.ast.matchers,t,e,a,o)}buildStyles(t,e,a){let o=this._stateStyles.get("*");return t!==void 0&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,a):new Map}build(t,e,a,o,n,i,_,s,E,T){let S=[],A=this.ast.options&&this.ast.options.params||Ti,c=_&&_.params||Ti,d=this.buildStyles(a,c,S),u=s&&s.params||Ti,L=this.buildStyles(o,u,S),O=new Set,P=new Map,V=new Map,Y=o==="void",Ye={params:QT(u,A),delay:this.ast.options?.delay},j=T?[]:zT(t,e,this.ast.animation,n,i,d,L,Ye,E,S),X=0;return j.forEach(z=>{X=Math.max(z.duration+z.delay,X)}),S.length?GT(e,this._triggerName,a,o,Y,d,L,[],[],P,V,X,S):(j.forEach(z=>{let Ie=z.element,At=Se(P,Ie,new Set);z.preStyleProps.forEach(Nt=>At.add(Nt));let Os=Se(V,Ie,new Set);z.postStyleProps.forEach(Nt=>Os.add(Nt)),Ie!==e&&O.add(Ie)}),GT(e,this._triggerName,a,o,Y,d,L,j,[...O.values()],P,V,X))}};function Xd(r,t,e,a,o){return r.some(n=>n(t,e,a,o))}function QT(r,t){let e=La({},t);return Object.entries(r).forEach(([a,o])=>{o!=null&&(e[a]=o)}),e}var Ri=class{styles;defaultParams;normalizer;constructor(t,e,a){this.styles=t,this.defaultParams=e,this.normalizer=a}buildStyles(t,e){let a=new Map,o=QT(t,this.defaultParams);return this.styles.styles.forEach(n=>{typeof n!="string"&&n.forEach((i,_)=>{i&&(i=or(i,o,e));let s=this.normalizer.normalizePropertyName(_,e);i=this.normalizer.normalizeStyleValue(_,s,i,e),a.set(_,i)})}),a}};function zd(r,t,e){return new vi(r,t,e)}var vi=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,a){this.name=t,this.ast=e,this._normalizer=a,e.states.forEach(o=>{let n=o.options&&o.options.params||{};this.states.set(o.name,new Ri(o.style,n,a))}),YT(this.states,"true","1"),YT(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Ro(t,o,this.states))}),this.fallbackTransition=Qd(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,a,o){return this.transitionFactories.find(i=>i.match(t,e,a,o))||null}matchStyles(t,e,a){return this.fallbackTransition.buildStyles(t,e,a)}};function Qd(r,t,e){let a=[(i,_)=>!0],o={type:h.Sequence,steps:[],options:null},n={type:h.Transition,animation:o,matchers:a,options:null,queryCount:0,depCount:0};return new Ro(r,n,t)}function YT(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var jd=new Br,Oi=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,a){this.bodyNode=t,this._driver=e,this._normalizer=a}register(t,e){let a=[],o=[],n=XT(this._driver,e,a,o);if(a.length)throw vT(a);this._animations.set(t,n)}_buildPlayer(t,e,a){let o=t.element,n=ti(this._normalizer,t.keyframes,e,a);return this._driver.animate(o,n,t.duration,t.delay,t.easing,[],!0)}create(t,e,a={}){let o=[],n=this._animations.get(t),i,_=new Map;if(n?(i=zT(this._driver,e,n,ii,io,new Map,new Map,a,jd,o),i.forEach(T=>{let S=Se(_,T.element,new Map);T.postStyleProps.forEach(A=>S.set(A,null))})):(o.push(OT()),i=[]),o.length)throw NT(o);_.forEach((T,S)=>{T.forEach((A,c)=>{T.set(c,this._driver.computeStyle(S,c,Ve))})});let s=i.map(T=>{let S=_.get(T.element);return this._buildPlayer(T,new Map,S)}),E=it(s);return this._playersById.set(t,E),E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let a=this.players.indexOf(e);a>=0&&this.players.splice(a,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw fT(t);return e}listen(t,e,a,o){let n=oo(e,"","","");return ao(this._getPlayer(t),a,n,o),()=>{}}command(t,e,a,o){if(a=="register"){this.register(t,o[0]);return}if(a=="create"){let i=o[0]||{};this.create(t,e,i);return}let n=this._getPlayer(t);switch(a){case"play":n.play();break;case"pause":n.pause();break;case"reset":n.reset();break;case"restart":n.restart();break;case"finish":n.finish();break;case"init":n.init();break;case"setPosition":n.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t);break}}},wT="ng-animate-queued",qd=".ng-animate-queued",Si="ng-animate-disabled",Zd=".ng-animate-disabled",Jd="ng-star-inserted",$d=".ng-star-inserted",eu=[],jT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Be="__ng_removed",Gr=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let a=t&&t.hasOwnProperty("value"),o=a?t.value:t;if(this.value=au(o),a){let n=t,{value:i}=n,_=Cs(n,["value"]);this.options=_}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let a=this.options.params;Object.keys(e).forEach(o=>{a[o]==null&&(a[o]=e[o])})}}},br="void",Ai=new Gr(br),Ni=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,a){this.id=t,this.hostElement=e,this._engine=a,this._hostClassName="ng-tns-"+t,fe(e,this._hostClassName)}listen(t,e,a,o){if(!this._triggers.has(e))throw MT(a,e);if(a==null||a.length==0)throw CT(e);if(!ou(a))throw PT(a,e);let n=Se(this._elementListeners,t,[]),i={name:e,phase:a,callback:o};n.push(i);let _=Se(this._engine.statesByElement,t,new Map);return _.has(e)||(fe(t,Ur),fe(t,Ur+"-"+e),_.set(e,Ai)),()=>{this._engine.afterFlush(()=>{let s=n.indexOf(i);s>=0&&n.splice(s,1),this._triggers.has(e)||_.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw hT(t);return e}trigger(t,e,a,o=!0){let n=this._getTrigger(e),i=new Yr(this.id,e,t),_=this._engine.statesByElement.get(t);_||(fe(t,Ur),fe(t,Ur+"-"+e),this._engine.statesByElement.set(t,_=new Map));let s=_.get(e),E=new Gr(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&s&&E.absorbOptions(s.options),_.set(e,E),s||(s=Ai),!(E.value===br)&&s.value===E.value){if(!_u(s.params,E.params)){let u=[],L=n.matchStyles(s.value,s.params,u),O=n.matchStyles(E.value,E.params,u);u.length?this._engine.reportError(u):this._engine.afterFlush(()=>{ct(t,L),be(t,O)})}return}let A=Se(this._engine.playersByElement,t,[]);A.forEach(u=>{u.namespaceId==this.id&&u.triggerName==e&&u.queued&&u.destroy()});let c=n.matchTransition(s.value,E.value,t,E.params),d=!1;if(!c){if(!o)return;c=n.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:s,toState:E,player:i,isFallbackTransition:d}),d||(fe(t,wT),i.onStart(()=>{nr(t,wT)})),i.onDone(()=>{let u=this.players.indexOf(i);u>=0&&this.players.splice(u,1);let L=this._engine.playersByElement.get(t);if(L){let O=L.indexOf(i);O>=0&&L.splice(O,1)}}),this.players.push(i),A.push(i),i}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,a)=>{this._elementListeners.set(a,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(a=>a.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let a=this._engine.driver.query(t,yr,!0);a.forEach(o=>{if(o[Be])return;let n=this._engine.fetchNamespacesByElement(o);n.size?n.forEach(i=>i.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,a,o){let n=this._engine.statesByElement.get(t),i=new Map;if(n){let _=[];if(n.forEach((s,E)=>{if(i.set(E,s.value),this._triggers.has(E)){let T=this.trigger(t,E,br,o);T&&_.push(T)}}),_.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,i),a&&it(_).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),a=this._engine.statesByElement.get(t);if(e&&a){let o=new Set;e.forEach(n=>{let i=n.name;if(o.has(i))return;o.add(i);let s=this._triggers.get(i).fallbackTransition,E=a.get(i)||Ai,T=new Gr(br),S=new Yr(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:E,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(t,e){let a=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(a.totalAnimations){let n=a.players.length?a.playersByQueriedElement.get(t):[];if(n&&n.length)o=!0;else{let i=t;for(;i=i.parentNode;)if(a.statesByElement.get(i)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)a.markElementAsRemoved(this.id,t,!1,e);else{let n=t[Be];(!n||n===jT)&&(a.afterFlush(()=>this.clearElementCache(t)),a.destroyInnerAnimations(t),a._onRemovalComplete(t,e))}}insertNode(t,e){fe(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(a=>{let o=a.player;if(o.destroyed)return;let n=a.element,i=this._elementListeners.get(n);i&&i.forEach(_=>{if(_.name==a.triggerName){let s=oo(n,a.triggerName,a.fromState.value,a.toState.value);s._data=t,ao(a.player,_.phase,s,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(a)}),this._queue=[],e.sort((a,o)=>{let n=a.transition.ast.depCount,i=o.transition.ast.depCount;return n==0||i==0?n-i:this._engine.driver.containsElement(a.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},fi=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,a){this.bodyNode=t,this.driver=e,this._normalizer=a}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(a=>{a.queued&&t.push(a)})}),t}createNamespace(t,e){let a=new Ni(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(a,e):(this.newHostElements.set(e,a),this.collectEnterElement(e)),this._namespaceLookup[t]=a}_balanceNamespaceList(t,e){let a=this._namespaceList,o=this.namespacesByHostElement;if(a.length-1>=0){let i=!1,_=this.driver.getParentElement(e);for(;_;){let s=o.get(_);if(s){let E=a.indexOf(s);a.splice(E+1,0,t),i=!0;break}_=this.driver.getParentElement(_)}i||a.unshift(t)}else a.push(t);return o.set(e,t),t}register(t,e){let a=this._namespaceLookup[t];return a||(a=this.createNamespace(t,e)),a}registerTrigger(t,e,a){let o=this._namespaceLookup[t];o&&o.register(e,a)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let a=this._fetchNamespace(t);this.namespacesByHostElement.delete(a.hostElement);let o=this._namespaceList.indexOf(a);o>=0&&this._namespaceList.splice(o,1),a.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,a=this.statesByElement.get(t);if(a){for(let o of a.values())if(o.namespaceId){let n=this._fetchNamespace(o.namespaceId);n&&e.add(n)}}return e}trigger(t,e,a,o){if(Ao(e)){let n=this._fetchNamespace(t);if(n)return n.trigger(e,a,o),!0}return!1}insertNode(t,e,a,o){if(!Ao(e))return;let n=e[Be];if(n&&n.setForRemoval){n.setForRemoval=!1,n.setForMove=!0;let i=this.collectedLeaveElements.indexOf(e);i>=0&&this.collectedLeaveElements.splice(i,1)}if(t){let i=this._fetchNamespace(t);i&&i.insertNode(e,a)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fe(t,Si)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nr(t,Si))}removeNode(t,e,a){if(Ao(e)){let o=t?this._fetchNamespace(t):null;o?o.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a);let n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,a)}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,a,o,n){this.collectedLeaveElements.push(e),e[Be]={namespaceId:t,setForRemoval:o,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:n}}listen(t,e,a,o,n){return Ao(e)?this._fetchNamespace(t).listen(e,a,o,n):()=>{}}_buildInstruction(t,e,a,o,n){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,a,o,t.fromState.options,t.toState.options,e,n)}destroyInnerAnimations(t){let e=this.driver.query(t,yr,!0);e.forEach(a=>this.destroyActiveAnimationsForElement(a)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,_o,!0),e.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return it(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Be];if(e&&e.setForRemoval){if(t[Be]=jT,e.namespaceId){this.destroyInnerAnimations(t);let a=this._fetchNamespace(e.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Si)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Zd,!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,o)=>this._balanceNamespaceList(a,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++){let o=this.collectedEnterElements[a];fe(o,Jd)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let a=[];try{e=this._flushAnimations(a,t)}finally{for(let o=0;o<a.length;o++)a[o]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++){let o=this.collectedLeaveElements[a];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){let a=this._whenQuietFns;this._whenQuietFns=[],e.length?it(e).onDone(()=>{a.forEach(o=>o())}):a.forEach(o=>o())}}reportError(t){throw LT(t)}_flushAnimations(t,e){let a=new Br,o=[],n=new Map,i=[],_=new Map,s=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(m=>{T.add(m);let v=this.driver.query(m,qd,!0);for(let N=0;N<v.length;N++)T.add(v[N])});let S=this.bodyNode,A=Array.from(this.statesByElement.keys()),c=KT(A,this.collectedEnterElements),d=new Map,u=0;c.forEach((m,v)=>{let N=ii+u++;d.set(v,N),m.forEach(I=>fe(I,N))});let L=[],O=new Set,P=new Set;for(let m=0;m<this.collectedLeaveElements.length;m++){let v=this.collectedLeaveElements[m],N=v[Be];N&&N.setForRemoval&&(L.push(v),O.add(v),N.hasAnimation?this.driver.query(v,$d,!0).forEach(I=>O.add(I)):P.add(v))}let V=new Map,Y=KT(A,Array.from(O));Y.forEach((m,v)=>{let N=io+u++;V.set(v,N),m.forEach(I=>fe(I,N))}),t.push(()=>{c.forEach((m,v)=>{let N=d.get(v);m.forEach(I=>nr(I,N))}),Y.forEach((m,v)=>{let N=V.get(v);m.forEach(I=>nr(I,N))}),L.forEach(m=>{this.processLeaveNode(m)})});let Ye=[],j=[];for(let m=this._namespaceList.length-1;m>=0;m--)this._namespaceList[m].drainQueuedTransitions(e).forEach(N=>{let I=N.player,W=N.element;if(Ye.push(I),this.collectedEnterElements.length){let q=W[Be];if(q&&q.setForMove){if(q.previousTriggersValues&&q.previousTriggersValues.has(N.triggerName)){let ft=q.previousTriggersValues.get(N.triggerName),ve=this.statesByElement.get(N.element);if(ve&&ve.has(N.triggerName)){let ha=ve.get(N.triggerName);ha.value=ft,ve.set(N.triggerName,ha)}}I.destroy();return}}let we=!S||!this.driver.containsElement(S,W),le=V.get(W),lt=d.get(W),G=this._buildInstruction(N,a,lt,le,we);if(G.errors&&G.errors.length){j.push(G);return}if(we){I.onStart(()=>ct(W,G.fromStyles)),I.onDestroy(()=>be(W,G.toStyles)),o.push(I);return}if(N.isFallbackTransition){I.onStart(()=>ct(W,G.fromStyles)),I.onDestroy(()=>be(W,G.toStyles)),o.push(I);return}let Ms=[];G.timelines.forEach(q=>{q.stretchStartingKeyframe=!0,this.disabledNodes.has(q.element)||Ms.push(q)}),G.timelines=Ms,a.append(W,G.timelines);let cd={instruction:G,player:I,element:W};i.push(cd),G.queriedElements.forEach(q=>Se(_,q,[]).push(I)),G.preStyleProps.forEach((q,ft)=>{if(q.size){let ve=s.get(ft);ve||s.set(ft,ve=new Set),q.forEach((ha,Gn)=>ve.add(Gn))}}),G.postStyleProps.forEach((q,ft)=>{let ve=E.get(ft);ve||E.set(ft,ve=new Set),q.forEach((ha,Gn)=>ve.add(Gn))})});if(j.length){let m=[];j.forEach(v=>{m.push(DT(v.triggerName,v.errors))}),Ye.forEach(v=>v.destroy()),this.reportError(m)}let X=new Map,z=new Map;i.forEach(m=>{let v=m.element;a.has(v)&&(z.set(v,v),this._beforeAnimationBuild(m.player.namespaceId,m.instruction,X))}),o.forEach(m=>{let v=m.element;this._getPreviousPlayers(v,!1,m.namespaceId,m.triggerName,null).forEach(I=>{Se(X,v,[]).push(I),I.destroy()})});let Ie=L.filter(m=>kT(m,s,E)),At=new Map;FT(At,this.driver,P,E,Ve).forEach(m=>{kT(m,s,E)&&Ie.push(m)});let Nt=new Map;c.forEach((m,v)=>{FT(Nt,this.driver,new Set(m),s,gr)}),Ie.forEach(m=>{let v=At.get(m),N=Nt.get(m);At.set(m,new Map([...v?.entries()??[],...N?.entries()??[]]))});let Bn=[],Ns=[],fs={};i.forEach(m=>{let{element:v,player:N,instruction:I}=m;if(a.has(v)){if(T.has(v)){N.onDestroy(()=>be(v,I.toStyles)),N.disabled=!0,N.overrideTotalTime(I.totalTime),o.push(N);return}let W=fs;if(z.size>1){let le=v,lt=[];for(;le=le.parentNode;){let G=z.get(le);if(G){W=G;break}lt.push(le)}lt.forEach(G=>z.set(G,W))}let we=this._buildAnimation(N.namespaceId,I,X,n,Nt,At);if(N.setRealPlayer(we),W===fs)Bn.push(N);else{let le=this.playersByElement.get(W);le&&le.length&&(N.parentPlayer=it(le)),o.push(N)}}else ct(v,I.fromStyles),N.onDestroy(()=>be(v,I.toStyles)),Ns.push(N),T.has(v)&&o.push(N)}),Ns.forEach(m=>{let v=n.get(m.element);if(v&&v.length){let N=it(v);m.setRealPlayer(N)}}),o.forEach(m=>{m.parentPlayer?m.syncPlayerEvents(m.parentPlayer):m.destroy()});for(let m=0;m<L.length;m++){let v=L[m],N=v[Be];if(nr(v,io),N&&N.hasAnimation)continue;let I=[];if(_.size){let we=_.get(v);we&&we.length&&I.push(...we);let le=this.driver.query(v,_o,!0);for(let lt=0;lt<le.length;lt++){let G=_.get(le[lt]);G&&G.length&&I.push(...G)}}let W=I.filter(we=>!we.destroyed);W.length?nu(this,v,W):this.processLeaveNode(v)}return L.length=0,Bn.forEach(m=>{this.players.push(m),m.onDone(()=>{m.destroy();let v=this.players.indexOf(m);this.players.splice(v,1)}),m.play()}),Bn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,a,o,n){let i=[];if(e){let _=this.playersByQueriedElement.get(t);_&&(i=_)}else{let _=this.playersByElement.get(t);if(_){let s=!n||n==br;_.forEach(E=>{E.queued||!s&&E.triggerName!=o||i.push(E)})}}return(a||o)&&(i=i.filter(_=>!(a&&a!=_.namespaceId||o&&o!=_.triggerName))),i}_beforeAnimationBuild(t,e,a){let o=e.triggerName,n=e.element,i=e.isRemovalTransition?void 0:t,_=e.isRemovalTransition?void 0:o;for(let s of e.timelines){let E=s.element,T=E!==n,S=Se(a,E,[]);this._getPreviousPlayers(E,T,i,_,e.toState).forEach(c=>{let d=c.getRealPlayer();d.beforeDestroy&&d.beforeDestroy(),c.destroy(),S.push(c)})}ct(n,e.fromStyles)}_buildAnimation(t,e,a,o,n,i){let _=e.triggerName,s=e.element,E=[],T=new Set,S=new Set,A=e.timelines.map(d=>{let u=d.element;T.add(u);let L=u[Be];if(L&&L.removedBeforeQueried)return new nt(d.duration,d.delay);let O=u!==s,P=iu((a.get(u)||eu).map(X=>X.getRealPlayer())).filter(X=>{let z=X;return z.element?z.element===u:!1}),V=n.get(u),Y=i.get(u),Ye=ti(this._normalizer,d.keyframes,V,Y),j=this._buildPlayer(d,Ye,P);if(d.subTimeline&&o&&S.add(u),O){let X=new Yr(t,_,u);X.setRealPlayer(j),E.push(X)}return j});E.forEach(d=>{Se(this.playersByQueriedElement,d.element,[]).push(d),d.onDone(()=>ru(this.playersByQueriedElement,d.element,d))}),T.forEach(d=>fe(d,_i));let c=it(A);return c.onDestroy(()=>{T.forEach(d=>nr(d,_i)),be(s,e.toStyles)}),S.forEach(d=>{Se(o,d,[]).push(c)}),c}_buildPlayer(t,e,a){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,a):new nt(t.duration,t.delay)}},Yr=class{namespaceId;triggerName;element;_player=new nt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,a){this.namespaceId=t,this.triggerName=e,this.element=a}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,a)=>{e.forEach(o=>ao(t,a,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Se(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ru(r,t,e){let a=r.get(t);if(a){if(a.length){let o=a.indexOf(e);a.splice(o,1)}a.length==0&&r.delete(t)}return a}function au(r){return r??null}function Ao(r){return r&&r.nodeType===1}function ou(r){return r=="start"||r=="done"}function HT(r,t){let e=r.style.display;return r.style.display=t??"none",e}function FT(r,t,e,a,o){let n=[];e.forEach(s=>n.push(HT(s)));let i=[];a.forEach((s,E)=>{let T=new Map;s.forEach(S=>{let A=t.computeStyle(E,S,o);T.set(S,A),(!A||A.length==0)&&(E[Be]=tu,i.push(E))}),r.set(E,T)});let _=0;return e.forEach(s=>HT(s,n[_++])),i}function KT(r,t){let e=new Map;if(r.forEach(_=>e.set(_,[])),t.length==0)return e;let a=1,o=new Set(t),n=new Map;function i(_){if(!_)return a;let s=n.get(_);if(s)return s;let E=_.parentNode;return e.has(E)?s=E:o.has(E)?s=a:s=i(E),n.set(_,s),s}return t.forEach(_=>{let s=i(_);s!==a&&e.get(s).push(_)}),e}function fe(r,t){r.classList?.add(t)}function nr(r,t){r.classList?.remove(t)}function nu(r,t,e){it(e).onDone(()=>r.processLeaveNode(t))}function iu(r){let t=[];return qT(r,t),t}function qT(r,t){for(let e=0;e<r.length;e++){let a=r[e];a instanceof rr?qT(a.players,t):t.push(a)}}function _u(r,t){let e=Object.keys(r),a=Object.keys(t);if(e.length!=a.length)return!1;for(let o=0;o<e.length;o++){let n=e[o];if(!t.hasOwnProperty(n)||r[n]!==t[n])return!1}return!0}function kT(r,t,e){let a=e.get(r);if(!a)return!1;let o=t.get(r);return o?a.forEach(n=>o.add(n)):t.set(r,a),e.delete(r),!0}var ir=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,a){this._driver=e,this._normalizer=a,this._transitionEngine=new fi(t.body,e,a),this._timelineEngine=new Oi(t.body,e,a),this._transitionEngine.onRemovalComplete=(o,n)=>this.onRemovalComplete(o,n)}registerTrigger(t,e,a,o,n){let i=t+"-"+o,_=this._triggerCache[i];if(!_){let s=[],E=[],T=XT(this._driver,n,s,E);if(s.length)throw RT(o,s);_=zd(o,T,this._normalizer),this._triggerCache[i]=_}this._transitionEngine.registerTrigger(e,o,_)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,a,o){this._transitionEngine.insertNode(t,e,a,o)}onRemove(t,e,a){this._transitionEngine.removeNode(t,e,a)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,a,o){if(a.charAt(0)=="@"){let[n,i]=ri(a),_=o;this._timelineEngine.command(n,e,i,_)}else this._transitionEngine.trigger(t,e,a,o)}listen(t,e,a,o,n){if(a.charAt(0)=="@"){let[i,_]=ri(a);return this._timelineEngine.listen(i,e,_,n)}return this._transitionEngine.listen(t,e,a,o,n)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function su(r,t){let e=null,a=null;return Array.isArray(t)&&t.length?(e=li(t[0]),t.length>1&&(a=li(t[t.length-1]))):t instanceof Map&&(e=li(t)),e||a?new Eu(r,e,a):null}var Eu=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,a,o){this._element=e,this._startStyles=a,this._endStyles=o;let n=r.initialStylesByElement.get(e);n||r.initialStylesByElement.set(e,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(be(this._element,this._initialStyles),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ct(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ct(this._element,this._endStyles),this._endStyles=null),be(this._element,this._initialStyles),this._state=3)}}return r})();function li(r){let t=null;return r.forEach((e,a)=>{Tu(a)&&(t=t||new Map,t.set(a,e))}),t}function Tu(r){return r==="display"||r==="position"}var vo=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,a,o){this.element=t,this.keyframes=e,this.options=a,this._specialStyles=o,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(a=>{e.push(Object.fromEntries(a))}),e}_triggerWebAnimation(t,e,a){return t.animate(this._convertKeyframesToObject(e),a)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,o)=>{o!=="offset"&&t.set(o,this._finished?a:Eo(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(a=>a()),e.length=0}},Oo=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return ai(t,e)}getParentElement(t){return no(t)}query(t,e,a){return oi(t,e,a)}computeStyle(t,e,a){return Eo(t,e)}animate(t,e,a,o,n,i=[]){let _=o==0?"both":"forwards",s={duration:a,delay:o,fill:_};n&&(s.easing=n);let E=new Map,T=i.filter(c=>c instanceof vo);UT(a,o)&&T.forEach(c=>{c.currentSnapshot.forEach((d,u)=>E.set(u,d))});let S=xT(e).map(c=>new Map(c));S=yT(t,S,E);let A=su(t,S);return new vo(t,S,s,A)}};var lo="@",ZT="@.disabled",No=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,a,o){this.namespaceId=t,this.delegate=e,this.engine=a,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,a,o=!0){this.delegate.insertBefore(t,e,a),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,a){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,a,o){this.delegate.setAttribute(t,e,a,o)}removeAttribute(t,e,a){this.delegate.removeAttribute(t,e,a)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,a,o){this.delegate.setStyle(t,e,a,o)}removeStyle(t,e,a){this.delegate.removeStyle(t,e,a)}setProperty(t,e,a){e.charAt(0)==lo&&e==ZT?this.disableAnimations(t,!!a):this.delegate.setProperty(t,e,a)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,a,o){return this.delegate.listen(t,e,a,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Mi=class extends No{factory;constructor(t,e,a,o,n){super(e,a,o,n),this.factory=t,this.namespaceId=e}setProperty(t,e,a){e.charAt(0)==lo?e.charAt(1)=="."&&e==ZT?(a=a===void 0?!0:!!a,this.disableAnimations(t,a)):this.engine.process(this.namespaceId,t,e.slice(1),a):this.delegate.setProperty(t,e,a)}listen(t,e,a,o){if(e.charAt(0)==lo){let n=Su(t),i=e.slice(1),_="";return i.charAt(0)!=lo&&([i,_]=Au(i)),this.engine.listen(this.namespaceId,n,i,_,s=>{let E=s._data||-1;this.factory.scheduleListenerCallback(E,a,s)})}return this.delegate.listen(t,e,a,o)}};function Su(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function Au(r){let t=r.indexOf("."),e=r.substring(0,t),a=r.slice(t+1);return[e,a]}var fo=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,a){this.delegate=t,this.engine=e,this._zone=a,e.onRemovalComplete=(o,n)=>{n?.removeChild(null,o)}}createRenderer(t,e){let a="",o=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let E=this._rendererCache,T=E.get(o);if(!T){let S=()=>E.delete(o);T=new No(a,o,this.engine,S),E.set(o,T)}return T}let n=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);let _=E=>{Array.isArray(E)?E.forEach(_):this.engine.registerTrigger(n,i,t,E.name,E)};return e.data.animation.forEach(_),new Mi(this,i,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,a){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(a));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(n=>{let[i,_]=n;i(_)}),this._animationCallbacksBuffer=[]})}),o.push([e,a])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var pu=(()=>{class r extends ir{constructor(e,a,o){super(e,a,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(a){return new(a||r)(Ua(Ha),Ua(Ut),Ua(yt))};static \u0275prov=qt({token:r,factory:r.\u0275fac})}return r})();function cu(){return new po}function du(r,t,e){return new fo(r,t,e)}var JT=[{provide:yt,useFactory:cu},{provide:ir,useClass:pu},{provide:ba,useFactory:du,deps:[Xs,ir,re]}],cf=[{provide:Ut,useClass:Ci},{provide:He,useValue:"NoopAnimations"},...JT],uu=[{provide:Ut,useFactory:()=>new Oo},{provide:He,useFactory:()=>"BrowserAnimations"},...JT];function $T(){return Gs("NgEagerAnimations"),[...uu]}var eS={providers:[Ws(),tE(tT),qs(),Qs(js()),$T(),{provide:Bs,useValue:"fullstackladder-app"},{provide:Zs,useClass:ro}]};function mu(r,t){r&1&&w(0,"div",2)}var Ru=new _e("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var rS=(()=>{class r{_elementRef=l(ce);_ngZone=l(re);_changeDetectorRef=l(Ne);_renderer=l(Fe);_cleanupTransitionEnd;_animationMode=l(He,{optional:!0});constructor(){let e=l(Ru,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=tS(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=tS(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Oe;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(a){return new(a||r)};static \u0275cmp=k({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(a,o){a&2&&(Ke("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),Ba("mat-"+o.color),ae("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Xn],bufferValue:[2,"bufferValue","bufferValue",Xn],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(a,o){a&1&&(f(0,"div",0),w(1,"div",1),se(2,mu,1,0,"div",2),M(),f(3,"div",3),w(4,"span",4),M(),f(5,"div",5),w(6,"span",4),M()),a&2&&(b(),Zt("flex-basis",o._getBufferBarFlexBasis()),b(),Ee(o.mode==="buffer"?2:-1),b(),Zt("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return r})();function tS(r,t=0,e=100){return Math.max(t,Math.min(e,r))}var aS=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=pe({imports:[Te]})}return r})();var oS=["*"],Nu=["content"],fu=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Mu=["mat-drawer","mat-drawer-content","*"];function Cu(r,t){if(r&1){let e=pt();f(0,"div",1),Q("click",function(){Z(e);let o=oe();return J(o._onBackdropClicked())}),M()}if(r&2){let e=oe();ae("mat-drawer-shown",e._isShowingBackdrop())}}function Pu(r,t){r&1&&(f(0,"mat-drawer-content"),at(1,2),M())}var hu=new _e("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Lu}),nS=new _e("MAT_DRAWER_CONTAINER");function Lu(){return!1}var wr=(()=>{class r extends Ja{_platform=l(We);_changeDetectorRef=l(Ne);_container=l(Li);constructor(){let e=l(ce),a=l(RE),o=l(re);super(e,a,o)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:a}=this._container;return e!=null&&e.mode!=="over"&&e.opened||a!=null&&a.mode!=="over"&&a.opened}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=k({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(a,o){a&2&&(Zt("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px"),ae("mat-drawer-content-hidden",o._shouldBeHidden()))},features:[ot([{provide:Ja,useExisting:r}]),Fs],ngContentSelectors:oS,decls:1,vars:0,template:function(a,o){a&1&&(ht(),at(0))},encapsulation:2,changeDetection:0})}return r})(),hi=(()=>{class r{_elementRef=l(ce);_focusTrapFactory=l(TE);_focusMonitor=l(nE);_platform=l(We);_ngZone=l(re);_renderer=l(Fe);_interactivityChecker=l(EE);_doc=l(Ha,{optional:!0});_container=l(nS,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Xe(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Xe(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(Xe(e))}_opened=!1;_openedVia;_animationStarted=new ee;_animationEnd=new ee;openedChange=new Oe(!0);_openedStream=this.openedChange.pipe(te(e=>e),rt(()=>{}));openedStart=this._animationStarted.pipe(te(()=>this.opened),Fn(void 0));_closedStream=this.openedChange.pipe(te(e=>!e),rt(()=>{}));closedStart=this._animationStarted.pipe(te(()=>!this.opened),Fn(void 0));_destroyed=new ee;onPositionChanged=new Oe;_content;_modeChanged=new ee;_injector=l(Va);_changeDetectorRef=l(Ne);constructor(){this.openedChange.pipe(xe(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;Ls(e,"keydown").pipe(te(a=>a.keyCode===27&&!this.disableClose&&!er(a)),xe(this._destroyed)).subscribe(a=>this._ngZone.run(()=>{this.close(),a.stopPropagation(),a.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,a){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n(),i(),e.removeAttribute("tabindex")},n=this._renderer.listen(e,"blur",o),i=this._renderer.listen(e,"mousedown",o)})),e.focus(a)}_focusByCssSelector(e,a){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,a)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":hr(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,a){e&&a&&(this._openedVia=a);let o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,a,o){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&a&&this._restoreFocus(o),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(n=>{this.openedChange.pipe(ga(1)).subscribe(i=>n(i?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let a=this._elementRef.nativeElement,o=a.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,a)),o.appendChild(a)):this._anchor&&this._anchor.parentNode.insertBefore(a,this._anchor)}_handleTransitionEvent=e=>{let a=this._elementRef.nativeElement;e.target===a&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(a){return new(a||r)};static \u0275cmp=k({type:r,selectors:[["mat-drawer"]],viewQuery:function(a,o){if(a&1&&Dt(Nu,5),a&2){let n;Ue(n=ye())&&(o._content=n.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:11,hostBindings:function(a,o){a&2&&(Ke("align",null),Zt("visibility",!o._container&&!o.opened?"hidden":null),ae("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:oS,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(a,o){a&1&&(ht(),f(0,"div",1,0),at(2),M())},dependencies:[Ja],encapsulation:2,changeDetection:0})}return r})(),Li=(()=>{class r{_dir=l(za,{optional:!0});_element=l(ce);_ngZone=l(re);_changeDetectorRef=l(Ne);_animationMode=l(He,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new bs;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Xe(e)}_autosize=l(hu);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Xe(e)}_backdropOverride;backdropClick=new Oe;_start;_end;_left;_right;_destroyed=new ee;_doCheckSubject=new ee;_contentMargins={left:null,right:null};_contentMarginChanges=new ee;get scrollable(){return this._userContent||this._content}_injector=l(Va);constructor(){let e=l(We),a=l($a);this._dir?.change.pipe(xe(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(xe(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Mt(this._allDrawers),xe(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(a=>!a._container||a._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Mt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(xa(10),xe(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,a=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();e+=o,a-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")a+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();a+=o,e-=o}}e=e||null,a=a||null,(e!==this._contentMargins.left||a!==this._contentMargins.right)&&(this._contentMargins={left:e,right:a},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(xe(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(xe(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(xe(this._drawers.changes)).subscribe(()=>{hr({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(xe(Qt(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let a=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?a.add(o):a.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=k({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(a,o,n){if(a&1&&(Lt(n,wr,5),Lt(n,hi,5)),a&2){let i;Ue(i=ye())&&(o._content=i.first),Ue(i=ye())&&(o._allDrawers=i)}},viewQuery:function(a,o){if(a&1&&Dt(wr,5),a&2){let n;Ue(n=ye())&&(o._userContent=n.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(a,o){a&2&&ae("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ot([{provide:nS,useExisting:r}])],ngContentSelectors:Mu,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(a,o){a&1&&(ht(fu),se(0,Cu,1,2,"div",0),at(1),at(2,1),se(3,Pu,2,0,"mat-drawer-content")),a&2&&(Ee(o.hasBackdrop?0:-1),b(3),Ee(o._content?-1:3))},dependencies:[wr],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}"],encapsulation:2,changeDetection:0})}return r})();var iS=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=pe({imports:[Te,Ir,Ir,Te]})}return r})();var xu=r=>({exact:r}),gu=(r,t)=>t.link;function Uu(r,t){if(r&1&&(f(0,"a",12)(1,"span",14)(2,"mat-icon",15),B(3),M(),f(4,"span",16),B(5),M()()()),r&2){let e=t.$implicit;ge("routerLinkActiveOptions",ks(4,xu,e.link==="/blog"))("routerLink",e.link),b(3),It(e.icon),b(2),It(e.text)}}var _S=(()=>{class r{constructor(){this.matIconRegistry=l(pE),this.sitePostService=l(Za),this.postCount=Lr(()=>Object.keys(this.sitePostService.postsMeta()).length),this.categoryCount=Lr(()=>new Set(this.sitePostService.postCategories()).size),this.tagCount=Lr(()=>new Set(this.sitePostService.postTags()).size),this.menuItems=Ct([{link:"/blog",icon:"home",text:"\u9996\u9801"},{link:"/blog/categories",icon:"apps",text:"\u5206\u985E"},{link:"/blog/tags",icon:"label",text:"\u6A19\u7C64"},{link:"/blog/archives",icon:"archive",text:"\u6B78\u6A94"}]).asReadonly()}ngOnInit(){this.matIconRegistry.registerFontClassAlias("fontawesome","fab")}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=k({type:r,selectors:[["app-layout-sidebar"]],decls:51,vars:3,consts:[[1,"post-statics","flex","p-4"],[1,"statics-block","flex","flex-col","flex-[33%]"],["routerLink","/blog/archives",1,"no-underline","hover:no-underline"],[1,"counter","text-[color:var(--sidebar-highlight-text-color)]","text-[24px]","text-center"],[1,"description","text-[color:var(--sidebar-text-color)]","text-[16px]","text-center"],["routerLink","/blog/categories",1,"no-underline","hover:no-underline"],["routerLink","/blog/tags",1,"no-underline","hover:no-underline"],[1,"my-1"],[1,"section-title","text-[color:var(--sidebar-text-color)]","text-[20px]","text-center","my-1"],[1,"section-content","text-[color:var(--sidebar-text-color)]","text-center"],["href","https://www.tenlong.com.tw/products/9789864348039","target","_blank","rel","noreferrer",1,"no-underline",2,"display","flex","flex-direction","column","align-items","center"],["src","assets/promotion/rxjs.webp","width","160px","height","224px","alt","\u6253\u901A RxJS \u4EFB\u7763\u4E8C\u8108 - \u597D\u8A55\u71B1\u552E\u4E2D\uFF01","loading","lazy"],["mat-list-item","","routerLinkActive","text-[color:var(--sidebar-highlight-text-color)]",3,"routerLinkActiveOptions","routerLink"],["mat-list-item","","href","/atom.xml","target","_blank","rel","noreferrer"],[1,"flex","flex-row"],[1,"mr-2"],[1,"link-text"],["mat-list-item","","href","https://github.com/wellwind/","target","_blank","rel","noreferrer"],["fontSet","fontawesome","fontIcon","fa-github",1,"mr-2"],["mat-list-item","","href","https://www.facebook.com/fullstackledder","target","_blank","rel","noreferrer"],["fontSet","fontawesome","fontIcon","fa-facebook",1,"mr-2"]],template:function(a,o){a&1&&(f(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),B(4),M(),f(5,"div",4),B(6," \u6587\u7AE0 "),M()()(),f(7,"div",1)(8,"a",5)(9,"div",3),B(10),M(),f(11,"div",4),B(12," \u5206\u985E "),M()()(),f(13,"div",1)(14,"a",6)(15,"div",3),B(16),M(),f(17,"div",4),B(18," \u6A19\u7C64 "),M()()()(),w(19,"mat-divider",7),f(20,"div")(21,"div",8),B(22," \u597D\u66F8\u63A8\u85A6 "),M(),f(23,"div",9)(24,"mat-nav-list")(25,"a",10),w(26,"img",11),f(27,"div"),B(28,"\u6253\u901A RxJS \u4EFB\u7763\u4E8C\u8108"),M()()()()(),w(29,"mat-divider",7),f(30,"mat-nav-list"),Ga(31,Uu,6,6,"a",12,gu),M(),w(33,"mat-divider",7),f(34,"mat-nav-list")(35,"a",13)(36,"span",14)(37,"mat-icon",15),B(38,"rss_feed"),M(),f(39,"span",16),B(40,"RSS"),M()()(),f(41,"a",17)(42,"span",14),w(43,"mat-icon",18),f(44,"span",16),B(45,"GitHub"),M()()(),f(46,"a",19)(47,"span",14),w(48,"mat-icon",20),f(49,"span",16),B(50,"Facebook"),M()()()()),a&2&&(b(4),wa(" ",o.postCount()," "),b(6),wa(" ",o.categoryCount()," "),b(6),wa(" ",o.tagCount()," "),b(15),Ya(o.menuItems()))},dependencies:[ka,eE,gE,xE,kE,KE,FE,ja,Qa],encapsulation:2,changeDetection:0})}}return r})();var sS=(()=>{class r{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(a){return new(a||r)};static \u0275dir=Pt({type:r})}return r})();var Co=new _e("MatFormField");var Bu=["panel"],Gu=["*"];function Yu(r,t){if(r&1&&(f(0,"div",1,0),at(2),M()),r&2){let e=t.id,a=oe();Ba(a._classList),ae("mat-mdc-autocomplete-visible",a.showPanel)("mat-mdc-autocomplete-hidden",!a.showPanel)("mat-autocomplete-panel-animations-enabled",!a._animationsDisabled)("mat-primary",a._color==="primary")("mat-accent",a._color==="accent")("mat-warn",a._color==="warn"),ge("id",a.id),Ke("aria-label",a.ariaLabel||null)("aria-labelledby",a._getPanelAriaLabelledby(e))}}var Di=class{source;option;constructor(t,e){this.source=t,this.option=e}},TS=new _e("mat-autocomplete-default-options",{providedIn:"root",factory:wu});function wu(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var SS=(()=>{class r{_changeDetectorRef=l(Ne);_elementRef=l(ce);_defaults=l(TS);_animationsDisabled=l(He,{optional:!0})==="NoopAnimations";_activeOptionChanges=Da.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new Oe;opened=new Oe;closed=new Oe;optionActivated=new Oe;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=l(Wa).getId("mat-autocomplete-");inertGroups;constructor(){let e=l(We);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new SE(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let a=new Di(this,e);this.optionSelected.emit(a)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let a=e?e+" ":"";return this.ariaLabelledby?a+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=k({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(a,o,n){if(a&1&&(Lt(n,xr,5),Lt(n,hE,5)),a&2){let i;Ue(i=ye())&&(o.options=i),Ue(i=ye())&&(o.optionGroups=i)}},viewQuery:function(a,o){if(a&1&&(Dt(Ys,7),Dt(Bu,5)),a&2){let n;Ue(n=ye())&&(o.template=n.first),Ue(n=ye())&&(o.panel=n.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",ke],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",ke],requireSelection:[2,"requireSelection","requireSelection",ke],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",ke],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ke]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[ot([{provide:PE,useExisting:r}])],ngContentSelectors:Gu,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(a,o){a&1&&(ht(),se(0,Yu,3,17,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0})}return r})();var Hu={provide:UE,useExisting:Us(()=>Ii),multi:!0};var AS=new _e("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=l(eo);return()=>r.scrollStrategies.reposition()}});function Fu(r){return()=>r.scrollStrategies.reposition()}var Ku={provide:AS,deps:[eo],useFactory:Fu},Ii=(()=>{class r{_environmentInjector=l(ys);_element=l(ce);_overlay=l(eo);_viewContainerRef=l(ws);_zone=l(re);_changeDetectorRef=l(Ne);_dir=l(za,{optional:!0});_formField=l(Co,{optional:!0,host:!0});_viewportRuler=l($a);_scrollStrategy=l(AS);_renderer=l(Fe);_defaults=l(TS,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new ee;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=Da.EMPTY;_breakpointObserver=l(_E);_handsetLandscapeSubscription=Da.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new ee;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Xa(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Qt(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(te(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(te(()=>this._overlayAttached)):Hn()).pipe(rt(e=>e instanceof LE?e:null))}optionSelections=Ia(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(Mt(e),jt(()=>Qt(...e.map(a=>a.onSelectionChange)))):this._initialized.pipe(jt(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new wn(e=>{let a=n=>{let i=aE(n),_=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&i!==this._element.nativeElement&&!this._hasFocus()&&(!_||!_.contains(i))&&(!s||!s.contains(i))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(i)&&e.next(n)},o=[this._renderer.listen("document","click",a),this._renderer.listen("document","auxclick",a),this._renderer.listen("document","touchend",a)];return()=>{o.forEach(n=>n())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let a=e.keyCode,o=er(e);if(a===27&&!o&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&a===13&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let n=this.autocomplete._keyManager.activeItem,i=a===38||a===40;a===9||i&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):i&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(i||this.autocomplete._keyManager.activeItem!==n)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let a=e.target,o=a.value;if(a.type==="number"&&(o=o==""?null:parseFloat(o)),this._previousValue!==o){if(this._previousValue=o,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(o),!o)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let n=this.autocomplete.options?.find(i=>i.selected);if(n){let i=this._getDisplayValue(n.value);o!==i&&n.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let n=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(n)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return rE()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new wn(o=>{hr(()=>{o.next()},{injector:this._environmentInjector})}),a=this.autocomplete.options?.changes.pipe(gs(()=>this._positionStrategy.reapplyLastPosition()),Ds(0))??Hn();return Qt(e,a).pipe(jt(()=>this._zone.run(()=>{let o=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),o!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),ga(1)).subscribe(o=>this._setValueAndClose(o))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let a=this.autocomplete;return a&&a.displayWith?a.displayWith(e):e}_assignOptionValue(e){let a=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(a??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let a=this.autocomplete,o=e?e.source:this._pendingAutoselectedOption;o?(this._clearPreviousSelectedOption(o),this._assignOptionValue(o.value),this._onChange(o.value),a._emitSelectEvent(o),this._element.nativeElement.focus()):a.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,a){this.autocomplete?.options?.forEach(o=>{o!==e&&o.selected&&o.deselect(a)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let a=this.autocomplete.id;Qn(this._trackedModal,"aria-owns",a)}}_attachOverlay(e){this.autocomplete;let a=this._overlayRef;a?(this._positionStrategy.setOrigin(this._getConnectedElement()),a.updateSize({width:this._getPanelWidth()})):(this._portal=new vE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),a=this._overlay.create(this._getOverlayConfig()),this._overlayRef=a,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&a&&a.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(dE.HandsetLandscape).subscribe(n=>{n.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),a&&!a.hasAttached()&&(a.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let o=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&o!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!er(e)||e.keyCode===38&&er(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new OE({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let a=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}],i;this.position==="above"?i=n:this.position==="below"?i=a:i=[...a,...n],e.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let a=-1;for(let o=0;o<e.options.length;o++)if(!e.options.get(o).disabled){a=o;break}e._keyManager.setActiveItem(a)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let a=this.autocomplete,o=DE(e,a.options,a.optionGroups);if(e===0&&o===1)a._setScrollTop(0);else if(a.panel){let n=a.options.toArray()[e];if(n){let i=n._getHostElement(),_=IE(i.offsetTop,i.offsetHeight,a._getScrollTop(),a.panel.nativeElement.offsetHeight);a._setScrollTop(_)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let a=this.autocomplete.id;this._trackedModal&&Xa(this._trackedModal,"aria-owns",a),Qn(e,"aria-owns",a),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Xa(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(a){return new(a||r)};static \u0275dir=Pt({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(a,o){a&1&&Q("focusin",function(){return o._handleFocus()})("blur",function(){return o._onTouched()})("input",function(i){return o._handleInput(i)})("keydown",function(i){return o._handleKeydown(i)})("click",function(){return o._handleClick()}),a&2&&Ke("autocomplete",o.autocompleteAttribute)("role",o.autocompleteDisabled?null:"combobox")("aria-autocomplete",o.autocompleteDisabled?null:"list")("aria-activedescendant",o.panelOpen&&o.activeOption?o.activeOption.id:null)("aria-expanded",o.autocompleteDisabled?null:o.panelOpen.toString())("aria-controls",o.autocompleteDisabled||!o.panelOpen||o.autocomplete==null?null:o.autocomplete.id)("aria-haspopup",o.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",ke]},exportAs:["matAutocompleteTrigger"],features:[ot([Hu]),ya]})}return r})(),lS=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=pe({providers:[Ku],imports:[NE,qn,Te,Ir,qn,Te]})}return r})();var Wu=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275cmp=k({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(a,o){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return r})(),Xu={passive:!0},pS=(()=>{class r{_platform=l(We);_ngZone=l(re);_renderer=l(ba).createRenderer(null,null);_styleLoader=l(iE);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Ps;this._styleLoader.load(Wu);let a=zn(e),o=this._monitoredElements.get(a);if(o)return o.subject;let n=new ee,i="cdk-text-field-autofilled",_=E=>{E.animationName==="cdk-text-field-autofill-start"&&!a.classList.contains(i)?(a.classList.add(i),this._ngZone.run(()=>n.next({target:E.target,isAutofilled:!0}))):E.animationName==="cdk-text-field-autofill-end"&&a.classList.contains(i)&&(a.classList.remove(i),this._ngZone.run(()=>n.next({target:E.target,isAutofilled:!1})))},s=this._ngZone.runOutsideAngular(()=>(a.classList.add("cdk-text-field-autofill-monitored"),oE(this._renderer,a,"animationstart",_,Xu)));return this._monitoredElements.set(a,{subject:n,unlisten:s}),n}stopMonitoring(e){let a=zn(e),o=this._monitoredElements.get(a);o&&(o.unlisten(),o.subject.complete(),a.classList.remove("cdk-text-field-autofill-monitored"),a.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(a))}ngOnDestroy(){this._monitoredElements.forEach((e,a)=>this.stopMonitoring(a))}static \u0275fac=function(a){return new(a||r)};static \u0275prov=qt({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var cS=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=pe({})}return r})();var dS=new _e("MAT_INPUT_VALUE_ACCESSOR");var xi=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=pe({imports:[Te,sE,Te]})}return r})();var zu=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Qu=new _e("MAT_INPUT_CONFIG"),uS=(()=>{class r{_elementRef=l(ce);_platform=l(We);ngControl=l(bE,{optional:!0,self:!0});_autofillMonitor=l(pS);_ngZone=l(re);_formField=l(Co,{optional:!0});_renderer=l(Fe);_uid=l(Wa).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=l(Qu,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ee;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Xe(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(VE.required)??!1}set required(e){this._required=Xe(e)}_required;get type(){return this._type}set type(e){let a=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&jn().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==a&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Xe(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>jn().has(e));constructor(){let e=l(GE,{optional:!0}),a=l(wE,{optional:!0}),o=l(CE),n=l(dS,{optional:!0,self:!0}),i=this._elementRef.nativeElement,_=i.nodeName.toLowerCase();n?Vs(n.value)?this._signalBasedValueAccessor=n:this._inputValueAccessor=n:this._inputValueAccessor=i,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(i,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new ME(o,this.ngControl,a,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=_==="select",this._isTextarea=_==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=i.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Dr(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let a=this._elementRef.nativeElement;a.type==="number"?(a.type="text",a.setSelectionRange(0,0),a.type="number"):a.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let a=this._elementRef.nativeElement;this._previousPlaceholder=e,e?a.setAttribute("placeholder",e):a.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){zu.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,a=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&a&&a.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let a=this._elementRef.nativeElement,o=a.getAttribute("aria-describedby"),n;if(o){let i=this._formFieldDescribedBy||e;n=e.concat(o.split(" ").filter(_=>_&&!i.includes(_)))}else n=e;this._formFieldDescribedBy=e,n.length?a.setAttribute("aria-describedby",n.join(" ")):a.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let a=e.target;!a.value&&a.selectionStart===0&&a.selectionEnd===0&&(a.setSelectionRange(1,1),a.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(a){return new(a||r)};static \u0275dir=Pt({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(a,o){a&1&&Q("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),a&2&&(kn("id",o.id)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),Ke("name",o.name||null)("readonly",o._getReadonlyAttribute())("aria-disabled",o.disabled&&o.disabledInteractive?"true":null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),ae("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mat-mdc-input-disabled-interactive",o.disabledInteractive)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ke]},exportAs:["matInput"],features:[ot([{provide:sS,useExisting:r}]),ya]})}return r})(),mS=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=de({type:r});static \u0275inj=pe({imports:[Te,xi,xi,cS,Te]})}return r})();var qu=(r,t)=>t.link;function Zu(r,t){r&1&&(f(0,"mat-icon"),B(1,"menu_open"),M())}function Ju(r,t){r&1&&(f(0,"mat-icon"),B(1,"menu"),M())}function $u(r,t){r&1&&(f(0,"mat-icon"),B(1,"light_mode"),M())}function em(r,t){r&1&&(f(0,"mat-icon"),B(1,"dark_mode"),M())}function tm(r,t){if(r&1){let e=pt();f(0,"button",9),Q("click",function(){Z(e);let o=oe();return J(o.toggleTheme())}),se(1,$u,2,0,"mat-icon")(2,em,2,0,"mat-icon"),M()}if(r&2){let e=oe();b(),Ee(e.theme()==="light"?1:2)}}function rm(r,t){if(r&1&&(f(0,"mat-option",12)(1,"span",13),B(2),M(),f(3,"span",14),B(4),M()()),r&2){let e=t.$implicit;ge("value",e),b(2),It(e.type),b(2),It(e.text)}}function am(r,t){if(r&1){let e=pt();f(0,"div",8)(1,"input",10,0),Q("keyup.enter",function(){Z(e);let o=Jt(2),n=Jt(3),i=Jt(5),_=oe();return _.searchKeywordChange.emit(_.searchKeyword.value||""),o.blur(),n.closePanel(),J(i._isOpen=!1)})("input",function(){Z(e);let o=oe();return J(o.keepSearchKeyword.set(o.searchKeyword.value||""))}),M(),f(4,"mat-autocomplete",11,1),Q("optionSelected",function(o){Z(e);let n=oe();return J(n.optionSelected(o))})("opened",function(){Z(e);let o=oe();return J(o.searchPanelOpened())})("closed",function(){Z(e);let o=oe();return J(o.searchPanelClosed())}),Ga(6,rm,5,3,"mat-option",12,qu),M()()}if(r&2){let e=Jt(5),a=oe();b(),ge("formControl",a.searchKeyword)("matAutocomplete",e),b(5),Ya(a.suggestList())}}var RS=(()=>{class r{constructor(){this.menuOpen=Kn(!0),this.menuOpenChange=Pr(),this.theme=Kn("dark"),this.themeChange=Pr(),this.searchKeywordChange=Pr(),this.selectSuggestItemChange=Pr(),this.platformService=l(tr),this.sitePostService=l(Za),this.isServer=this.platformService.isServer,this.isSmallScreen=this.platformService.isSmallScreen,this.searchKeyword=new to(""),this.keepSearchKeyword=Ct(""),this.suggestList$=hs([this.sitePostService.postsMetaWithSlugAndSortDesc$,this.searchKeyword.valueChanges.pipe(xa(300),Is())]).pipe(jt(([e,a])=>Ia(()=>import("./chunk-A5FBTWJ5.js").then(o=>o.searchPosts)).pipe(rt(o=>o(e,a||""))))),this.suggestList=qa(this.suggestList$)}toggleMenu(){this.menuOpenChange.emit(!this.menuOpen()),F.api.pushEvent("menu-toggle",{menuOpen:this.menuOpen()?"N":"Y",theme:this.theme()==="light"?"dark":"light"})}toggleTheme(){this.themeChange.emit(this.theme()==="light"?"dark":"light"),F.api.pushEvent("theme-toggle",{theme:this.theme()==="light"?"dark":"light"})}optionSelected(e){F.api.pushEvent("suggest-item-selected",{keyword:this.keepSearchKeyword(),link:e.option.value.link,type:e.option.value.type,title:e.option.value.text}),this.selectSuggestItemChange.emit(e.option.value.link),this.searchKeyword.setValue("")}searchPanelOpened(){this.originalView=F.api.getView()?.name,F.api.setView({name:"search-panel"}),F.api.pushEvent("search-panel-opened",{});let{trace:e,context:a}=F.api.getOTEL()??{trace:null,context:null};if(!e||!a)return;let n=e.getTracer("Toolbar").startSpan("Open Search Panel");this.span=n}searchPanelClosed(){F.api.setView({name:this.originalView??""}),F.api.pushEvent("search-panel-closed",{}),this.span&&(this.span.setAttribute("search-keyword",this.keepSearchKeyword()),this.span.end(),this.span=void 0)}goHome(){F.api.pushEvent("go-home")}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=k({type:r,selectors:[["app-layout-toolbar"]],inputs:{menuOpen:[1,"menuOpen"],theme:[1,"theme"]},outputs:{menuOpenChange:"menuOpenChange",themeChange:"themeChange",searchKeywordChange:"searchKeywordChange",selectSuggestItemChange:"selectSuggestItemChange"},decls:11,vars:4,consts:[["input","","trigger","matAutocompleteTrigger"],["auto","matAutocomplete"],["color","primary","xmlns","http://www.w3.org/1999/html",1,"toolbar","mat-elevation-z6","fixed","z-10"],["role","button","aria-label","\u6253\u958B/\u6536\u5408\u9078\u55AE","mat-icon-button","",3,"click"],["routerLink","/",1,"header-link","no-underline","text-[color:var(--header-link-color)]","hover:text-[color:var(--header-link-color)]","hover:no-underline","active:text-[color:var(--header-link-color)]",3,"click"],[1,"header-link","text-2xl"],[1,"grow"],["role","button","aria-label","\u6DF1\u8272/\u4EAE\u8272\u6A21\u5F0F","mat-icon-button","",1,"mr-2"],[1,"search-bar"],["role","button","aria-label","\u6DF1\u8272/\u4EAE\u8272\u6A21\u5F0F","mat-icon-button","",1,"mr-2",3,"click"],["autocomplete","off","type","text","matInput","","accesskey","/","placeholder","\u641C\u5C0B... ( Alt + / )",1,"search-input","h-9","rounded-md","w-60","text-[16px]","border-0","p-2","hidden","md:block",3,"keyup.enter","input","formControl","matAutocomplete"],["panelWidth","auto",3,"optionSelected","opened","closed"],[3,"value"],[1,"suggest-item-type"],[1,"suggest-item-text"]],template:function(a,o){a&1&&(f(0,"mat-toolbar",2)(1,"button",3),Q("click",function(){return o.toggleMenu()}),se(2,Zu,2,0,"mat-icon")(3,Ju,2,0,"mat-icon"),M(),f(4,"h1")(5,"a",4),Q("click",function(){return o.goHome()}),f(6,"span",5),B(7,"\u5168\u7AEF\u958B\u767C\u4EBA\u54E1\u5929\u68AF"),M()()(),w(8,"div",6),se(9,tm,3,1,"button",7)(10,am,8,2,"div",8),M()),a&2&&(b(2),Ee(o.menuOpen()?2:-1),b(),Ee(o.menuOpen()?-1:3),b(6),Ee(o.isServer?-1:9),b(),Ee(o.isSmallScreen()?-1:10))},dependencies:[ka,HE,yE,BE,YE,mE,uE,ja,Qa,mS,uS,lS,SS,xr,Ii,lE,AE],encapsulation:2,changeDetection:0})}}return r})();var om=["matDrawerContent"];function nm(r,t){r&1&&w(0,"mat-progress-bar",2)}var vS=(()=>{class r{constructor(){this.matDrawerContent=Hs("matDrawerContent"),this.cdr=l(Ne),this.router=l(Ka),this.platformService=l(tr),this.menuOpen=Ct(!0),this.theme=Ct("dark"),this.isSmallScreen=this.platformService.isSmallScreen,this.searchKeyword=new to(""),this.pageLoading$=this.router.events.pipe(te(e=>e instanceof $t||e instanceof Fa),rt(e=>e instanceof $t)),this.pageLoading=qa(this.pageLoading$),this.themeEffect=Dr(()=>{this.platformService.isServer||(localStorage.setItem("theme",this.theme()||""),document.body.classList.remove("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.add(`${this.theme()}-theme`),this.cdr.detectChanges())}),this.smallScreenEffect=Dr(()=>{this.platformService.isServer||this.isSmallScreen()&&this.menuOpen.set(!1)})}get isServer(){return this.platformService.isServer}ngOnInit(){this.router.events.pipe(te(e=>e instanceof $t)).subscribe(()=>{let e=this.matDrawerContent();e&&(e.scrollTo({top:0,left:0}),this.cdr.detectChanges())}),this.setTheme(),this.cdr.detectChanges()}async selectSuggestItem(e){await this.router.navigateByUrl(e)}async goSearchPage(e){e&&await this.router.navigate(["query"],{queryParams:{q:e}})}setTheme(){if(this.platformService.isServer)return;let e=localStorage.getItem("theme");e?this.theme.set(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&this.theme.set("light")}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=k({type:r,selectors:[["app-layout"]],viewQuery:function(a,o){a&1&&Ks(o.matDrawerContent,om,5),a&2&&Wn()},decls:8,vars:10,consts:[["matDrawerContent",""],[3,"menuOpenChange","themeChange","selectSuggestItemChange","searchKeywordChange","menuOpen","theme"],["mode","indeterminate","color","accent",1,"!fixed","top-0","z-50"],[1,"drawer-container","top-16","h-[calc(100vh","-","64px)]"],[1,"sidebar","min-w-[240px]","max-w-[240px]",3,"closed","mode","disableClose","opened"],[1,"main-content"]],template:function(a,o){if(a&1){let n=pt();f(0,"app-layout-toolbar",1),Q("menuOpenChange",function(_){return Z(n),J(o.menuOpen.set(_))})("themeChange",function(_){return Z(n),J(o.theme.set(_))})("selectSuggestItemChange",function(_){return Z(n),J(o.selectSuggestItem(_))})("searchKeywordChange",function(_){return Z(n),J(o.goSearchPage(_))}),M(),se(1,nm,1,0,"mat-progress-bar",2),f(2,"mat-drawer-container",3)(3,"mat-drawer",4),Q("closed",function(){return Z(n),J(o.menuOpen.set(!1))}),w(4,"app-layout-sidebar"),M(),f(5,"mat-drawer-content",5,0),w(7,"router-outlet"),M()()}a&2&&(ge("menuOpen",o.menuOpen())("theme",o.theme()),b(),Ee(o.pageLoading()?1:-1),b(2),ae("server-sidebar",o.isServer),ge("mode",o.isSmallScreen()?"over":"side")("disableClose",!o.isSmallScreen())("opened",o.menuOpen()),b(2),ae("server",o.isServer))},dependencies:[aS,rS,iS,hi,Li,wr,$s,RS,_S],styles:[".drawer-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}  .mat-drawer-inner-container::-webkit-scrollbar{height:4px;width:4px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#00000042}@media (max-width: 959.98px){.sidebar[_ngcontent-%COMP%]{min-width:320px;max-width:320px}.sidebar.server-sidebar[_ngcontent-%COMP%]{display:none}}.main-content.server[_ngcontent-%COMP%]{margin-left:240px}@media (max-width: 959.98px){.main-content.server[_ngcontent-%COMP%]{margin-left:0!important}}"],changeDetection:0})}}return r})();var OS=(()=>{class r{constructor(){this.router=l(Ka),this.platformService=l(tr),this.siteMetaService=l(fE)}ngOnInit(){this.router.events.pipe(te(e=>e instanceof $t)).subscribe(()=>{this.siteMetaService.resetMeta({title:"",description:"\u500B\u4EBA\u5B78\u7FD2\u7A0B\u5F0F\u8A2D\u8A08\u3001\u7CFB\u7D71\u958B\u767C\u548C\u8B80\u66F8\u7684\u7D93\u9A57\u53CA\u5FC3\u5F97\u3002",keywords:[],type:"website"})}),this.router.events.pipe(te(e=>e instanceof Fa),Mt(null),xs()).subscribe(e=>{if(!this.platformService.isServer&&cE.production){let a=e[1];if(!a)return;F.api&&(F.api.pushEvent("page_change",{url:a.url}),F.api.setPage({id:a.url,url:a.url}),F.api.setView({name:a.url})),gtag("event","page_view",{page_path:a.url||""})}})}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=k({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(a,o){a&1&&w(0,"app-layout")},dependencies:[vS],encapsulation:2,changeDetection:0})}}return r})();C();var km=me("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function NA(r){return r.getValue(km)===!0}var Wm="deployment.environment";var fA=Wm;var MA="service.name",CA="service.version";var bo=function(r){return r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r}(bo||{});C();var zi="[_0-9a-z-*/]",Xm=`[a-z]${zi}{0,255}`,zm=`[a-z0-9]${zi}{0,240}@[a-z]${zi}{0,13}`,Qm=new RegExp(`^(?:${Xm}|${zm})$`),jm=/^[ -~]{0,255}[!-~]$/,qm=/,|=/;function PA(r){return Qm.test(r)}function hA(r){return jm.test(r)&&!qm.test(r)}var LA=32,Zm=512,DA=",",IA="=",Bo=class r{_internalState=new Map;constructor(t){t&&this._parse(t)}set(t,e){let a=this._clone();return a._internalState.has(t)&&a._internalState.delete(t),a._internalState.set(t,e),a}unset(t){let e=this._clone();return e._internalState.delete(t),e}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,e)=>(t.push(e+IA+this.get(e)),t),[]).join(DA)}_parse(t){t.length>Zm||(this._internalState=t.split(DA).reverse().reduce((e,a)=>{let o=a.trim(),n=o.indexOf(IA);if(n!==-1){let i=o.slice(0,n),_=o.slice(n+1,a.length);PA(i)&&hA(_)&&e.set(i,_)}return e},new Map),this._internalState.size>LA&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,LA))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new r;return t._internalState=new Map(this._internalState),t}};var Go="traceparent",Yo="tracestate",Jm="00",$m="(?!ff)[\\da-f]{2}",eR="(?![0]{32})[\\da-f]{32}",tR="(?![0]{16})[\\da-f]{16}",rR="[\\da-f]{2}",aR=new RegExp(`^\\s?(${$m})-(${eR})-(${tR})-(${rR})(-.*)?\\s?$`);function xA(r){let t=aR.exec(r);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var Zr=class{inject(t,e,a){let o=D.getSpanContext(t);if(!o||NA(t)||!ne(o))return;let n=`${Jm}-${o.traceId}-${o.spanId}-0${Number(o.traceFlags||H.NONE).toString(16)}`;a.set(e,Go,n),o.traceState&&a.set(e,Yo,o.traceState.serialize())}extract(t,e,a){let o=a.get(e,Go);if(!o)return t;let n=Array.isArray(o)?o[0]:o;if(typeof n!="string")return t;let i=xA(n);if(!i)return t;i.isRemote=!0;let _=a.get(e,Yo);if(_){let s=Array.isArray(_)?_.join(","):_;i.traceState=new Bo(typeof s=="string"?s:void 0)}return D.setSpanContext(t,i)}fields(){return[Go,Yo]}};var Pp=Yn(Np());var Mp=Yn(fp());var vv="duration_ns";function Cp(r=[]){var t,e;for(let a of r){let{scopeSpans:o}=a;for(let n of o){let{scope:i,spans:_=[]}=n;for(let s of _){if(s.kind!==Mp.ESpanKind.SPAN_KIND_CLIENT)continue;let E={traceId:s.traceId.toString(),spanId:s.spanId.toString()},T={};for(let c of s.attributes)T[c.key]=String(Object.values(c.value)[0]);!Number.isNaN(s.endTimeUnixNano)&&!Number.isNaN(s.startTimeUnixNano)&&(T[vv]=String(Number(s.endTimeUnixNano)-Number(s.startTimeUnixNano)));let S=((t=i?.name)!==null&&t!==void 0?t:"").indexOf("-"),A=ZE;i?.name&&(S===-1&&(A=(e=i.name.split("/")[1])!==null&&e!==void 0?e:i.name),S>-1&&(A=i?.name.substring(S+1))),F.api.pushEvent(`faro.tracing.${A}`,T,void 0,{spanContext:E,timestampOverwriteMs:Number(s.endTimeUnixNano)/1e6,customPayloadTransformer:c=>{var d,u;return T["faro.action.user.name"]!=null&&T["faro.action.user.parentId"]!=null&&(c.action={name:T["faro.action.user.name"],parentId:T["faro.action.user.parentId"]},(d=c.attributes)===null||d===void 0||delete d["faro.action.user.name"],(u=c.attributes)===null||u===void 0||delete u["faro.action.user.parentId"]),c}})}}}}var an=class{constructor(t){this.config=t}export(t,e){let a=(0,Pp.createExportTraceServiceRequest)(t,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(a),Cp(a.resourceSpans),e({code:bo.SUCCESS})}shutdown(){return Promise.resolve(void 0)}};var hp="deployment.environment.name";var Lp="service.namespace",Dp="session.id";C();C();var U_=function(){function r(){}return r.prototype.emit=function(t){},r}();var Ip=new U_;var Ov=function(){function r(){}return r.prototype.getLogger=function(t,e,a){return new U_},r}();var on=new Ov;var xp=function(){function r(t,e,a,o){this._provider=t,this.name=e,this.version=a,this.options=o}return r.prototype.emit=function(t){this._getLogger().emit(t)},r.prototype._getLogger=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateLogger(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Ip},r}();var y_=function(){function r(){}return r.prototype.getLogger=function(t,e,a){var o;return(o=this.getDelegateLogger(t,e,a))!==null&&o!==void 0?o:new xp(this,t,e,a)},r.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:on},r.prototype.setDelegate=function(t){this._delegate=t},r.prototype.getDelegateLogger=function(t,e,a){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(t,e,a)},r}();var V_=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var Sa=Symbol.for("io.opentelemetry.js.api.logs"),cr=V_;function gp(r,t,e){return function(a){return a===r?t:e}}var b_=1;var Up=function(){function r(){this._proxyLoggerProvider=new y_}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalLoggerProvider=function(t){return cr[Sa]?this.getLoggerProvider():(cr[Sa]=gp(b_,t,on),this._proxyLoggerProvider.setDelegate(t),t)},r.prototype.getLoggerProvider=function(){var t,e;return(e=(t=cr[Sa])===null||t===void 0?void 0:t.call(cr,b_))!==null&&e!==void 0?e:this._proxyLoggerProvider},r.prototype.getLogger=function(t,e,a){return this.getLoggerProvider().getLogger(t,e,a)},r.prototype.disable=function(){delete cr[Sa],this._proxyLoggerProvider=new y_},r}();var nn=Up.getInstance();function yp(r,t,e,a){for(var o=0,n=r.length;o<n;o++){var i=r[o];t&&i.setTracerProvider(t),e&&i.setMeterProvider(e),a&&i.setLoggerProvider&&i.setLoggerProvider(a),i.getConfig().enabled||i.enable()}}function Vp(r){r.forEach(function(t){return t.disable()})}function B_(r){var t,e,a=r.tracerProvider||D.getTracerProvider(),o=r.meterProvider||jr.getMeterProvider(),n=r.loggerProvider||nn.getLoggerProvider(),i=(e=(t=r.instrumentations)===null||t===void 0?void 0:t.flat())!==null&&e!==void 0?e:[];return yp(i,a,o,n),function(){Vp(i)}}C();var mt=Yn(Yp()),Y_=function(){return Y_=Object.assign||function(r){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Y_.apply(this,arguments)},wp=function(){function r(t,e,a){this.instrumentationName=t,this.instrumentationVersion=e,this._config={},this._wrap=mt.wrap,this._unwrap=mt.unwrap,this._massWrap=mt.massWrap,this._massUnwrap=mt.massUnwrap,this.setConfig(a),this._diag=R.createComponentLogger({namespace:t}),this._tracer=D.getTracer(t,e),this._meter=jr.getMeter(t,e),this._logger=nn.getLogger(t,e),this._updateMetricInstruments()}return Object.defineProperty(r.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),r.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(r.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),r.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},r.prototype.getModuleDefinitions=function(){var t,e=(t=this.init())!==null&&t!==void 0?t:[];return Array.isArray(e)?e:[e]},r.prototype._updateMetricInstruments=function(){},r.prototype.getConfig=function(){return this._config},r.prototype.setConfig=function(t){this._config=Y_({enabled:!0},t)},r.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(r.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),r.prototype._runSpanCustomizationHook=function(t,e,a,o){if(t)try{t(a,o)}catch(n){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:e},n)}},r}();var Mv=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),dr=function(r){Mv(t,r);function t(e,a,o){var n=r.call(this,e,a,o)||this;return n._config.enabled&&n.enable(),n}return t}(wp);function pa(r,t,e){var a,o;try{o=r()}catch(n){a=n}finally{if(t(a,o),a&&!e)throw a;return o}}function ur(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var mr=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var Rr=performance;var Cv="http.method",Pv="http.url";var hv="http.host",Lv="http.scheme",Dv="http.status_code";var Iv="http.user_agent";var xv="http.request_content_length_uncompressed";var Hp=Cv,Fp=Pv;var Kp=hv,kp=Lv,Wp=Dv;var Xp=Iv;var zp=xv;var gv=9,Uv=6,yv=Math.pow(10,Uv),Qp=Math.pow(10,gv);function ca(r){var t=r/1e3,e=Math.trunc(t),a=Math.round(r%1e3*yv);return[e,a]}function jp(){var r=Rr.timeOrigin;if(typeof r!="number"){var t=Rr;r=t.timing&&t.timing.fetchStart}return r}function _n(r){var t=ca(jp()),e=ca(typeof r=="number"?r:Rr.now());return qp(t,e)}function qp(r,t){var e=[r[0]+t[0],r[1]+t[1]];return e[1]>=Qp&&(e[1]-=Qp,e[0]+=1),e}var Vv=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Zp(r,t){return typeof t=="string"?r===t:!!r.match(t)}function w_(r,t){var e,a;if(!t)return!1;try{for(var o=Vv(t),n=o.next();!n.done;n=o.next()){var i=n.value;if(Zp(r,i))return!0}}catch(_){e={error:_}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}return!1}C();C();C();var Jp=me("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function H_(r){return r.setValue(Jp,!0)}function wt(r){return r.getValue(Jp)===!0}var $p="=",sn=";",da=",",En="baggage",ec=180,tc=4096,rc=8192;C();var Bv=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n};function ac(r){return r.reduce(function(t,e){var a=""+t+(t!==""?da:"")+e;return a.length>rc?t:a},"")}function oc(r){return r.getAllEntries().map(function(t){var e=Bv(t,2),a=e[0],o=e[1],n=encodeURIComponent(a)+"="+encodeURIComponent(o.value);return o.metadata!==void 0&&(n+=sn+o.metadata.toString()),n})}function nc(r){var t=r.split(sn);if(!(t.length<=0)){var e=t.shift();if(e){var a=e.indexOf($p);if(!(a<=0)){var o=decodeURIComponent(e.substring(0,a).trim()),n=decodeURIComponent(e.substring(a+1).trim()),i;return t.length>0&&(i=kr(t.join(sn))),{key:o,value:n,metadata:i}}}}}var F_=function(){function r(){}return r.prototype.inject=function(t,e,a){var o=K.getBaggage(t);if(!(!o||wt(t))){var n=oc(o).filter(function(_){return _.length<=tc}).slice(0,ec),i=ac(n);i.length>0&&a.set(e,En,i)}},r.prototype.extract=function(t,e,a){var o=a.get(e,En),n=Array.isArray(o)?o.join(da):o;if(!n)return t;var i={};if(n.length===0)return t;var _=n.split(da);return _.forEach(function(s){var E=nc(s);if(E){var T={value:E.value};E.metadata&&(T.metadata=E.metadata),i[E.key]=T}}),Object.entries(i).length===0?t:K.setBaggage(t,K.createBaggage(i))},r.prototype.fields=function(){return[En]},r}();C();var ic=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gv=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n};function Ht(r){var t,e,a={};if(typeof r!="object"||r==null)return a;try{for(var o=ic(Object.entries(r)),n=o.next();!n.done;n=o.next()){var i=Gv(n.value,2),_=i[0],s=i[1];if(!_c(_)){R.warn("Invalid attribute key: "+_);continue}if(!Tn(s)){R.warn("Invalid attribute value set for key: "+_);continue}Array.isArray(s)?a[_]=s.slice():a[_]=s}}catch(E){t={error:E}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return a}function _c(r){return typeof r=="string"&&r.length>0}function Tn(r){return r==null?!0:Array.isArray(r)?Yv(r):sc(r)}function Yv(r){var t,e,a;try{for(var o=ic(r),n=o.next();!n.done;n=o.next()){var i=n.value;if(i!=null){if(!a){if(sc(i)){a=typeof i;continue}return!1}if(typeof i!==a)return!1}}}catch(_){t={error:_}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return!0}function sc(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}C();function Ec(){return function(r){R.error(wv(r))}}function wv(r){return typeof r=="string"?r:JSON.stringify(Hv(r))}function Hv(r){for(var t={},e=r;e!==null;)Object.getOwnPropertyNames(e).forEach(function(a){if(!t[a]){var o=e[a];o&&(t[a]=String(o))}}),e=Object.getPrototypeOf(e);return t}var Fv=Ec();function Ge(r){try{Fv(r)}catch{}}C();var Le=function(r){return r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio",r}(Le||{});var Kv=",",kv=["OTEL_SDK_DISABLED"];function Wv(r){return kv.indexOf(r)>-1}var Xv=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function zv(r){return Xv.indexOf(r)>-1}var Qv=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function jv(r){return Qv.indexOf(r)>-1}var vr=1/0,Or=128,Tc=128,Sc=128,Sn={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:g.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:vr,OTEL_ATTRIBUTE_COUNT_LIMIT:Or,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:vr,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Or,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:vr,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Or,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Tc,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Sc,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Le.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function qv(r,t,e){if(!(typeof e[r]>"u")){var a=String(e[r]);t[r]=a.toLowerCase()==="true"}}function Zv(r,t,e,a,o){if(a===void 0&&(a=-1/0),o===void 0&&(o=1/0),typeof e[r]<"u"){var n=Number(e[r]);isNaN(n)||(n<a?t[r]=a:n>o?t[r]=o:t[r]=n)}}function Jv(r,t,e,a){a===void 0&&(a=Kv);var o=e[r];typeof o=="string"&&(t[r]=o.split(a).map(function(n){return n.trim()}))}var $v={ALL:g.ALL,VERBOSE:g.VERBOSE,DEBUG:g.DEBUG,INFO:g.INFO,WARN:g.WARN,ERROR:g.ERROR,NONE:g.NONE};function eO(r,t,e){var a=e[r];if(typeof a=="string"){var o=$v[a.toUpperCase()];o!=null&&(t[r]=o)}}function An(r){var t={};for(var e in Sn){var a=e;switch(a){case"OTEL_LOG_LEVEL":eO(a,t,r);break;default:if(Wv(a))qv(a,t,r);else if(zv(a))Zv(a,t,r);else if(jv(a))Jv(a,t,r);else{var o=r[a];typeof o<"u"&&o!==null&&(t[a]=String(o))}}}return t}var ln=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};function Je(){var r=An(ln);return Object.assign({},Sn,r)}function pn(){return An(ln)}var $e=performance;var tO="exception.type",rO="exception.message",aO="exception.stacktrace";var cn=tO,dn=rO,Ac=aO;var oO=9,nO=6,iO=Math.pow(10,nO),K_=Math.pow(10,oO);function Rt(r){var t=r/1e3,e=Math.trunc(t),a=Math.round(r%1e3*iO);return[e,a]}function un(){var r=$e.timeOrigin;if(typeof r!="number"){var t=$e;r=t.timing&&t.timing.fetchStart}return r}function k_(r){var t=Rt(un()),e=Rt(typeof r=="number"?r:$e.now());return vn(t,e)}function W_(r,t){var e=t[0]-r[0],a=t[1]-r[1];return a<0&&(e-=1,a+=K_),[e,a]}function mn(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function Rn(r){return mn(r)||typeof r=="number"||r instanceof Date}function vn(r,t){var e=[r[0]+t[0],r[1]+t[1]];return e[1]>=K_&&(e[1]-=K_,e[0]+=1),e}var On=function(r){return r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r}(On||{});C();var _O=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},X_=function(){function r(t){t===void 0&&(t={});var e;this._propagators=(e=t.propagators)!==null&&e!==void 0?e:[],this._fields=Array.from(new Set(this._propagators.map(function(a){return typeof a.fields=="function"?a.fields():[]}).reduce(function(a,o){return a.concat(o)},[])))}return r.prototype.inject=function(t,e,a){var o,n;try{for(var i=_O(this._propagators),_=i.next();!_.done;_=i.next()){var s=_.value;try{s.inject(t,e,a)}catch(E){R.warn("Failed to inject with "+s.constructor.name+". Err: "+E.message)}}}catch(E){o={error:E}}finally{try{_&&!_.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}},r.prototype.extract=function(t,e,a){return this._propagators.reduce(function(o,n){try{return n.extract(o,e,a)}catch(i){R.warn("Failed to extract with "+n.constructor.name+". Err: "+i.message)}return o},t)},r.prototype.fields=function(){return this._fields.slice()},r}();C();var z_="[_0-9a-z-*/]",sO="[a-z]"+z_+"{0,255}",EO="[a-z0-9]"+z_+"{0,240}@[a-z]"+z_+"{0,13}",TO=new RegExp("^(?:"+sO+"|"+EO+")$"),SO=/^[ -~]{0,255}[!-~]$/,AO=/,|=/;function lc(r){return TO.test(r)}function pc(r){return SO.test(r)&&!AO.test(r)}var cc=32,lO=512,dc=",",uc="=",mc=function(){function r(t){this._internalState=new Map,t&&this._parse(t)}return r.prototype.set=function(t,e){var a=this._clone();return a._internalState.has(t)&&a._internalState.delete(t),a._internalState.set(t,e),a},r.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},r.prototype.get=function(t){return this._internalState.get(t)},r.prototype.serialize=function(){var t=this;return this._keys().reduce(function(e,a){return e.push(a+uc+t.get(a)),e},[]).join(dc)},r.prototype._parse=function(t){t.length>lO||(this._internalState=t.split(dc).reverse().reduce(function(e,a){var o=a.trim(),n=o.indexOf(uc);if(n!==-1){var i=o.slice(0,n),_=o.slice(n+1,a.length);lc(i)&&pc(_)&&e.set(i,_)}return e},new Map),this._internalState.size>cc&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,cc))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var t=new r;return t._internalState=new Map(this._internalState),t},r}();var Nn="traceparent",fn="tracestate",pO="00",cO="(?!ff)[\\da-f]{2}",dO="(?![0]{32})[\\da-f]{32}",uO="(?![0]{16})[\\da-f]{16}",mO="[\\da-f]{2}",RO=new RegExp("^\\s?("+cO+")-("+dO+")-("+uO+")-("+mO+")(-.*)?\\s?$");function Rc(r){var t=RO.exec(r);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var Q_=function(){function r(){}return r.prototype.inject=function(t,e,a){var o=D.getSpanContext(t);if(!(!o||wt(t)||!ne(o))){var n=pO+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||H.NONE).toString(16);a.set(e,Nn,n),o.traceState&&a.set(e,fn,o.traceState.serialize())}},r.prototype.extract=function(t,e,a){var o=a.get(e,Nn);if(!o)return t;var n=Array.isArray(o)?o[0]:o;if(typeof n!="string")return t;var i=Rc(n);if(!i)return t;i.isRemote=!0;var _=a.get(e,fn);if(_){var s=Array.isArray(_)?_.join(","):_;i.traceState=new mc(typeof s=="string"?s:void 0)}return D.setSpanContext(t,i)},r.prototype.fields=function(){return[Nn,fn]},r}();var vO="[object Object]",OO="[object Null]",NO="[object Undefined]",fO=Function.prototype,vc=fO.toString,MO=vc.call(Object),CO=PO(Object.getPrototypeOf,Object),Oc=Object.prototype,Nc=Oc.hasOwnProperty,Ft=Symbol?Symbol.toStringTag:void 0,fc=Oc.toString;function PO(r,t){return function(e){return r(t(e))}}function j_(r){if(!hO(r)||LO(r)!==vO)return!1;var t=CO(r);if(t===null)return!0;var e=Nc.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&vc.call(e)===MO}function hO(r){return r!=null&&typeof r=="object"}function LO(r){return r==null?r===void 0?NO:OO:Ft&&Ft in Object(r)?DO(r):IO(r)}function DO(r){var t=Nc.call(r,Ft),e=r[Ft],a=!1;try{r[Ft]=void 0,a=!0}catch{}var o=fc.call(r);return a&&(t?r[Ft]=e:delete r[Ft]),o}function IO(r){return fc.call(r)}var xO=20;function Z_(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.shift(),a=new WeakMap;r.length>0;)e=Cc(e,r.shift(),0,a);return e}function q_(r){return Cn(r)?r.slice():r}function Cc(r,t,e,a){e===void 0&&(e=0);var o;if(!(e>xO)){if(e++,Mn(r)||Mn(t)||Pc(t))o=q_(t);else if(Cn(r)){if(o=r.slice(),Cn(t))for(var n=0,i=t.length;n<i;n++)o.push(q_(t[n]));else if(ua(t))for(var _=Object.keys(t),n=0,i=_.length;n<i;n++){var s=_[n];o[s]=q_(t[s])}}else if(ua(r))if(ua(t)){if(!gO(r,t))return t;o=Object.assign({},r);for(var _=Object.keys(t),n=0,i=_.length;n<i;n++){var s=_[n],E=t[s];if(Mn(E))typeof E>"u"?delete o[s]:o[s]=E;else{var T=o[s],S=E;if(Mc(r,s,a)||Mc(t,s,a))delete o[s];else{if(ua(T)&&ua(S)){var A=a.get(T)||[],c=a.get(S)||[];A.push({obj:r,key:s}),c.push({obj:t,key:s}),a.set(T,A),a.set(S,c)}o[s]=Cc(o[s],E,e,a)}}}}else o=t;return o}}function Mc(r,t,e){for(var a=e.get(r[t])||[],o=0,n=a.length;o<n;o++){var i=a[o];if(i.key===t&&i.obj===r)return!0}return!1}function Cn(r){return Array.isArray(r)}function Pc(r){return typeof r=="function"}function ua(r){return!Mn(r)&&!Cn(r)&&!Pc(r)&&typeof r=="object"}function Mn(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function gO(r,t){return!(!j_(r)||!j_(t))}var hc=function(){function r(){var t=this;this._promise=new Promise(function(e,a){t._resolve=e,t._reject=a})}return Object.defineProperty(r.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),r.prototype.resolve=function(t){this._resolve(t)},r.prototype.reject=function(t){this._reject(t)},r}();var UO=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},yO=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},J_=function(){function r(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new hc}return Object.defineProperty(r.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),r.prototype.call=function(){for(var t,e=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,yO([this._that],UO(a),!1))).then(function(n){return e._deferred.resolve(n)},function(n){return e._deferred.reject(n)})}catch(n){this._deferred.reject(n)}}return this._deferred.promise},r}();C();var Lc="exception";var $_=function(){return $_=Object.assign||function(r){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},$_.apply(this,arguments)},bO=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dc=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},BO=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},es=function(){function r(t,e,a,o,n,i,_,s,E,T){_===void 0&&(_=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:sr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=a,this._spanContext=o,this.parentSpanId=i,this.kind=n,this.links=_;var S=Date.now();this._performanceStartTime=$e.now(),this._performanceOffset=S-(this._performanceStartTime+un()),this._startTimeProvided=s!=null,this.startTime=this._getTime(s??S),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,T!=null&&this.setAttributes(T),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e)}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(t,e){return e==null||this._isSpanEnded()?this:t.length===0?(R.warn("Invalid attribute key: "+t),this):Tn(e)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(e),this):(R.warn("Invalid attribute value set for key: "+t),this)},r.prototype.setAttributes=function(t){var e,a;try{for(var o=bO(Object.entries(t)),n=o.next();!n.done;n=o.next()){var i=Dc(n.value,2),_=i[0],s=i[1];this.setAttribute(_,s)}}catch(E){e={error:E}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}return this},r.prototype.addEvent=function(t,e,a){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return R.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&R.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Rn(e)&&(Rn(a)||(a=e),e=void 0);var o=Ht(e);return this.events.push({name:t,attributes:o,time:this._getTime(a),droppedAttributesCount:0}),this},r.prototype.addLink=function(t){return this.links.push(t),this},r.prototype.addLinks=function(t){var e;return(e=this.links).push.apply(e,BO([],Dc(t),!1)),this},r.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=$_({},t),this.status.message!=null&&typeof t.message!="string"&&(R.warn("Dropping invalid status.message of type '"+typeof t.message+"', expected 'string'"),delete this.status.message),this)},r.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},r.prototype.end=function(t){if(this._isSpanEnded()){R.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(t),this._duration=W_(this.startTime,this.endTime),this._duration[0]<0&&(R.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&R.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},r.prototype._getTime=function(t){if(typeof t=="number"&&t<=$e.now())return k_(t+this._performanceOffset);if(typeof t=="number")return Rt(t);if(t instanceof Date)return Rt(t.getTime());if(mn(t))return t;if(this._startTimeProvided)return Rt(Date.now());var e=$e.now()-this._performanceStartTime;return vn(this.startTime,Rt(e))},r.prototype.isRecording=function(){return this._ended===!1},r.prototype.recordException=function(t,e){var a={};typeof t=="string"?a[dn]=t:t&&(t.code?a[cn]=t.code.toString():t.name&&(a[cn]=t.name),t.message&&(a[dn]=t.message),t.stack&&(a[Ac]=t.stack)),a[cn]||a[dn]?this.addEvent(Lc,a,e):R.warn("Failed to record an exception "+t)},Object.defineProperty(r.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),r.prototype._isSpanEnded=function(){return this._ended&&R.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},r.prototype._truncateToLimitUtil=function(t,e){return t.length<=e?t:t.substring(0,e)},r.prototype._truncateToSize=function(t){var e=this,a=this._attributeValueLengthLimit;return a<=0?(R.warn("Attribute value limit must be positive, got "+a),t):typeof t=="string"?this._truncateToLimitUtil(t,a):Array.isArray(t)?t.map(function(o){return typeof o=="string"?e._truncateToLimitUtil(o,a):o}):t},r}();C();var Re=function(r){return r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",r}(Re||{});var Kt=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:Re.NOT_RECORD}},r.prototype.toString=function(){return"AlwaysOffSampler"},r}();var Et=function(){function r(){}return r.prototype.shouldSample=function(){return{decision:Re.RECORD_AND_SAMPLED}},r.prototype.toString=function(){return"AlwaysOnSampler"},r}();C();var ma=function(){function r(t){var e,a,o,n;this._root=t.root,this._root||(Ge(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Et),this._remoteParentSampled=(e=t.remoteParentSampled)!==null&&e!==void 0?e:new Et,this._remoteParentNotSampled=(a=t.remoteParentNotSampled)!==null&&a!==void 0?a:new Kt,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new Et,this._localParentNotSampled=(n=t.localParentNotSampled)!==null&&n!==void 0?n:new Kt}return r.prototype.shouldSample=function(t,e,a,o,n,i){var _=D.getSpanContext(t);return!_||!ne(_)?this._root.shouldSample(t,e,a,o,n,i):_.isRemote?_.traceFlags&H.SAMPLED?this._remoteParentSampled.shouldSample(t,e,a,o,n,i):this._remoteParentNotSampled.shouldSample(t,e,a,o,n,i):_.traceFlags&H.SAMPLED?this._localParentSampled.shouldSample(t,e,a,o,n,i):this._localParentNotSampled.shouldSample(t,e,a,o,n,i)},r.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},r}();C();var Pn=function(){function r(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return r.prototype.shouldSample=function(t,e){return{decision:_r(e)&&this._accumulate(e)<this._upperBound?Re.RECORD_AND_SAMPLED:Re.NOT_RECORD}},r.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},r.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},r.prototype._accumulate=function(t){for(var e=0,a=0;a<t.length/8;a++){var o=a*8,n=parseInt(t.slice(o,o+8),16);e=(e^n)>>>0}return e},r}();var GO=Le.AlwaysOn,Nr=1;function hn(){var r=Je();return{sampler:ts(r),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:r.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function ts(r){switch(r===void 0&&(r=Je()),r.OTEL_TRACES_SAMPLER){case Le.AlwaysOn:return new Et;case Le.AlwaysOff:return new Kt;case Le.ParentBasedAlwaysOn:return new ma({root:new Et});case Le.ParentBasedAlwaysOff:return new ma({root:new Kt});case Le.TraceIdRatio:return new Pn(Ic(r));case Le.ParentBasedTraceIdRatio:return new ma({root:new Pn(Ic(r))});default:return R.error('OTEL_TRACES_SAMPLER value "'+r.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+GO+'".'),new Et}}function Ic(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return R.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Nr+"."),Nr;var t=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(R.error("OTEL_TRACES_SAMPLER_ARG="+r.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Nr+"."),Nr):t<0||t>1?(R.error("OTEL_TRACES_SAMPLER_ARG="+r.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Nr+"."),Nr):t}function xc(r){var t={sampler:ts()},e=hn(),a=Object.assign({},e,t,r);return a.generalLimits=Object.assign({},e.generalLimits,r.generalLimits||{}),a.spanLimits=Object.assign({},e.spanLimits,r.spanLimits||{}),a}function gc(r){var t,e,a,o,n,i,_,s,E,T,S,A,c=Object.assign({},r.spanLimits),d=pn();return c.attributeCountLimit=(i=(n=(o=(e=(t=r.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&e!==void 0?e:(a=r.generalLimits)===null||a===void 0?void 0:a.attributeCountLimit)!==null&&o!==void 0?o:d.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&n!==void 0?n:d.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:Or,c.attributeValueLengthLimit=(A=(S=(T=(s=(_=r.spanLimits)===null||_===void 0?void 0:_.attributeValueLengthLimit)!==null&&s!==void 0?s:(E=r.generalLimits)===null||E===void 0?void 0:E.attributeValueLengthLimit)!==null&&T!==void 0?T:d.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&S!==void 0?S:d.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&A!==void 0?A:vr,Object.assign({},r,{spanLimits:c})}C();var Uc=function(){function r(t,e){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var a=Je();this._maxExportBatchSize=typeof e?.maxExportBatchSize=="number"?e.maxExportBatchSize:a.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof e?.maxQueueSize=="number"?e.maxQueueSize:a.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof e?.scheduledDelayMillis=="number"?e.scheduledDelayMillis:a.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof e?.exportTimeoutMillis=="number"?e.exportTimeoutMillis:a.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new J_(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(R.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return r.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},r.prototype.onStart=function(t,e){},r.prototype.onEnd=function(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&H.SAMPLED)!==0&&this._addToBuffer(t)},r.prototype.shutdown=function(){return this._shutdownOnce.call()},r.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},r.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&R.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(R.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},r.prototype._flushAll=function(){var t=this;return new Promise(function(e,a){for(var o=[],n=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),i=0,_=n;i<_;i++)o.push(t._flushOneBatch());Promise.all(o).then(function(){e()}).catch(a)})},r.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(e,a){var o=setTimeout(function(){a(new Error("Timeout"))},t._exportTimeoutMillis);U.with(H_(U.active()),function(){var n;t._finishedSpans.length<=t._maxExportBatchSize?(n=t._finishedSpans,t._finishedSpans=[]):n=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i=function(){return t._exporter.export(n,function(S){var A;clearTimeout(o),S.code===On.SUCCESS?e():a((A=S.error)!==null&&A!==void 0?A:new Error("BatchSpanProcessor: span export failed"))})},_=null,s=0,E=n.length;s<E;s++){var T=n[s];T.resource.asyncAttributesPending&&T.resource.waitForAsyncAttributes&&(_??(_=[]),_.push(T.resource.waitForAsyncAttributes()))}_===null?i():Promise.all(_).then(i,function(S){Ge(S),a(S)})})})},r.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var e=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(a){t._isExporting=!1,Ge(a)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(function(){return e()},this._scheduledDelayMillis),this._timer,void 0)}},r.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},r}();var YO=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),kt=function(r){YO(t,r);function t(e,a){var o=r.call(this,e,a)||this;return o.onInit(a),o}return t.prototype.onInit=function(e){var a=this;e?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&a.forceFlush().catch(function(o){Ge(o)})},this._pageHideListener=function(){a.forceFlush().catch(function(o){Ge(o)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(Uc);var wO=8,HO=16,Ra=function(){function r(){this.generateTraceId=yc(HO),this.generateSpanId=yc(wO)}return r}();var Ln=Array(32);function yc(r){return function(){for(var e=0;e<r*2;e++)Ln[e]=Math.floor(Math.random()*16)+48,Ln[e]>=58&&(Ln[e]+=39);return String.fromCharCode.apply(null,Ln.slice(0,r*2))}}var rs=function(){function r(t,e,a){this._tracerProvider=a;var o=xc(e);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=e.idGenerator||new Ra,this.resource=a.resource,this.instrumentationLibrary=t}return r.prototype.startSpan=function(t,e,a){var o,n,i;e===void 0&&(e={}),a===void 0&&(a=U.active()),e.root&&(a=D.deleteSpan(a));var _=D.getSpan(a);if(wt(a)){R.debug("Instrumentation suppressed, returning Noop Span");var s=D.wrapSpanContext(zr);return s}var E=_?.spanContext(),T=this._idGenerator.generateSpanId(),S,A,c;!E||!D.isSpanContextValid(E)?S=this._idGenerator.generateTraceId():(S=E.traceId,A=E.traceState,c=E.spanId);var d=(o=e.kind)!==null&&o!==void 0?o:qe.INTERNAL,u=((n=e.links)!==null&&n!==void 0?n:[]).map(function(j){return{context:j.context,attributes:Ht(j.attributes)}}),L=Ht(e.attributes),O=this._sampler.shouldSample(a,S,t,d,L,u);A=(i=O.traceState)!==null&&i!==void 0?i:A;var P=O.decision===Ce.RECORD_AND_SAMPLED?H.SAMPLED:H.NONE,V={traceId:S,spanId:T,traceFlags:P,traceState:A};if(O.decision===Ce.NOT_RECORD){R.debug("Recording is off, propagating context in a non-recording span");var s=D.wrapSpanContext(V);return s}var Y=Ht(Object.assign(L,O.attributes)),Ye=new es(this,a,t,V,d,c,u,e.startTime,void 0,Y);return Ye},r.prototype.startActiveSpan=function(t,e,a,o){var n,i,_;if(!(arguments.length<2)){arguments.length===2?_=e:arguments.length===3?(n=e,_=a):(n=e,i=a,_=o);var s=i??U.active(),E=this.startSpan(t,n,s),T=D.setSpan(s,E);return U.with(T,_,void 0,E)}},r.prototype.getGeneralLimits=function(){return this._generalLimits},r.prototype.getSpanLimits=function(){return this._spanLimits},r.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},r}();C();C();var FO="process.runtime.name";var KO="service.name";var kO="telemetry.sdk.name",WO="telemetry.sdk.language",XO="telemetry.sdk.version";var Vc=FO;var bc=KO;var va=kO,Oa=WO,Na=XO;var zO="webjs";var Bc=zO;var Gc="1.30.1";var fr,Mr=(fr={},fr[va]="opentelemetry",fr[Vc]="browser",fr[Oa]=Bc,fr[Na]=Gc,fr);function as(){return"unknown_service"}var vt=function(){return vt=Object.assign||function(r){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},vt.apply(this,arguments)},QO=function(r,t,e,a){function o(n){return n instanceof e?n:new e(function(i){i(n)})}return new(e||(e=Promise))(function(n,i){function _(T){try{E(a.next(T))}catch(S){i(S)}}function s(T){try{E(a.throw(T))}catch(S){i(S)}}function E(T){T.done?n(T.value):o(T.value).then(_,s)}E((a=a.apply(r,t||[])).next())})},jO=function(r,t){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,o,n,i;return i={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function _(E){return function(T){return s([E,T])}}function s(E){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,o&&(n=E[0]&2?o.return:E[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,E[1])).done)return n;switch(o=0,n&&(E=[E[0]&2,n.value]),E[0]){case 0:case 1:n=E;break;case 4:return e.label++,{value:E[1],done:!1};case 5:e.label++,o=E[1],E=[0];continue;case 7:E=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(E[0]===6||E[0]===2)){e=0;continue}if(E[0]===3&&(!n||E[1]>n[0]&&E[1]<n[3])){e.label=E[1];break}if(E[0]===6&&e.label<n[1]){e.label=n[1],n=E;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(E);break}n[2]&&e.ops.pop(),e.trys.pop();continue}E=t.call(r,e)}catch(T){E=[6,T],o=0}finally{a=n=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},qO=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},Wt=function(){function r(t,e){var a=this,o;this._attributes=t,this.asyncAttributesPending=e!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=e?.then(function(n){return a._attributes=Object.assign({},a._attributes,n),a.asyncAttributesPending=!1,n},function(n){return R.debug("a resource's async attributes promise rejected: %s",n),a.asyncAttributesPending=!1,{}})}return r.empty=function(){return r.EMPTY},r.default=function(){var t;return new r((t={},t[bc]=as(),t[Oa]=Mr[Oa],t[va]=Mr[va],t[Na]=Mr[Na],t))},Object.defineProperty(r.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&R.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),r.prototype.waitForAsyncAttributes=function(){return QO(this,void 0,void 0,function(){return jO(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},r.prototype.merge=function(t){var e=this,a;if(!t)return this;var o=vt(vt({},this._syncAttributes),(a=t._syncAttributes)!==null&&a!==void 0?a:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new r(o);var n=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(i){var _,s=qO(i,2),E=s[0],T=s[1];return vt(vt(vt(vt({},e._syncAttributes),E),(_=t._syncAttributes)!==null&&_!==void 0?_:t.attributes),T)});return new r(o,n)},r.EMPTY=new r({}),r}();var Dn=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},os=function(){function r(t){this._spanProcessors=t}return r.prototype.forceFlush=function(){var t,e,a=[];try{for(var o=Dn(this._spanProcessors),n=o.next();!n.done;n=o.next()){var i=n.value;a.push(i.forceFlush())}}catch(_){t={error:_}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return new Promise(function(_){Promise.all(a).then(function(){_()}).catch(function(s){Ge(s||new Error("MultiSpanProcessor: forceFlush failed")),_()})})},r.prototype.onStart=function(t,e){var a,o;try{for(var n=Dn(this._spanProcessors),i=n.next();!i.done;i=n.next()){var _=i.value;_.onStart(t,e)}}catch(s){a={error:s}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}}},r.prototype.onEnd=function(t){var e,a;try{for(var o=Dn(this._spanProcessors),n=o.next();!n.done;n=o.next()){var i=n.value;i.onEnd(t)}}catch(_){e={error:_}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}},r.prototype.shutdown=function(){var t,e,a=[];try{for(var o=Dn(this._spanProcessors),n=o.next();!n.done;n=o.next()){var i=n.value;a.push(i.shutdown())}}catch(_){t={error:_}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return new Promise(function(_,s){Promise.all(a).then(function(){_()},s)})},r}();var ns=function(){function r(){}return r.prototype.onStart=function(t,e){},r.prototype.onEnd=function(t){},r.prototype.shutdown=function(){return Promise.resolve()},r.prototype.forceFlush=function(){return Promise.resolve()},r}();var ZO=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},JO=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},Ot=function(r){return r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved",r}(Ot||{}),In=function(){function r(t){t===void 0&&(t={});var e,a;this._registeredSpanProcessors=[],this._tracers=new Map;var o=Z_({},hn(),gc(t));if(this.resource=(e=o.resource)!==null&&e!==void 0?e:Wt.empty(),o.mergeResourceWithDefaults&&(this.resource=Wt.default().merge(this.resource)),this._config=Object.assign({},o,{resource:this.resource}),!((a=t.spanProcessors)===null||a===void 0)&&a.length)this._registeredSpanProcessors=JO([],ZO(t.spanProcessors),!1),this.activeSpanProcessor=new os(this._registeredSpanProcessors);else{var n=this._buildExporterFromEnv();if(n!==void 0){var i=new kt(n);this.activeSpanProcessor=i}else this.activeSpanProcessor=new ns}}return r.prototype.getTracer=function(t,e,a){var o=t+"@"+(e||"")+":"+(a?.schemaUrl||"");return this._tracers.has(o)||this._tracers.set(o,new rs({name:t,version:e,schemaUrl:a?.schemaUrl},this._config,this)),this._tracers.get(o)},r.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(e){return R.error("Error while trying to shutdown current span processor",e)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new os(this._registeredSpanProcessors)},r.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},r.prototype.register=function(t){t===void 0&&(t={}),D.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&U.setGlobalContextManager(t.contextManager),t.propagator&&K.setGlobalPropagator(t.propagator)},r.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,e=this._registeredSpanProcessors.map(function(a){return new Promise(function(o){var n,i=setTimeout(function(){o(new Error("Span processor did not completed within timeout period of "+t+" ms")),n=Ot.timeout},t);a.forceFlush().then(function(){clearTimeout(i),n!==Ot.timeout&&(n=Ot.resolved,o(n))}).catch(function(_){clearTimeout(i),n=Ot.error,o(_)})})});return new Promise(function(a,o){Promise.all(e).then(function(n){var i=n.filter(function(_){return _!==Ot.resolved});i.length>0?o(i):a()}).catch(function(n){return o([n])})})},r.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},r.prototype._getPropagator=function(t){var e;return(e=this.constructor._registeredPropagators.get(t))===null||e===void 0?void 0:e()},r.prototype._getSpanExporter=function(t){var e;return(e=this.constructor._registeredExporters.get(t))===null||e===void 0?void 0:e()},r.prototype._buildPropagatorFromEnv=function(){var t=this,e=Array.from(new Set(Je().OTEL_PROPAGATORS)),a=e.map(function(n){var i=t._getPropagator(n);return i||R.warn('Propagator "'+n+'" requested through environment variable is unavailable.'),i}),o=a.reduce(function(n,i){return i&&n.push(i),n},[]);if(o.length!==0)return e.length===1?o[0]:new X_({propagators:o})},r.prototype._buildExporterFromEnv=function(){var t=Je().OTEL_TRACES_EXPORTER;if(!(t==="none"||t==="")){var e=this._getSpanExporter(t);return e||R.error('Exporter "'+t+'" requested through environment variable is unavailable.'),e}},r._registeredPropagators=new Map([["tracecontext",function(){return new Q_}],["baggage",function(){return new F_}]]),r._registeredExporters=new Map,r}();C();var $O=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},eN=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},Yc=function(){function r(){this._enabled=!1,this._currentContext=st}return r.prototype._bindFunction=function(t,e){t===void 0&&(t=st);var a=this,o=function(){for(var n=this,i=[],_=0;_<arguments.length;_++)i[_]=arguments[_];return a.with(t,function(){return e.apply(n,i)})};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),o},r.prototype.active=function(){return this._currentContext},r.prototype.bind=function(t,e){return t===void 0&&(t=this.active()),typeof e=="function"?this._bindFunction(t,e):e},r.prototype.disable=function(){return this._currentContext=st,this._enabled=!1,this},r.prototype.enable=function(){return this._enabled?this:(this._enabled=!0,this._currentContext=st,this)},r.prototype.with=function(t,e,a){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var i=this._currentContext;this._currentContext=t||st;try{return e.call.apply(e,eN([a],$O(o),!1))}finally{this._currentContext=i}},r}();var tN=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),is=function(r){tN(t,r);function t(e){e===void 0&&(e={});var a=r.call(this,e)||this;if(e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor";return a}return t.prototype.register=function(e){e===void 0&&(e={}),e.contextManager===void 0&&(e.contextManager=new Yc),e.contextManager&&e.contextManager.enable(),r.prototype.register.call(this,e)},t}(In);var y=function(r){return r.CONNECT_END="connectEnd",r.CONNECT_START="connectStart",r.DECODED_BODY_SIZE="decodedBodySize",r.DOM_COMPLETE="domComplete",r.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",r.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",r.DOM_INTERACTIVE="domInteractive",r.DOMAIN_LOOKUP_END="domainLookupEnd",r.DOMAIN_LOOKUP_START="domainLookupStart",r.ENCODED_BODY_SIZE="encodedBodySize",r.FETCH_START="fetchStart",r.LOAD_EVENT_END="loadEventEnd",r.LOAD_EVENT_START="loadEventStart",r.NAVIGATION_START="navigationStart",r.REDIRECT_END="redirectEnd",r.REDIRECT_START="redirectStart",r.REQUEST_START="requestStart",r.RESPONSE_END="responseEnd",r.RESPONSE_START="responseStart",r.SECURE_CONNECTION_START="secureConnectionStart",r.UNLOAD_EVENT_END="unloadEventEnd",r.UNLOAD_EVENT_START="unloadEventStart",r}(y||{});var fa=performance;var rN="http.response_content_length",aN="http.response_content_length_uncompressed";var wc=rN,Hc=aN;var oN=9,nN=6,iN=Math.pow(10,nN),_s=Math.pow(10,oN);function Ma(r){var t=r/1e3,e=Math.trunc(t),a=Math.round(r%1e3*iN);return[e,a]}function ss(){var r=fa.timeOrigin;if(typeof r!="number"){var t=fa;r=t.timing&&t.timing.fetchStart}return r}function Fc(r){var t=Ma(ss()),e=Ma(typeof r=="number"?r:fa.now());return kc(t,e)}function Xt(r){if(Kc(r))return r;if(typeof r=="number")return r<ss()?Fc(r):Ma(r);if(r instanceof Date)return Ma(r.getTime());throw TypeError("Invalid input type")}function et(r){return r[0]*_s+r[1]}function Kc(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function kc(r,t){var e=[r[0]+t[0],r[1]+t[1]];return e[1]>=_s&&(e[1]-=_s,e[0]+=1),e}function Es(r,t){return typeof t=="string"?r===t:!!r.match(t)}var Ts;function _N(){return Ts||(Ts=document.createElement("a")),Ts}function xn(r,t){return t in r}function tt(r,t,e,a){var o=void 0,n=void 0;xn(e,t)&&typeof e[t]=="number"&&(o=e[t]);var i=a||y.FETCH_START;if(xn(e,i)&&typeof e[i]=="number"&&(n=e[i]),o!==void 0&&n!==void 0&&o>=n)return r.addEvent(t,o),r}function zt(r,t,e){e===void 0&&(e=!1),e||(tt(r,y.FETCH_START,t),tt(r,y.DOMAIN_LOOKUP_START,t),tt(r,y.DOMAIN_LOOKUP_END,t),tt(r,y.CONNECT_START,t),xn(t,"name")&&t.name.startsWith("https:")&&tt(r,y.SECURE_CONNECTION_START,t),tt(r,y.CONNECT_END,t),tt(r,y.REQUEST_START,t),tt(r,y.RESPONSE_START,t),tt(r,y.RESPONSE_END,t));var a=t[y.ENCODED_BODY_SIZE];a!==void 0&&r.setAttribute(wc,a);var o=t[y.DECODED_BODY_SIZE];o!==void 0&&a!==o&&r.setAttribute(Hc,o)}function Wc(r){return r.slice().sort(function(t,e){var a=t[y.FETCH_START],o=e[y.FETCH_START];return a>o?1:a<o?-1:0})}function Xc(){return typeof location<"u"?location.origin:void 0}function Ca(r,t,e,a,o,n){o===void 0&&(o=new WeakSet);var i=De(r);r=i.toString();var _=EN(r,t,e,a,o,n);if(_.length===0)return{mainRequest:void 0};if(_.length===1)return{mainRequest:_[0]};var s=Wc(_);if(i.origin!==Xc()&&s.length>1){var E=s[0],T=sN(s,E[y.RESPONSE_END],e),S=E[y.RESPONSE_END],A=T[y.FETCH_START];return A<S&&(T=E,E=void 0),{corsPreFlightRequest:E,mainRequest:T}}else return{mainRequest:_[0]}}function sN(r,t,e){for(var a=et(e),o=et(Xt(t)),n=r[1],i,_=r.length,s=1;s<_;s++){var E=r[s],T=et(Xt(E[y.FETCH_START])),S=et(Xt(E[y.RESPONSE_END])),A=a-S;T>=o&&(!i||A<i)&&(i=A,n=E)}return n}function EN(r,t,e,a,o,n){var i=et(t),_=et(e),s=a.filter(function(E){var T=et(Xt(E[y.FETCH_START])),S=et(Xt(E[y.RESPONSE_END]));return E.initiatorType.toLowerCase()===(n||"xmlhttprequest")&&E.name===r&&T>=i&&S<=_});return s.length>0&&(s=s.filter(function(E){return!o.has(E)})),s}function De(r){if(typeof URL=="function")return new URL(r,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);var t=_N();return t.href=r,t}function Pa(r,t){var e=t||[];(typeof e=="string"||e instanceof RegExp)&&(e=[e]);var a=De(r);return a.origin===Xc()?!0:e.some(function(o){return Es(r,o)})}var gn=function(r){return r.COMPONENT="component",r.HTTP_ERROR_NAME="http.error_name",r.HTTP_STATUS_TEXT="http.status_text",r}(gn||{});C();var SN=function(r,t,e,a){function o(n){return n instanceof e?n:new e(function(i){i(n)})}return new(e||(e=Promise))(function(n,i){function _(T){try{E(a.next(T))}catch(S){i(S)}}function s(T){try{E(a.throw(T))}catch(S){i(S)}}function E(T){T.done?n(T.value):o(T.value).then(_,s)}E((a=a.apply(r,t||[])).next())})},AN=function(r,t){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},a,o,n,i;return i={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function _(E){return function(T){return s([E,T])}}function s(E){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,o&&(n=E[0]&2?o.return:E[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,E[1])).done)return n;switch(o=0,n&&(E=[E[0]&2,n.value]),E[0]){case 0:case 1:n=E;break;case 4:return e.label++,{value:E[1],done:!1};case 5:e.label++,o=E[1],E=[0];continue;case 7:E=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(E[0]===6||E[0]===2)){e=0;continue}if(E[0]===3&&(!n||E[1]>n[0]&&E[1]<n[3])){e.label=E[1];break}if(E[0]===6&&e.label<n[1]){e.label=n[1],n=E;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(E);break}n[2]&&e.ops.pop(),e.trys.pop();continue}E=t.call(r,e)}catch(T){E=[6,T],o=0}finally{a=n=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},lN=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pN=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},zc=R.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function Qc(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r[0]instanceof URL||typeof r[0]=="string"){var e=r[1];if(!e?.body)return Promise.resolve();if(e.body instanceof ReadableStream){var a=cN(e.body),o=a.body,n=a.length;return e.body=o,n}else return Promise.resolve(dN(e.body))}else{var i=r[0];return i?.body?i.clone().text().then(function(_){return Ss(_)}):Promise.resolve()}}function cN(r){if(!r.pipeThrough)return zc.warn("Platform has ReadableStream but not pipeThrough!"),{body:r,length:Promise.resolve(void 0)};var t=0,e,a=new Promise(function(n){e=n}),o=new TransformStream({start:function(){},transform:function(n,i){return SN(this,void 0,void 0,function(){var _;return AN(this,function(s){switch(s.label){case 0:return[4,n];case 1:return _=s.sent(),t+=_.byteLength,i.enqueue(n),[2]}})})},flush:function(){e(t)}});return{body:r.pipeThrough(o),length:a}}function dN(r){if(typeof Document<"u"&&r instanceof Document)return new XMLSerializer().serializeToString(document).length;if(r instanceof Blob)return r.size;if(r.byteLength!==void 0)return r.byteLength;if(r instanceof FormData)return mN(r);if(r instanceof URLSearchParams)return Ss(r.toString());if(typeof r=="string")return Ss(r);zc.warn("unknown body type")}var uN=new TextEncoder;function Ss(r){return uN.encode(r).byteLength}function mN(r){var t,e,a=0;try{for(var o=lN(r.entries()),n=o.next();!n.done;n=o.next()){var i=pN(n.value,2),_=i[0],s=i[1];a+=_.length,s instanceof Blob?a+=s.size:a+=s.length}}catch(E){t={error:E}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return a}var As="0.57.2";var RN=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),vN=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},ON=function(r,t,e){if(e||arguments.length===2)for(var a=0,o=t.length,n;a<o;a++)(n||!(a in t))&&(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return r.concat(n||Array.prototype.slice.call(t))},ls,NN=300,jc=typeof process=="object"&&((ls=process.release)===null||ls===void 0?void 0:ls.name)==="node",ps=function(r){RN(t,r);function t(e){e===void 0&&(e={});var a=r.call(this,"@opentelemetry/instrumentation-fetch",As,e)||this;return a.component="fetch",a.version=As,a.moduleName=a.component,a._usedResources=new WeakSet,a._tasksCount=0,a}return t.prototype.init=function(){},t.prototype._addChildSpan=function(e,a){var o=this.tracer.startSpan("CORS Preflight",{startTime:a[y.FETCH_START]},D.setSpan(U.active(),e));zt(o,a,this.getConfig().ignoreNetworkEvents),o.end(a[y.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(e,a){var o=De(a.url);e.setAttribute(Wp,a.status),a.statusText!=null&&e.setAttribute(gn.HTTP_STATUS_TEXT,a.statusText),e.setAttribute(Kp,o.host),e.setAttribute(kp,o.protocol.replace(":","")),typeof navigator<"u"&&e.setAttribute(Xp,navigator.userAgent)},t.prototype._addHeaders=function(e,a){if(!Pa(a,this.getConfig().propagateTraceHeaderCorsUrls)){var o={};K.inject(U.active(),o),Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(e instanceof Request)K.inject(U.active(),e.headers,{set:function(n,i,_){return n.set(i,typeof _=="string"?_:String(_))}});else if(e.headers instanceof Headers)K.inject(U.active(),e.headers,{set:function(n,i,_){return n.set(i,typeof _=="string"?_:String(_))}});else if(e.headers instanceof Map)K.inject(U.active(),e.headers,{set:function(n,i,_){return n.set(i,typeof _=="string"?_:String(_))}});else{var o={};K.inject(U.active(),o),e.headers=Object.assign({},o,e.headers||{})}},t.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(e,a){var o;if(a===void 0&&(a={}),w_(e,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var n=(a.method||"GET").toUpperCase(),i="HTTP "+n;return this.tracer.startSpan(i,{kind:qe.CLIENT,attributes:(o={},o[gn.COMPONENT]=this.moduleName,o[Hp]=n,o[Fp]=e,o)})},t.prototype._findResourceAndAddNetworkEvents=function(e,a,o){var n=a.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}var i=Ca(a.spanUrl,a.startTime,o,n,this._usedResources,"fetch");if(i.mainRequest){var _=i.mainRequest;this._markResourceAsUsed(_);var s=i.corsPreFlightRequest;s&&(this._addChildSpan(e,s),this._markResourceAsUsed(s)),zt(e,_,this.getConfig().ignoreNetworkEvents)}},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._endSpan=function(e,a,o){var n=this,i=ca(Date.now()),_=_n();this._addFinalSpanAttributes(e,o),setTimeout(function(){var s;(s=a.observer)===null||s===void 0||s.disconnect(),n._findResourceAndAddNetworkEvents(e,a,_),n._tasksCount--,n._clearResources(),e.end(i)},NN)},t.prototype._patchConstructor=function(){var e=this;return function(a){var o=e;return function(){for(var i=[],_=0;_<arguments.length;_++)i[_]=arguments[_];var s=this,E=De(i[0]instanceof Request?i[0].url:String(i[0])).href,T=i[0]instanceof Request?i[0]:i[1]||{},S=o._createSpan(E,T);if(!S)return a.apply(this,i);var A=o._prepareSpanData(E);o.getConfig().measureRequestSize&&Qc.apply(void 0,ON([],vN(i),!1)).then(function(O){O&&S.setAttribute(zp,O)}).catch(function(O){o._diag.warn("getFetchBodyLength",O)});function c(O,P){o._applyAttributesAfterFetch(O,T,P),o._endSpan(O,A,{status:P.status||0,statusText:P.message,url:E})}function d(O,P){o._applyAttributesAfterFetch(O,T,P),P.status>=200&&P.status<400?o._endSpan(O,A,P):o._endSpan(O,A,{status:P.status,statusText:P.statusText,url:E})}function u(O,P,V){try{var Y=V.clone(),Ye=V.clone(),j=Y.body;if(j){var X=j.getReader(),z=function(){X.read().then(function(Ie){var At=Ie.done;At?d(O,Ye):z()},function(Ie){c(O,Ie)})};z()}else d(O,V)}finally{P(V)}}function L(O,P,V){try{c(O,V)}finally{P(V)}}return new Promise(function(O,P){return U.with(D.setSpan(U.active(),S),function(){return o._addHeaders(T,E),o._tasksCount++,a.apply(s,T instanceof Request?[T]:[E,T]).then(u.bind(s,S,O),L.bind(s,S,P))})})}}},t.prototype._applyAttributesAfterFetch=function(e,a,o){var n=this,i=this.getConfig().applyCustomAttributesOnSpan;i&&pa(function(){return i(e,a,o)},function(_){_&&n._diag.error("applyCustomAttributesOnSpan",_)},!0)},t.prototype._prepareSpanData=function(e){var a=_n(),o=[];if(typeof PerformanceObserver!="function")return{entries:o,startTime:a,spanUrl:e};var n=new PerformanceObserver(function(i){var _=i.getEntries();_.forEach(function(s){s.initiatorType==="fetch"&&s.name===e&&o.push(s)})});return n.observe({entryTypes:["resource"]}),{entries:o,observer:n,startTime:a,spanUrl:e}},t.prototype.enable=function(){if(jc){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}ur(fetch)&&(this._unwrap(mr,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(mr,"fetch",this._patchConstructor())},t.prototype.disable=function(){jc||(this._unwrap(mr,"fetch"),this._usedResources=new WeakSet)},t}(dr);C();var Tt=performance;var fN="http.method",MN="http.url";var CN="http.host",PN="http.scheme",hN="http.status_code";var LN="http.user_agent";var DN="http.request_content_length_uncompressed";var qc=fN,Zc=MN;var Jc=CN,$c=PN,ed=hN;var td=LN;var rd=DN;var IN=9,xN=6,gN=Math.pow(10,xN),ad=Math.pow(10,IN);function cs(r){var t=r/1e3,e=Math.trunc(t),a=Math.round(r%1e3*gN);return[e,a]}function od(){var r=Tt.timeOrigin;if(typeof r!="number"){var t=Tt;r=t.timing&&t.timing.fetchStart}return r}function Un(r){var t=cs(od()),e=cs(typeof r=="number"?r:Tt.now());return nd(t,e)}function nd(r,t){var e=[r[0]+t[0],r[1]+t[1]];return e[1]>=ad&&(e[1]-=ad,e[0]+=1),e}var UN=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function id(r,t){return typeof t=="string"?r===t:!!r.match(t)}function ds(r,t){var e,a;if(!t)return!1;try{for(var o=UN(t),n=o.next();!n.done;n=o.next()){var i=n.value;if(id(r,i))return!0}}catch(_){e={error:_}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}return!1}var St=function(r){return r.METHOD_OPEN="open",r.METHOD_SEND="send",r.EVENT_ABORT="abort",r.EVENT_ERROR="error",r.EVENT_LOAD="loaded",r.EVENT_TIMEOUT="timeout",r}(St||{});C();var yN=function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],a=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VN=function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var a=e.call(r),o,n=[],i;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)n.push(o.value)}catch(_){i={error:_}}finally{try{o&&!o.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}return n},bN=R.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function sd(r){if(typeof Document<"u"&&r instanceof Document)return new XMLSerializer().serializeToString(document).length;if(r instanceof Blob)return r.size;if(r.byteLength!==void 0)return r.byteLength;if(r instanceof FormData)return GN(r);if(r instanceof URLSearchParams)return _d(r.toString());if(typeof r=="string")return _d(r);bN.warn("unknown body type")}var BN=new TextEncoder;function _d(r){return BN.encode(r).byteLength}function GN(r){var t,e,a=0;try{for(var o=yN(r.entries()),n=o.next();!n.done;n=o.next()){var i=VN(n.value,2),_=i[0],s=i[1];a+=_.length,s instanceof Blob?a+=s.size:a+=s.length}}catch(E){t={error:E}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return a}var us="0.57.2";var ms=function(r){return r.HTTP_STATUS_TEXT="http.status_text",r}(ms||{});var YN=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(a[n]=o[n])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),wN=300,Rs=function(r){YN(t,r);function t(e){e===void 0&&(e={});var a=r.call(this,"@opentelemetry/instrumentation-xml-http-request",us,e)||this;return a.component="xml-http-request",a.version=us,a.moduleName=a.component,a._tasksCount=0,a._xhrMem=new WeakMap,a._usedResources=new WeakSet,a}return t.prototype.init=function(){},t.prototype._addHeaders=function(e,a){var o=De(a).href;if(!Pa(o,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};K.inject(U.active(),n),Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var i={};K.inject(U.active(),i),Object.keys(i).forEach(function(_){e.setRequestHeader(_,String(i[_]))})},t.prototype._addChildSpan=function(e,a){var o=this;U.with(D.setSpan(U.active(),e),function(){var n=o.tracer.startSpan("CORS Preflight",{startTime:a[y.FETCH_START]});zt(n,a,o.getConfig().ignoreNetworkEvents),n.end(a[y.RESPONSE_END])})},t.prototype._addFinalSpanAttributes=function(e,a,o){if(typeof o=="string"){var n=De(o);a.status!==void 0&&e.setAttribute(ed,a.status),a.statusText!==void 0&&e.setAttribute(ms.HTTP_STATUS_TEXT,a.statusText),e.setAttribute(Jc,n.host),e.setAttribute($c,n.protocol.replace(":","")),e.setAttribute(td,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(e,a){var o=this,n=this.getConfig().applyCustomAttributesOnSpan;typeof n=="function"&&pa(function(){return n(e,a)},function(i){i&&o._diag.error("applyCustomAttributesOnSpan",i)},!0)},t.prototype._addResourceObserver=function(e,a){var o=this._xhrMem.get(e);!o||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(o.createdResources={observer:new PerformanceObserver(function(n){var i=n.getEntries(),_=De(a);i.forEach(function(s){s.initiatorType==="xmlhttprequest"&&s.name===_.href&&o.createdResources&&o.createdResources.entries.push(s)})}),entries:[]},o.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(Tt.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(e,a,o,n,i){if(!(!o||!n||!i||!e.createdResources)){var _=e.createdResources.entries;(!_||!_.length)&&(_=Tt.getEntriesByType("resource"));var s=Ca(De(o).href,n,i,_,this._usedResources);if(s.mainRequest){var E=s.mainRequest;this._markResourceAsUsed(E);var T=s.corsPreFlightRequest;T&&(this._addChildSpan(a,T),this._markResourceAsUsed(T)),zt(a,E,this.getConfig().ignoreNetworkEvents)}}},t.prototype._cleanPreviousSpanInformation=function(e){var a=this._xhrMem.get(e);if(a){var o=a.callbackToRemoveEvents;o&&o(),this._xhrMem.delete(e)}},t.prototype._createSpan=function(e,a,o){var n;if(ds(a,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var i=o.toUpperCase(),_=this.tracer.startSpan(i,{kind:qe.CLIENT,attributes:(n={},n[qc]=o,n[Zc]=De(a).toString(),n)});return _.addEvent(St.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:_,spanUrl:a}),_},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._patchOpen=function(){var e=this;return function(a){var o=e;return function(){for(var i=[],_=0;_<arguments.length;_++)i[_]=arguments[_];var s=i[0],E=i[1];return o._createSpan(this,E,s),a.apply(this,i)}}},t.prototype._patchSend=function(){var e=this;function a(T,S,A,c){var d=S.callbackToRemoveEvents;typeof d=="function"&&d();var u=S.span,L=S.spanUrl,O=S.sendStartTime;u&&(e._findResourceAndAddNetworkEvents(S,u,L,O,A),u.addEvent(T,c),e._addFinalSpanAttributes(u,S,L),u.end(c),e._tasksCount--),e._clearResources()}function o(T,S){var A=e._xhrMem.get(S);if(A){A.status=S.status,A.statusText=S.statusText,e._xhrMem.delete(S),A.span&&e._applyAttributesAfterXHR(A.span,S);var c=Un(),d=Date.now();setTimeout(function(){a(T,A,c,d)},wN)}}function n(){o(St.EVENT_ERROR,this)}function i(){o(St.EVENT_ABORT,this)}function _(){o(St.EVENT_TIMEOUT,this)}function s(){this.status<299?o(St.EVENT_LOAD,this):o(St.EVENT_ERROR,this)}function E(T){T.removeEventListener("abort",i),T.removeEventListener("error",n),T.removeEventListener("load",s),T.removeEventListener("timeout",_);var S=e._xhrMem.get(T);S&&(S.callbackToRemoveEvents=void 0)}return function(T){return function(){for(var A=this,c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var u=e._xhrMem.get(this);if(!u)return T.apply(this,c);var L=u.span,O=u.spanUrl;if(L&&O){if(e.getConfig().measureRequestSize&&c?.[0]){var P=c[0],V=sd(P);V!==void 0&&L.setAttribute(rd,V)}U.with(D.setSpan(U.active(),L),function(){e._tasksCount++,u.sendStartTime=Un(),L.addEvent(St.METHOD_SEND),A.addEventListener("abort",i),A.addEventListener("error",n),A.addEventListener("load",s),A.addEventListener("timeout",_),u.callbackToRemoveEvents=function(){E(A),u.createdResources&&u.createdResources.observer.disconnect()},e._addHeaders(A,O),e._addResourceObserver(A,O)})}return T.apply(this,c)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),ur(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),ur(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(dr);var yn=class extends Rs{constructor(t={}){super(t);let e=this;this.parentCreateSpan=e._createSpan.bind(this)}_patchOpen(){return t=>{let e=this;return function(...o){try{let n=o[0],i=JE(o[1]);e.parentCreateSpan(this,i,n)}catch(n){F.internalLogger.error(n)}return t.apply(this,o)}}}};C();function HN(r,t,e){let a=e instanceof Error?0:e.status;Ed(r,a)}function FN(r,t){Ed(r,t.status)}function Ed(r,t){if(t==null)return;let e=t===0,a=t>=400&&t<600;(e||a)&&r.setStatus({code:sr.ERROR})}function Td(r){return(t,e,a)=>{HN(t,e,a),r?.(t,e,a)}}function Sd(r){return(t,e)=>{FN(t,e),r?.(t,e)}}var KN=function(r,t){var e={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(e[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(e[a[o]]=r[a[o]]);return e};function Ad(r={}){let{fetchInstrumentationOptions:t,xhrInstrumentationOptions:e}=r,a=KN(r,["fetchInstrumentationOptions","xhrInstrumentationOptions"]),o=kN(t,a),n=WN(e,a);return[new ps(o),new yn(n)]}function kN(r,t){return Object.assign(Object.assign(Object.assign(Object.assign({},t),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:Td(r?.applyCustomAttributesOnSpan)})}function WN(r,t){return Object.assign(Object.assign(Object.assign(Object.assign({},t),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:Sd(r?.applyCustomAttributesOnSpan)})}C();var Vn=class{constructor(t,e){this.processor=t,this.metas=e}forceFlush(){return this.processor.forceFlush()}onStart(t,e){var a;let o=this.metas.value.session;o?.id&&(t.attributes[Dp]=o.id,t.attributes.session_id=o.id);let n=(a=this.metas.value.user)!==null&&a!==void 0?a:{};n.email&&(t.attributes["user.email"]=n.email),n.id&&(t.attributes["user.id"]=n.id),n.username&&(t.attributes["user.name"]=n.username),n.fullName&&(t.attributes["user.full_name"]=n.fullName),n.roles&&(t.attributes["user.roles"]=n.roles.split(",").map(i=>i.trim())),n.hash&&(t.attributes["user.hash"]=n.hash),this.processor.onStart(t,e)}onEnd(t){this.processor.onEnd(t)}shutdown(){return this.processor.shutdown()}};C();var bn=class{constructor(t){this.processor=t,QE.subscribe(e=>{if(e.type===WE){this.message=e;return}[XE,zE].includes(e.type)&&(this.message=void 0)})}forceFlush(){return this.processor.forceFlush()}onStart(t,e){var a,o;t.kind===qe.CLIENT&&this.message&&(t.attributes["faro.action.user.name"]=(a=this.message)===null||a===void 0?void 0:a.name,t.attributes["faro.action.user.parentId"]=(o=this.message)===null||o===void 0?void 0:o.parentId),this.processor.onStart(t,e)}onEnd(t){this.processor.onEnd(t)}shutdown(){return this.processor.shutdown()}};function ld(r={}){var t;return((t=r.attributes)===null||t===void 0?void 0:t.isSampled)==="true"?Re.RECORD_AND_SAMPLED:Re.NOT_RECORD}var vs=(()=>{class r extends jE{constructor(e={}){super(),this.options=e,this.name="@grafana/faro-web-tracing",this.version=qE}initialize(){var e,a,o,n;let i=this.options,_={};this.config.app.name&&(_[MA]=this.config.app.name),this.config.app.namespace&&(_[Lp]=this.config.app.namespace),this.config.app.version&&(_[CA]=this.config.app.version),this.config.app.environment&&(_[hp]=this.config.app.environment,_[fA]=this.config.app.environment),Object.assign(_,i.resourceAttributes);let s=Wt.default().merge(new Wt(_));new is({resource:s,sampler:{shouldSample:()=>({decision:ld(this.api.getSession())})},spanProcessors:[(e=i.spanProcessor)!==null&&e!==void 0?e:new bn(new Vn(new kt(new an({api:this.api}),{scheduledDelayMillis:r.SCHEDULED_BATCH_DELAY_MS,maxExportBatchSize:30}),this.metas))]}).register({propagator:(a=i.propagator)!==null&&a!==void 0?a:new Zr,contextManager:i.contextManager});let{propagateTraceHeaderCorsUrls:T,fetchInstrumentationOptions:S,xhrInstrumentationOptions:A}=(o=this.options.instrumentationOptions)!==null&&o!==void 0?o:{};B_({instrumentations:(n=i.instrumentations)!==null&&n!==void 0?n:Ad({ignoreUrls:this.getIgnoreUrls(),propagateTraceHeaderCorsUrls:T,fetchInstrumentationOptions:S,xhrInstrumentationOptions:A})}),this.api.initOTEL(D,U)}getIgnoreUrls(){return this.transports.transports.flatMap(e=>e.getIgnoreUrls())}}return r.SCHEDULED_BATCH_DELAY_MS=1e3,r})();var pd=()=>{eT({url:"https://faro-collector-prod-ap-southeast-1.grafana.net/collect/7589747939196e0549ee6d33aa985355",app:{name:"Fullstack Ladder",version:"1.0.0",environment:"production"},instrumentations:[...$E(),new vs]})};pd();zs(OS,eS).catch(r=>console.error(r));
