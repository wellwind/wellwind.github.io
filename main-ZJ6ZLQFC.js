import{a as Ll,b as Il,c as wl,d as Ul,e as Vl,f as Fl,g as oi,h as Bl,i as kl,j as Gl,k as Hl,l as Yl,m as zl,n as Kl,o as Wl,p as jl,q as ql,r as Ql,s as Xl,t as $l,u as Go,v as G,w as Zl,x as Jl,y as ec,z as tc}from"./chunk-GNNTJAI7.js";import{a as El,b as Tl}from"./chunk-OFRKGTJD.js";import{a as bl,b as vl,c as Ol,d as Cl,e as xl,f as ii,g as Nl,h as Ml,i as ko}from"./chunk-WHQXO6VO.js";import{c as Pl,d as Dl}from"./chunk-3R74DFUH.js";import{a as Rl}from"./chunk-LTWU2YAM.js";import{a as Sl,b as ti,c as ri,d as Ir,f as gl,g as Al,h as ni,i as yl}from"./chunk-NBJ7CMD7.js";import{a as Jn,e as fl,f as hl,g as lr,h as ei}from"./chunk-JBH457TQ.js";import{a as pl,e as ml,f as _l,g as $n,h as Zn}from"./chunk-ZR34AVFL.js";import{$ as Te,$a as we,Aa as ce,C as Dt,D as rr,Da as qe,E as De,Ea as Le,Eb as Wa,F as Da,Fa as ir,Fb as ja,Fc as Xn,G as C,Ga as ie,H as La,Ha as kn,Hb as qa,Hc as ue,I as nr,Ib as Qa,J as Ee,Ja as de,K as le,L as Un,La as Gn,M as m,Ma as Hn,Mb as Xa,N as Ia,Na as A,Nb as $a,Oa as R,Ob as Za,P as Vn,Pa as B,Pb as sr,Q as X,Qb as Kn,R as $,Ra as Et,Sa as Io,Sb as Ja,T as Fn,Ta as W,Tb as Wn,Ua as oe,Ub as jn,Va as wt,Vb as el,W as be,Wa as ot,Wb as tl,X as ne,Xb as rl,Ya as Ut,Yb as nl,Z as Mr,Za as Vt,Zb as il,_ as Lo,_a as Ie,_b as Xe,a as Dn,aa as wa,ab as Ya,b as Mo,ba as Lt,bb as wo,bc as Vo,c as te,ca as Ua,cb as or,cc as ol,da as Va,db as w,dc as sl,e as Oa,eb as Ft,fa as We,fb as Yn,g as Po,gb as st,gc as al,ha as Fa,ib as za,j as it,ja as Pr,jc as ll,k as Ca,kc as cl,l as Ln,lc as dl,n as xa,na as P,nc as qn,oa as Ba,ob as Ka,oc as ar,p as tr,pa as Bn,pb as ve,pc as ul,q as re,qa as je,qb as Qe,qc as Fo,rb as Uo,rc as Qn,sa as ka,t as In,ta as Ga,tb as Dr,u as wn,ub as Lr,v as Do,va as Y,w as Na,wa as Se,wb as zn,x as Ma,xa as It,xc as Bo,yc as $e,z as Pa,za as Ha}from"./chunk-MAD2N4LW.js";import{a as ht,c as va,d as f,e as Pt,f as r_,g as Pn,h as n_}from"./chunk-VOSPIT4N.js";var Rd,bd=f(()=>{"use strict";Rd=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var vd=f(()=>{"use strict";bd()});var ct,Rs=f(()=>{"use strict";ct="1.9.0"});function jf(r){var e=new Set([r]),t=new Set,n=r.match(Od);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(l){return l===r};function o(a){return t.add(a),!1}function s(a){return e.add(a),!0}return function(l){if(e.has(l))return!0;if(t.has(l))return!1;var c=l.match(Od);if(!c)return o(l);var d={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return d.prerelease!=null||i.major!==d.major?o(l):i.major===0?i.minor===d.minor&&i.patch<=d.patch?s(l):o(l):i.minor<=d.minor?s(l):o(l)}}var Od,Cd,xd=f(()=>{"use strict";Rs();Od=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;Cd=jf(ct)});function Je(r,e,t,n){var i;n===void 0&&(n=!1);var o=Kr[zr]=(i=Kr[zr])!==null&&i!==void 0?i:{version:ct};if(!n&&o[r]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return t.error(s.stack||s.message),!1}if(o.version!==ct){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+r+" does not match previously registered API v"+ct);return t.error(s.stack||s.message),!1}return o[r]=e,t.debug("@opentelemetry/api: Registered a global for "+r+" v"+ct+"."),!0}function ge(r){var e,t,n=(e=Kr[zr])===null||e===void 0?void 0:e.version;if(!(!n||!Cd(n)))return(t=Kr[zr])===null||t===void 0?void 0:t[r]}function et(r,e){e.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+ct+".");var t=Kr[zr];t&&delete t[r]}var qf,zr,Kr,Yt=f(()=>{"use strict";vd();Rs();xd();qf=ct.split(".")[0],zr=Symbol.for("opentelemetry.js.api."+qf),Kr=Rd});function Wr(r,e,t){var n=ge("diag");if(n)return t.unshift(e),n[r].apply(n,Xf([],Qf(t),!1))}var Qf,Xf,Nd,Md=f(()=>{"use strict";Yt();Qf=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Xf=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Nd=function(){function r(e){this._namespace=e.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wr("debug",this._namespace,e)},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wr("error",this._namespace,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wr("info",this._namespace,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wr("warn",this._namespace,e)},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wr("verbose",this._namespace,e)},r}()});var U,Ni=f(()=>{"use strict";U=function(r){return r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL",r}(U||{})});function Pd(r,e){r<U.NONE?r=U.NONE:r>U.ALL&&(r=U.ALL),e=e||{};function t(n,i){var o=e[n];return typeof o=="function"&&r>=i?o.bind(e):function(){}}return{error:t("error",U.ERROR),warn:t("warn",U.WARN),info:t("info",U.INFO),debug:t("debug",U.DEBUG),verbose:t("verbose",U.VERBOSE)}}var Dd=f(()=>{"use strict";Ni()});var $f,Zf,Jf,Z,zt=f(()=>{"use strict";Md();Dd();Ni();Yt();$f=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Zf=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Jf="diag",Z=function(){function r(){function e(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=ge("diag");if(a)return a[i].apply(a,Zf([],$f(o),!1))}}var t=this,n=function(i,o){var s,a,l;if(o===void 0&&(o={logLevel:U.INFO}),i===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var d=ge("diag"),u=Pd((a=o.logLevel)!==null&&a!==void 0?a:U.INFO,i);if(d&&!o.suppressOverrideMessage){var E=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+E),u.warn("Current logger will overwrite one already registered from "+E)}return Je("diag",u,t,!0)};t.setLogger=n,t.disable=function(){et(Jf,t)},t.createComponentLogger=function(i){return new Nd(i)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r}()});var eh,th,Ld,Id=f(()=>{"use strict";eh=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},th=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ld=function(){function r(e){this._entries=e?new Map(e):new Map}return r.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=eh(e,2),n=t[0],i=t[1];return[n,i]})},r.prototype.setEntry=function(e,t){var n=new r(this._entries);return n._entries.set(e,t),n},r.prototype.removeEntry=function(e){var t=new r(this._entries);return t._entries.delete(e),t},r.prototype.removeEntries=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=new r(this._entries);try{for(var s=th(n),a=s.next();!a.done;a=s.next()){var l=a.value;o._entries.delete(l)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o},r.prototype.clear=function(){return new r},r}()});var wd,Ud=f(()=>{"use strict";wd=Symbol("BaggageEntryMetadata")});function Vd(r){return r===void 0&&(r={}),new Ld(new Map(Object.entries(r)))}function bs(r){return typeof r!="string"&&(rh.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:wd,toString:function(){return r}}}var rh,vs=f(()=>{"use strict";zt();Id();Ud();rh=Z.instance()});function dt(r){return Symbol.for(r)}var nh,ut,jr=f(()=>{"use strict";nh=function(){function r(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(n){return t._currentContext.get(n)},t.setValue=function(n,i){var o=new r(t._currentContext);return o._currentContext.set(n,i),o},t.deleteValue=function(n){var i=new r(t._currentContext);return i._currentContext.delete(n),i}}return r}(),ut=new nh});var Kt,ih,Mi,oh,sh,ah,lh,Os,ch,dh,uh,Fd,ph,mh,_h,fh,hh,Eh,Th,Bd=f(()=>{"use strict";Kt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ih=function(){function r(){}return r.prototype.createGauge=function(e,t){return mh},r.prototype.createHistogram=function(e,t){return _h},r.prototype.createCounter=function(e,t){return ph},r.prototype.createUpDownCounter=function(e,t){return fh},r.prototype.createObservableGauge=function(e,t){return Eh},r.prototype.createObservableCounter=function(e,t){return hh},r.prototype.createObservableUpDownCounter=function(e,t){return Th},r.prototype.addBatchObservableCallback=function(e,t){},r.prototype.removeBatchObservableCallback=function(e){},r}(),Mi=function(){function r(){}return r}(),oh=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,n){},e}(Mi),sh=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,n){},e}(Mi),ah=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,n){},e}(Mi),lh=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,n){},e}(Mi),Os=function(){function r(){}return r.prototype.addCallback=function(e){},r.prototype.removeCallback=function(e){},r}(),ch=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Os),dh=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Os),uh=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Os),Fd=new ih,ph=new oh,mh=new ah,_h=new lh,fh=new sh,hh=new ch,Eh=new dh,Th=new uh});var kd,Gd,Hd=f(()=>{"use strict";kd={get:function(r,e){if(r!=null)return r[e]},keys:function(r){return r==null?[]:Object.keys(r)}},Gd={set:function(r,e,t){r!=null&&(r[e]=t)}}});var Sh,gh,Yd,zd=f(()=>{"use strict";jr();Sh=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},gh=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Yd=function(){function r(){}return r.prototype.active=function(){return ut},r.prototype.with=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return t.call.apply(t,gh([n],Sh(i),!1))},r.prototype.bind=function(e,t){return t},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r}()});var Ah,yh,Cs,Rh,St,qr=f(()=>{"use strict";zd();Yt();zt();Ah=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},yh=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Cs="context",Rh=new Yd,St=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(e){return Je(Cs,e,Z.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(e,t,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,yh([e,t,n],Ah(o),!1))},r.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},r.prototype._getContextManager=function(){return ge(Cs)||Rh},r.prototype.disable=function(){this._getContextManager().disable(),et(Cs,Z.instance())},r}()});var _e,xs=f(()=>{"use strict";_e=function(r){return r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED",r}(_e||{})});var Pi,Di,Qr,Li=f(()=>{"use strict";xs();Pi="0000000000000000",Di="00000000000000000000000000000000",Qr={traceId:Di,spanId:Pi,traceFlags:_e.NONE}});var gt,Ii=f(()=>{"use strict";Li();gt=function(){function r(e){e===void 0&&(e=Qr),this._spanContext=e}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return this},r.prototype.setAttributes=function(e){return this},r.prototype.addEvent=function(e,t){return this},r.prototype.addLink=function(e){return this},r.prototype.addLinks=function(e){return this},r.prototype.setStatus=function(e){return this},r.prototype.updateName=function(e){return this},r.prototype.end=function(e){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(e,t){},r}()});function wi(r){return r.getValue(Ns)||void 0}function Kd(){return wi(St.getInstance().active())}function Xr(r,e){return r.setValue(Ns,e)}function Wd(r){return r.deleteValue(Ns)}function jd(r,e){return Xr(r,new gt(e))}function Ui(r){var e;return(e=wi(r))===null||e===void 0?void 0:e.spanContext()}var Ns,Ms=f(()=>{"use strict";jr();Ii();qr();Ns=dt("OpenTelemetry Context Key SPAN")});function Vi(r){return bh.test(r)&&r!==Di}function qd(r){return vh.test(r)&&r!==Pi}function pt(r){return Vi(r.traceId)&&qd(r.spanId)}function Qd(r){return new gt(r)}var bh,vh,Fi=f(()=>{"use strict";Li();Ii();bh=/^([0-9a-f]{32})$/i,vh=/^[0-9a-f]{16}$/i});function Oh(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var Ps,Bi,Ds=f(()=>{"use strict";qr();Ms();Ii();Fi();Ps=St.getInstance(),Bi=function(){function r(){}return r.prototype.startSpan=function(e,t,n){n===void 0&&(n=Ps.active());var i=!!t?.root;if(i)return new gt;var o=n&&Ui(n);return Oh(o)&&pt(o)?new gt(o):new gt},r.prototype.startActiveSpan=function(e,t,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=t:arguments.length===3?(o=t,a=n):(o=t,s=n,a=i);var l=s??Ps.active(),c=this.startSpan(e,o,l),d=Xr(l,c);return Ps.with(d,a,void 0,c)}},r}()});var Ch,Xd,$d=f(()=>{"use strict";Ds();Ch=new Bi,Xd=function(){function r(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}return r.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},r.prototype.startActiveSpan=function(e,t,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ch},r}()});var Zd,Jd=f(()=>{"use strict";Ds();Zd=function(){function r(){}return r.prototype.getTracer=function(e,t,n){return new Bi},r}()});var xh,Ls,eu=f(()=>{"use strict";$d();Jd();xh=new Zd,Ls=function(){function r(){}return r.prototype.getTracer=function(e,t,n){var i;return(i=this.getDelegateTracer(e,t,n))!==null&&i!==void 0?i:new Xd(this,e,t,n)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:xh},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateTracer=function(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,t,n)},r}()});var $r,tu=f(()=>{"use strict";$r=function(r){return r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",r}($r||{})});var tt,ru=f(()=>{"use strict";tt=function(r){return r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER",r}(tt||{})});var Be,nu=f(()=>{"use strict";Be=function(r){return r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR",r}(Be||{})});var x,iu=f(()=>{"use strict";qr();x=St.getInstance()});var b,ou=f(()=>{"use strict";zt();b=Z.instance()});var Nh,su,au=f(()=>{"use strict";Bd();Nh=function(){function r(){}return r.prototype.getMeter=function(e,t,n){return Fd},r}(),su=new Nh});var Is,lu,cu=f(()=>{"use strict";au();Yt();zt();Is="metrics",lu=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(e){return Je(Is,e,Z.instance())},r.prototype.getMeterProvider=function(){return ge(Is)||su},r.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},r.prototype.disable=function(){et(Is,Z.instance())},r}()});var Zr,du=f(()=>{"use strict";cu();Zr=lu.getInstance()});var uu,pu=f(()=>{"use strict";uu=function(){function r(){}return r.prototype.inject=function(e,t){},r.prototype.extract=function(e,t){return e},r.prototype.fields=function(){return[]},r}()});function Us(r){return r.getValue(ws)||void 0}function mu(){return Us(St.getInstance().active())}function _u(r,e){return r.setValue(ws,e)}function fu(r){return r.deleteValue(ws)}var ws,hu=f(()=>{"use strict";qr();jr();ws=dt("OpenTelemetry Baggage Key")});var Vs,Mh,Eu,Tu=f(()=>{"use strict";Yt();pu();Hd();hu();vs();zt();Vs="propagation",Mh=new uu,Eu=function(){function r(){this.createBaggage=Vd,this.getBaggage=Us,this.getActiveBaggage=mu,this.setBaggage=_u,this.deleteBaggage=fu}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(e){return Je(Vs,e,Z.instance())},r.prototype.inject=function(e,t,n){return n===void 0&&(n=Gd),this._getGlobalPropagator().inject(e,t,n)},r.prototype.extract=function(e,t,n){return n===void 0&&(n=kd),this._getGlobalPropagator().extract(e,t,n)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){et(Vs,Z.instance())},r.prototype._getGlobalPropagator=function(){return ge(Vs)||Mh},r}()});var j,Su=f(()=>{"use strict";Tu();j=Eu.getInstance()});var Fs,gu,Au=f(()=>{"use strict";Yt();eu();Fi();Ms();zt();Fs="trace",gu=function(){function r(){this._proxyTracerProvider=new Ls,this.wrapSpanContext=Qd,this.isSpanContextValid=pt,this.deleteSpan=Wd,this.getSpan=wi,this.getActiveSpan=Kd,this.getSpanContext=Ui,this.setSpan=Xr,this.setSpanContext=jd}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(e){var t=Je(Fs,this._proxyTracerProvider,Z.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},r.prototype.getTracerProvider=function(){return ge(Fs)||this._proxyTracerProvider},r.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},r.prototype.disable=function(){et(Fs,Z.instance()),this._proxyTracerProvider=new Ls},r}()});var D,yu=f(()=>{"use strict";Au();D=gu.getInstance()});var M=f(()=>{"use strict";vs();jr();Ni();tu();ru();nu();xs();Fi();Li();iu();ou();du();Su();yu()});function _r(r){return r.setValue(Bs,!0)}function Ru(r){return r.deleteValue(Bs)}function At(r){return r.getValue(Bs)===!0}var Bs,en=f(()=>{"use strict";M();Bs=dt("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var bu,ki,fr,Gi,ks=f(()=>{"use strict";bu="=",ki=";",fr=",",Gi="baggage"});function vu(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?fr:""}${t}`;return n.length>8192?e:n},"")}function Ou(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=ki+t.metadata.toString()),n})}function Gs(r){let e=r.split(ki);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.indexOf(bu);if(n<=0)return;let i=decodeURIComponent(t.substring(0,n).trim()),o=decodeURIComponent(t.substring(n+1).trim()),s;return e.length>0&&(s=bs(e.join(ki))),{key:i,value:o,metadata:s}}function Cu(r){let e={};return typeof r=="string"&&r.length>0&&r.split(fr).forEach(t=>{let n=Gs(t);n!==void 0&&n.value.length>0&&(e[n.key]=n.value)}),e}var Hs=f(()=>{"use strict";M();ks()});var hr,xu=f(()=>{"use strict";M();en();ks();Hs();hr=class{inject(e,t,n){let i=j.getBaggage(e);if(!i||At(e))return;let o=Ou(i).filter(a=>a.length<=4096).slice(0,180),s=vu(o);s.length>0&&n.set(t,Gi,s)}extract(e,t,n){let i=n.get(t,Gi),o=Array.isArray(i)?i.join(fr):i;if(!o)return e;let s={};return o.length===0||(o.split(fr).forEach(l=>{let c=Gs(l);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),s[c.key]=d}}),Object.entries(s).length===0)?e:j.setBaggage(e,j.createBaggage(s))}fields(){return[Gi]}}});var Hi,Nu=f(()=>{"use strict";Hi=class{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function yt(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!Ih(t)){b.warn(`Invalid attribute key: ${t}`);continue}if(!tn(n)){b.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}function Ih(r){return typeof r=="string"&&r.length>0}function tn(r){return r==null?!0:Array.isArray(r)?wh(r):Mu(r)}function wh(r){let e;for(let t of r)if(t!=null){if(!e){if(Mu(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Mu(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var Pu=f(()=>{"use strict";M()});function Yi(){return r=>{b.error(Uh(r))}}function Uh(r){return typeof r=="string"?r:JSON.stringify(Vh(r))}function Vh(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}var Ys=f(()=>{"use strict";M()});function Lu(r){Du=r}function xe(r){try{Du(r)}catch{}}var Du,Iu=f(()=>{"use strict";Ys();Du=Yi()});function zs(r){}function Ks(r){}function zi(r){}function Ws(r){}var wu=f(()=>{"use strict"});var Wt,Uu=f(()=>{"use strict";Wt=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var fe,Vu=f(()=>{"use strict";fe=performance});var Fu,Bu=f(()=>{"use strict";Fu="2.0.1"});var ku=f(()=>{"use strict"});var Gu=f(()=>{"use strict";ku()});var Fh,Hu,Yu=f(()=>{"use strict";Fh="deployment.environment",Hu=Fh});var zu=f(()=>{"use strict";Yu()});var rn,Ki,Ku,Wi,ji,qi,Qi,Xi,$i,Zi,Wu,nn,ju,on,sn,Ji,qu,Qu=f(()=>{"use strict";rn="error.type",Ki="exception.message",Ku="exception.stacktrace",Wi="exception.type",ji="http.request.method",qi="http.request.method_original",Qi="http.response.status_code",Xi="server.address",$i="server.port",Zi="service.name",Wu="service.version",nn="telemetry.sdk.language",ju="webjs",on="telemetry.sdk.name",sn="telemetry.sdk.version",Ji="url.full",qu="user_agent.original"});var Xu=f(()=>{"use strict"});var jt=f(()=>{"use strict";Gu();zu();Qu();Xu()});var $u,Zu=f(()=>{"use strict";$u="process.runtime.name"});var qt,Ju=f(()=>{"use strict";Bu();jt();Zu();qt={[on]:"opentelemetry",[$u]:"browser",[nn]:ju,[sn]:Fu}});function eo(r){}var ep=f(()=>{"use strict"});var js=f(()=>{"use strict";wu();Uu();Vu();Ju();ep()});function Ae(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*kh);return[t,n]}function Er(){let r=fe.timeOrigin;if(typeof r!="number"){let e=fe;r=e.timing&&e.timing.fetchStart}return r}function ke(r){let e=Ae(Er()),t=Ae(typeof r=="number"?r:fe.now());return ln(e,t)}function Rt(r){if(Tr(r))return r;if(typeof r=="number")return r<Er()?ke(r):Ae(r);if(r instanceof Date)return Ae(r.getTime());throw TypeError("Invalid input type")}function ro(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=to),[t,n]}function rp(r){let e=tp,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substring(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}function Ge(r){return r[0]*to+r[1]}function np(r){return r[0]*1e3+r[1]/1e6}function ip(r){return r[0]*1e6+r[1]/1e3}function Tr(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function an(r){return Tr(r)||typeof r=="number"||r instanceof Date}function ln(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=to&&(t[1]-=to,t[0]+=1),t}var tp,Bh,kh,to,op=f(()=>{"use strict";js();tp=9,Bh=6,kh=Math.pow(10,Bh),to=Math.pow(10,tp)});var Qt,sp=f(()=>{"use strict";Qt=function(r){return r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r}(Qt||{})});var Sr,ap=f(()=>{"use strict";M();Sr=class{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(t=>typeof t.fields=="function"?t.fields():[]).reduce((t,n)=>t.concat(n),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(o){b.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(e,t,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,t,n)}catch(s){b.warn(`Failed to extract with ${o.constructor.name}. Err: ${s.message}`)}return i},e)}fields(){return this._fields.slice()}}});function lp(r){return Yh.test(r)}function cp(r){return zh.test(r)&&!Kh.test(r)}var qs,Gh,Hh,Yh,zh,Kh,dp=f(()=>{"use strict";qs="[_0-9a-z-*/]",Gh=`[a-z]${qs}{0,255}`,Hh=`[a-z0-9]${qs}{0,240}@[a-z]${qs}{0,13}`,Yh=new RegExp(`^(?:${Gh}|${Hh})$`),zh=/^[ -~]{0,255}[!-~]$/,Kh=/,|=/});var up,Wh,pp,mp,gr,Qs=f(()=>{"use strict";dp();up=32,Wh=512,pp=",",mp="=",gr=class r{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+mp+this.get(t)),e),[]).join(pp)}_parse(e){e.length>Wh||(this._internalState=e.split(pp).reverse().reduce((t,n)=>{let i=n.trim(),o=i.indexOf(mp);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);lp(s)&&cp(a)&&t.set(s,a)}return t},new Map),this._internalState.size>up&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,up))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function Xs(r){let e=Zh.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var cn,dn,jh,qh,Qh,Xh,$h,Zh,bt,_p=f(()=>{"use strict";M();en();Qs();cn="traceparent",dn="tracestate",jh="00",qh="(?!ff)[\\da-f]{2}",Qh="(?![0]{32})[\\da-f]{32}",Xh="(?![0]{16})[\\da-f]{16}",$h="[\\da-f]{2}",Zh=new RegExp(`^\\s?(${qh})-(${Qh})-(${Xh})-(${$h})(-.*)?\\s?$`);bt=class{inject(e,t,n){let i=D.getSpanContext(e);if(!i||At(e)||!pt(i))return;let o=`${jh}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||_e.NONE).toString(16)}`;n.set(t,cn,o),i.traceState&&n.set(t,dn,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,cn);if(!i)return e;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return e;let s=Xs(o);if(!s)return e;s.isRemote=!0;let a=n.get(t,dn);if(a){let l=Array.isArray(a)?a.join(","):a;s.traceState=new gr(typeof l=="string"?l:void 0)}return D.setSpanContext(e,s)}fields(){return[cn,dn]}}});function fp(r,e){return r.setValue($s,e)}function hp(r){return r.deleteValue($s)}function Ep(r){return r.getValue($s)}var $s,Zs,Tp=f(()=>{"use strict";M();$s=dt("OpenTelemetry SDK Context Key RPC_METADATA"),Zs=function(r){return r.HTTP="http",r}(Zs||{})});function Js(r){if(!oE(r)||sE(r)!==Jh)return!1;let e=iE(r);if(e===null)return!0;let t=Ap.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Sp.call(t)===nE}function oE(r){return r!=null&&typeof r=="object"}function sE(r){return r==null?r===void 0?tE:eE:Xt&&Xt in Object(r)?aE(r):lE(r)}function aE(r){let e=Ap.call(r,Xt),t=r[Xt],n=!1;try{r[Xt]=void 0,n=!0}catch{}let i=yp.call(r);return n&&(e?r[Xt]=t:delete r[Xt]),i}function lE(r){return yp.call(r)}var Jh,eE,tE,rE,Sp,nE,iE,gp,Ap,Xt,yp,Rp=f(()=>{"use strict";Jh="[object Object]",eE="[object Null]",tE="[object Undefined]",rE=Function.prototype,Sp=rE.toString,nE=Sp.call(Object),iE=Object.getPrototypeOf,gp=Object.prototype,Ap=gp.hasOwnProperty,Xt=Symbol?Symbol.toStringTag:void 0,yp=gp.toString});function oo(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=vp(e,r.shift(),0,t);return e}function ea(r){return io(r)?r.slice():r}function vp(r,e,t=0,n){let i;if(!(t>cE)){if(t++,no(r)||no(e)||Op(e))i=ea(e);else if(io(r)){if(i=r.slice(),io(e))for(let o=0,s=e.length;o<s;o++)i.push(ea(e[o]));else if(un(e)){let o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){let l=o[s];i[l]=ea(e[l])}}}else if(un(r))if(un(e)){if(!dE(r,e))return e;i=Object.assign({},r);let o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=e[l];if(no(c))typeof c>"u"?delete i[l]:i[l]=c;else{let d=i[l],u=c;if(bp(r,l,n)||bp(e,l,n))delete i[l];else{if(un(d)&&un(u)){let E=n.get(d)||[],_=n.get(u)||[];E.push({obj:r,key:l}),_.push({obj:e,key:l}),n.set(d,E),n.set(u,_)}i[l]=vp(i[l],c,t,n)}}}}else i=e;return i}}function bp(r,e,t){let n=t.get(r[e])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===e&&s.obj===r)return!0}return!1}function io(r){return Array.isArray(r)}function Op(r){return typeof r=="function"}function un(r){return!no(r)&&!io(r)&&!Op(r)&&typeof r=="object"}function no(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function dE(r,e){return!(!Js(r)||!Js(e))}var cE,Cp=f(()=>{"use strict";Rp();cE=20});function xp(r,e){let t,n=new Promise(function(o,s){t=setTimeout(function(){s(new pn("Operation timed out."))},e)});return Promise.race([r,n]).then(i=>(clearTimeout(t),i),i=>{throw clearTimeout(t),i})}var pn,Np=f(()=>{"use strict";pn=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});function mn(r,e){return typeof e=="string"?r===e:!!r.match(e)}function Ar(r,e){if(!e)return!1;for(let t of e)if(mn(r,t))return!0;return!1}var Mp=f(()=>{"use strict"});var so,Pp=f(()=>{"use strict";so=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var yr,Dp=f(()=>{"use strict";Pp();yr=class{_callback;_that;_isCalled=!1;_deferred=new so;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function Ip(r){if(r==null)return;let e=Lp[r.toUpperCase()];return e??(b.warn(`Unknown log level "${r}", expected one of ${Object.keys(Lp)}, using default`),U.INFO)}var Lp,wp=f(()=>{"use strict";M();Lp={ALL:U.ALL,VERBOSE:U.VERBOSE,DEBUG:U.DEBUG,INFO:U.INFO,WARN:U.WARN,ERROR:U.ERROR,NONE:U.NONE}});function Up(r,e){return new Promise(t=>{x.with(_r(x.active()),()=>{r.export(e,n=>{t(n)})})})}var Vp=f(()=>{"use strict";M();en()});var ta={};r_(ta,{AnchoredClock:()=>Hi,BindOnceFuture:()=>yr,CompositePropagator:()=>Sr,ExportResultCode:()=>Qt,RPCType:()=>Zs,SDK_INFO:()=>qt,TRACE_PARENT_HEADER:()=>cn,TRACE_STATE_HEADER:()=>dn,TimeoutError:()=>pn,TraceState:()=>gr,W3CBaggagePropagator:()=>hr,W3CTraceContextPropagator:()=>bt,_globalThis:()=>Wt,addHrTimes:()=>ln,callWithTimeout:()=>xp,deleteRPCMetadata:()=>hp,diagLogLevelFromString:()=>Ip,getBooleanFromEnv:()=>Ks,getNumberFromEnv:()=>zi,getRPCMetadata:()=>Ep,getStringFromEnv:()=>zs,getStringListFromEnv:()=>Ws,getTimeOrigin:()=>Er,globalErrorHandler:()=>xe,hrTime:()=>ke,hrTimeDuration:()=>ro,hrTimeToMicroseconds:()=>ip,hrTimeToMilliseconds:()=>np,hrTimeToNanoseconds:()=>Ge,hrTimeToTimeStamp:()=>rp,internal:()=>uE,isAttributeValue:()=>tn,isTimeInput:()=>an,isTimeInputHrTime:()=>Tr,isTracingSuppressed:()=>At,isUrlIgnored:()=>Ar,loggingErrorHandler:()=>Yi,merge:()=>oo,millisToHrTime:()=>Ae,otperformance:()=>fe,parseKeyPairsIntoRecord:()=>Cu,parseTraceParent:()=>Xs,sanitizeAttributes:()=>yt,setGlobalErrorHandler:()=>Lu,setRPCMetadata:()=>fp,suppressTracing:()=>_r,timeInputToHrTime:()=>Rt,unrefTimer:()=>eo,unsuppressTracing:()=>Ru,urlMatches:()=>mn});var uE,q=f(()=>{"use strict";xu();Nu();Pu();Iu();Ys();op();sp();Hs();js();ap();_p();Tp();en();Qs();Cp();Np();Mp();Dp();wp();Vp();uE={_export:Up}});var Bp=Pt(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.toAnyValue=Ne.toKeyValue=Ne.toAttributes=Ne.createInstrumentationScope=Ne.createResource=void 0;function pE(r){return{attributes:Fp(r.attributes),droppedAttributesCount:0}}Ne.createResource=pE;function mE(r){return{name:r.name,version:r.version}}Ne.createInstrumentationScope=mE;function Fp(r){return Object.keys(r).map(e=>ra(e,r[e]))}Ne.toAttributes=Fp;function ra(r,e){return{key:r,value:na(e)}}Ne.toKeyValue=ra;function na(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(na)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,n])=>ra(t,n))}}:{}}Ne.toAnyValue=na});var Gp=Pt(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.hexToBinary=void 0;function kp(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function _E(r){let e=new Uint8Array(r.length/2),t=0;for(let n=0;n<r.length;n+=2){let i=kp(r.charCodeAt(n)),o=kp(r.charCodeAt(n+1));e[t++]=i<<4|o}return e}ao.hexToBinary=_E});var Wp=Pt(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.getOtlpEncoder=Me.encodeAsString=Me.encodeAsLongBits=Me.toLongBits=Me.hrTimeToNanos=void 0;var fE=(q(),n_(ta)),ia=Gp();function oa(r){let e=BigInt(1e9);return BigInt(r[0])*e+BigInt(r[1])}Me.hrTimeToNanos=oa;function Yp(r){let e=Number(BigInt.asUintN(32,r)),t=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:e,high:t}}Me.toLongBits=Yp;function sa(r){let e=oa(r);return Yp(e)}Me.encodeAsLongBits=sa;function zp(r){return oa(r).toString()}Me.encodeAsString=zp;var hE=typeof BigInt<"u"?zp:fE.hrTimeToNanoseconds;function Hp(r){return r}function Kp(r){if(r!==void 0)return(0,ia.hexToBinary)(r)}var EE={encodeHrTime:sa,encodeSpanContext:ia.hexToBinary,encodeOptionalSpanContext:Kp};function TE(r){if(r===void 0)return EE;let e=r.useLongBits??!0,t=r.useHex??!1;return{encodeHrTime:e?sa:hE,encodeSpanContext:t?Hp:ia.hexToBinary,encodeOptionalSpanContext:t?Hp:Kp}}Me.getOtlpEncoder=TE});var Xp=Pt(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.createExportTraceServiceRequest=rt.toOtlpSpanEvent=rt.toOtlpLink=rt.sdkSpanToOtlpSpan=void 0;var _n=Bp(),SE=Wp();function jp(r,e){let t=r.spanContext(),n=r.status,i=r.parentSpanContext?.spanId?e.encodeSpanContext(r.parentSpanContext?.spanId):void 0;return{traceId:e.encodeSpanContext(t.traceId),spanId:e.encodeSpanContext(t.spanId),parentSpanId:i,traceState:t.traceState?.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:e.encodeHrTime(r.startTime),endTimeUnixNano:e.encodeHrTime(r.endTime),attributes:(0,_n.toAttributes)(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(o=>Qp(o,e)),droppedEventsCount:r.droppedEventsCount,status:{code:n.code,message:n.message},links:r.links.map(o=>qp(o,e)),droppedLinksCount:r.droppedLinksCount}}rt.sdkSpanToOtlpSpan=jp;function qp(r,e){return{attributes:r.attributes?(0,_n.toAttributes)(r.attributes):[],spanId:e.encodeSpanContext(r.context.spanId),traceId:e.encodeSpanContext(r.context.traceId),traceState:r.context.traceState?.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}rt.toOtlpLink=qp;function Qp(r,e){return{attributes:r.attributes?(0,_n.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:e.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}rt.toOtlpSpanEvent=Qp;function gE(r,e){let t=(0,SE.getOtlpEncoder)(e);return{resourceSpans:yE(r,t)}}rt.createExportTraceServiceRequest=gE;function AE(r){let e=new Map;for(let t of r){let n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));let i=`${t.instrumentationScope.name}@${t.instrumentationScope.version||""}:${t.instrumentationScope.schemaUrl||""}`,o=n.get(i);o||(o=[],n.set(i,o)),o.push(t)}return e}function yE(r,e){let t=AE(r),n=[],i=t.entries(),o=i.next();for(;!o.done;){let[s,a]=o.value,l=[],c=a.values(),d=c.next();for(;!d.done;){let E=d.value;if(E.length>0){let _=E.map(p=>jp(p,e));l.push({scope:(0,_n.createInstrumentationScope)(E[0].instrumentationScope),spans:_,schemaUrl:E[0].instrumentationScope.schemaUrl})}d=c.next()}let u={resource:(0,_n.createResource)(s),scopeSpans:l,schemaUrl:void 0};n.push(u),o=i.next()}return n}});var $p=Pt(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.ESpanKind=void 0;var RE;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(RE=fn.ESpanKind||(fn.ESpanKind={}))});var Sm=Pt((eO,Tm)=>{"use strict";function ua(r){return typeof r=="function"}var se=console.error.bind(console);function Sn(r,e,t){var n=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}function gn(r){r&&r.logger&&(ua(r.logger)?se=r.logger:se("new logger isn't a function, not replacing"))}function hm(r,e,t){if(!r||!r[e]){se("no original function "+e+" to wrap");return}if(!t){se("no wrapper function"),se(new Error().stack);return}if(!ua(r[e])||!ua(t)){se("original object and wrapper must be functions");return}var n=r[e],i=t(n,e);return Sn(i,"__original",n),Sn(i,"__unwrap",function(){r[e]===i&&Sn(r,e,n)}),Sn(i,"__wrapped",!0),Sn(r,e,i),i}function vE(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{se("must provide one or more modules to patch"),se(new Error().stack);return}if(!(e&&Array.isArray(e))){se("must provide one or more functions to wrap on modules");return}r.forEach(function(n){e.forEach(function(i){hm(n,i,t)})})}function Em(r,e){if(!r||!r[e]){se("no function to unwrap."),se(new Error().stack);return}if(!r[e].__unwrap)se("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function OE(r,e){if(r)Array.isArray(r)||(r=[r]);else{se("must provide one or more modules to patch"),se(new Error().stack);return}if(!(e&&Array.isArray(e))){se("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(n){Em(t,n)})})}gn.wrap=hm;gn.massWrap=vE;gn.unwrap=Em;gn.massUnwrap=OE;Tm.exports=gn});var Pm=Pt(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.ATTR_HTTP_USER_AGENT=H.ATTR_HTTP_URL=H.ATTR_HTTP_STATUS_CODE=H.ATTR_HTTP_SCHEME=H.ATTR_HTTP_RESPONSE_CONTENT_LENGTH=H.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=H.ATTR_HTTP_REQUEST_BODY_SIZE=H.ATTR_HTTP_METHOD=H.ATTR_HTTP_HOST=void 0;H.ATTR_HTTP_HOST="http.host";H.ATTR_HTTP_METHOD="http.method";H.ATTR_HTTP_REQUEST_BODY_SIZE="http.request.body.size";H.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED="http.request_content_length_uncompressed";H.ATTR_HTTP_RESPONSE_CONTENT_LENGTH="http.response_content_length";H.ATTR_HTTP_SCHEME="http.scheme";H.ATTR_HTTP_STATUS_CODE="http.status_code";H.ATTR_HTTP_URL="http.url";H.ATTR_HTTP_USER_AGENT="http.user_agent"});var rc=[{path:"blog",loadChildren:()=>import("./chunk-WB7J7ECE.js")},{path:"query",loadChildren:()=>import("./chunk-U2CZVIM3.js")},{path:"",redirectTo:"blog",pathMatch:"full"}];var si=class extends Za{serialize(e){return this._withTrailingSlash(super.serialize(e))}_withTrailingSlash(e){let t=e.indexOf("?")>-1?"?":"#",n=e.split(t);return n[0].endsWith("/")||e.substring(e.lastIndexOf("/")+1).indexOf(".")===-1&&(n[0]+="/"),n.join(t)}};var v=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(v||{}),Ue="*";function nc(r,e=null){return{type:v.Sequence,steps:r,options:e}}function Ho(r){return{type:v.Style,styles:r,offset:null}}var at=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},cr=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(i)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},wr="!";function ic(r){return new C(3e3,!1)}function i_(){return new C(3100,!1)}function o_(){return new C(3101,!1)}function s_(r){return new C(3001,!1)}function a_(r){return new C(3003,!1)}function l_(r){return new C(3004,!1)}function sc(r,e){return new C(3005,!1)}function ac(){return new C(3006,!1)}function lc(){return new C(3007,!1)}function cc(r,e){return new C(3008,!1)}function dc(r){return new C(3002,!1)}function uc(r,e,t,n,i){return new C(3010,!1)}function pc(){return new C(3011,!1)}function mc(){return new C(3012,!1)}function _c(){return new C(3200,!1)}function fc(){return new C(3202,!1)}function hc(){return new C(3013,!1)}function Ec(r){return new C(3014,!1)}function Tc(r){return new C(3015,!1)}function Sc(r){return new C(3016,!1)}function gc(r,e){return new C(3404,!1)}function c_(r){return new C(3502,!1)}function Ac(r){return new C(3503,!1)}function yc(){return new C(3300,!1)}function Rc(r){return new C(3504,!1)}function bc(r){return new C(3301,!1)}function vc(r,e){return new C(3302,!1)}function Oc(r){return new C(3303,!1)}function Cc(r,e){return new C(3400,!1)}function xc(r){return new C(3401,!1)}function Nc(r){return new C(3402,!1)}function Mc(r,e){return new C(3505,!1)}function lt(r){switch(r.length){case 0:return new at;case 1:return r[0];default:return new cr(r)}}function Wo(r,e,t=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,u=d&&a||new Map;l.forEach((E,_)=>{let p=_,h=E;if(_!=="offset")switch(p=r.normalizePropertyName(p,i),h){case wr:h=t.get(_);break;case Ue:h=n.get(_);break;default:h=r.normalizeStyleValue(_,p,h,i);break}u.set(p,h)}),d||o.push(u),a=u,s=c}),i.length)throw c_(i);return o}function ai(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&Yo(t,"start",r)));break;case"done":r.onDone(()=>n(t&&Yo(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&Yo(t,"destroy",r)));break}}function Yo(r,e,t){let n=t.totalTime,i=!!t.disabled,o=li(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,n??r.totalTime,i),s=r._data;return s!=null&&(o._data=s),o}function li(r,e,t,n,i="",o=0,s){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function pe(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function jo(r){let e=r.indexOf(":"),t=r.substring(1,e),n=r.slice(e+1);return[t,n]}var d_=typeof document>"u"?null:document.documentElement;function ci(r){let e=r.parentNode||r.host||null;return e===d_?null:e}function u_(r){return r.substring(1,6)=="ebkit"}var Bt=null,oc=!1;function Pc(r){Bt||(Bt=p_()||{},oc=Bt.style?"WebkitAppearance"in Bt.style:!1);let e=!0;return Bt.style&&!u_(r)&&(e=r in Bt.style,!e&&oc&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Bt.style)),e}function p_(){return typeof document<"u"?document.body:null}function qo(r,e){for(;e;){if(e===r)return!0;e=ci(e)}return!1}function Qo(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let n=r.querySelector(e);return n?[n]:[]}var m_=1e3,Xo="{{",__="}}",$o="ng-enter",di="ng-leave",Ur="ng-trigger",Vr=".ng-trigger",Zo="ng-animating",ui=".ng-animating";function Ze(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zo(parseFloat(e[1]),e[2])}function zo(r,e){switch(e){case"s":return r*m_;default:return r}}function Fr(r,e,t){return r.hasOwnProperty("duration")?r:f_(r,e,t)}function f_(r,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof r=="string"){let a=r.match(n);if(a===null)return e.push(ic(r)),{duration:0,delay:0,easing:""};i=zo(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=zo(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=r;if(!t){let a=!1,l=e.length;i<0&&(e.push(i_()),a=!0),o<0&&(e.push(o_()),a=!0),a&&e.splice(l,0,ic(r))}return{duration:i,delay:o,easing:s}}function Dc(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function Ve(r,e,t){e.forEach((n,i)=>{let o=pi(i);t&&!t.has(i)&&t.set(i,r.style[o]),r.style[o]=n})}function Tt(r,e){e.forEach((t,n)=>{let i=pi(n);r.style[i]=""})}function dr(r){return Array.isArray(r)?r.length==1?r[0]:nc(r):r}function Lc(r,e,t){let n=e.params||{},i=Jo(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||t.push(s_(o))})}var Ko=new RegExp(`${Xo}\\s*(.+?)\\s*${__}`,"g");function Jo(r){let e=[];if(typeof r=="string"){let t;for(;t=Ko.exec(r);)e.push(t[1]);Ko.lastIndex=0}return e}function ur(r,e,t){let n=`${r}`,i=n.replace(Ko,(o,s)=>{let a=e[s];return a==null&&(t.push(a_(s)),a=""),a.toString()});return i==n?r:i}var h_=/-+([a-z0-9])/g;function pi(r){return r.replace(h_,(...e)=>e[1].toUpperCase())}function Ic(r,e){return r===0||e===0}function wc(r,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,mi(r,a)))}}return e}function me(r,e,t){switch(e.type){case v.Trigger:return r.visitTrigger(e,t);case v.State:return r.visitState(e,t);case v.Transition:return r.visitTransition(e,t);case v.Sequence:return r.visitSequence(e,t);case v.Group:return r.visitGroup(e,t);case v.Animate:return r.visitAnimate(e,t);case v.Keyframes:return r.visitKeyframes(e,t);case v.Style:return r.visitStyle(e,t);case v.Reference:return r.visitReference(e,t);case v.AnimateChild:return r.visitAnimateChild(e,t);case v.AnimateRef:return r.visitAnimateRef(e,t);case v.Query:return r.visitQuery(e,t);case v.Stagger:return r.visitStagger(e,t);default:throw l_(e.type)}}function mi(r,e){return window.getComputedStyle(r)[e]}var hs=(()=>{class r{validateStyleProperty(t){return Pc(t)}containsElement(t,n){return qo(t,n)}getParentElement(t){return ci(t)}query(t,n,i){return Qo(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,o,s,a=[],l){return new at(i,o)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=nr({token:r,factory:r.\u0275fac})}return r})(),Gt=class{static NOOP=new hs},Ht=class{};var E_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ti=class extends Ht{normalizePropertyName(e,t){return pi(e)}normalizeStyleValue(e,t,n,i){let o="",s=n.toString().trim();if(E_.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(sc(e,n))}return s+o}};var Si="*";function T_(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>S_(n,t,e)):t.push(r),t}function S_(r,e,t){if(r[0]==":"){let l=g_(r,t);if(typeof l=="function"){e.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(Tc(r)),e;let i=n[1],o=n[2],s=n[3];e.push(Uc(i,s));let a=i==Si&&s==Si;o[0]=="<"&&!a&&e.push(Uc(s,i))}function g_(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(Sc(r)),"* => *"}}var _i=new Set(["true","1"]),fi=new Set(["false","0"]);function Uc(r,e){let t=_i.has(r)||fi.has(r),n=_i.has(e)||fi.has(e);return(i,o)=>{let s=r==Si||r==i,a=e==Si||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?_i.has(r):fi.has(r)),!a&&n&&typeof o=="boolean"&&(a=o?_i.has(e):fi.has(e)),s&&a}}var Wc=":self",A_=new RegExp(`s*${Wc}s*,?`,"g");function jc(r,e,t,n){return new os(r).build(e,t,n)}var Vc="",os=class{_driver;constructor(e){this._driver=e}build(e,t,n){let i=new ss(t);return this._resetContextStyleTimingState(i),me(this,dr(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Vc,e.collectedStyles=new Map,e.collectedStyles.set(Vc,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(ac()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==v.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==v.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(lc())}),{type:v.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Jo(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(cc(e.name,[...o.values()]))}return{type:v.State,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=me(this,dr(e.animation),t),i=T_(e.expr,t.errors);return{type:v.Transition,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:kt(e.options)}}visitSequence(e,t){return{type:v.Sequence,steps:e.steps.map(n=>me(this,n,t)),options:kt(e.options)}}visitGroup(e,t){let n=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=n;let a=me(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:v.Group,steps:o,options:kt(e.options)}}visitAnimate(e,t){let n=v_(e.timings,t.errors);t.currentAnimateTimings=n;let i,o=e.styles?e.styles:Ho({});if(o.type==v.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=Ho(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:v.Animate,timings:n,style:i,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Ue?n.push(a):t.errors.push(dc(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Xo)>=0){o=!0;break}}}),{type:v.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),u=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(uc(l,d.startTime,d.endTime,o,i)),u=!1),o=d.startTime),u&&c.set(l,{startTime:o,endTime:i}),t.options&&Lc(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:v.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(pc()),n;let i=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(F=>{let L=this._makeStyleAst(F,t),K=L.offset!=null?L.offset:b_(L.styles),k=0;return K!=null&&(o++,k=L.offset=K),l=l||k<0||k>1,a=a||k<c,c=k,s.push(k),L});l&&t.errors.push(mc()),a&&t.errors.push(_c());let u=e.steps.length,E=0;o>0&&o<u?t.errors.push(fc()):o==0&&(E=i/(u-1));let _=u-1,p=t.currentTime,h=t.currentAnimateTimings,y=h.duration;return d.forEach((F,L)=>{let K=E>0?L==_?1:E*L:s[L],k=K*y;t.currentTime=p+h.delay+k,h.duration=k,this._validateStyleAst(F,t),F.offset=K,n.styles.push(F)}),n}visitReference(e,t){return{type:v.Reference,animation:me(this,dr(e.animation),t),options:kt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:v.AnimateChild,options:kt(e.options)}}visitAnimateRef(e,t){return{type:v.AnimateRef,animation:this.visitReference(e.animation,t),options:kt(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=y_(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,pe(t.collectedStyles,t.currentQuerySelector,new Map);let a=me(this,dr(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:v.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:kt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(hc());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Fr(e.timings,t.errors,!0);return{type:v.Stagger,animation:me(this,dr(e.animation),t),timings:n,options:null}}};function y_(r){let e=!!r.split(/\s*,\s*/).find(t=>t==Wc);return e&&(r=r.replace(A_,"")),r=r.replace(/@\*/g,Vr).replace(/@\w+/g,t=>Vr+"-"+t.slice(1)).replace(/:animating/g,ui),[r,e]}function R_(r){return r?ht({},r):null}var ss=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function b_(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function v_(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=Fr(r,e).duration;return es(o,0,"")}let t=r;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=es(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Fr(t,e);return es(i.duration,i.delay,i.easing)}function kt(r){return r?(r=ht({},r),r.params&&(r.params=R_(r.params))):r={},r}function es(r,e,t){return{duration:r,delay:e,easing:t}}function Es(r,e,t,n,i,o,s=null,a=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var kr=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},O_=1,C_=":enter",x_=new RegExp(C_,"g"),N_=":leave",M_=new RegExp(N_,"g");function qc(r,e,t,n,i,o=new Map,s=new Map,a,l,c=[]){return new as().buildKeyframes(r,e,t,n,i,o,s,a,l,c)}var as=class{buildKeyframes(e,t,n,i,o,s,a,l,c,d=[]){c=c||new kr;let u=new ls(e,t,c,i,o,d,[]);u.options=l;let E=l.delay?Ze(l.delay):0;u.currentTimeline.delayNextStep(E),u.currentTimeline.setStyles([s],null,u.errors,l),me(this,n,u);let _=u.timelines.filter(p=>p.containsAnimation());if(_.length&&a.size){let p;for(let h=_.length-1;h>=0;h--){let y=_[h];if(y.element===t){p=y;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return _.length?_.map(p=>p.buildKeyframes()):[Es(t,[],[],[],0,E,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Ze(ur(o,i?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,s=n.duration!=null?Ze(n.duration):null,a=n.delay!=null?Ze(n.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),me(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==v.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gi);let s=Ze(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>me(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ze(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),me(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,i=t.params?ur(n,t.params,t.errors):n;return Fr(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());let o=e.style;o.type==v.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ze(i.delay):0;o&&(t.previousNode.type===v.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gi);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let u=t.createSubContext(e.options,c);o&&u.delayNextStep(o),c===t.element&&(l=u.currentTimeline),me(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let E=u.currentTimeline.currentTime;s=Math.max(s,E)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let u=d.currentTime;me(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}},gi={},ls=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=gi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Ai(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=Ze(n.duration)),n.delay!=null&&(i.delay=Ze(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=ur(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){let i=t||this.element,o=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=gi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new cs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(x_,"."+this._enterClassName),e=e.replace(M_,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(Ec(t)),a}},Ai=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=O_,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||Ue),this._currentKeyframe.set(t,Ue);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=P_(e,this._globalTimelineStyles);for(let[a,l]of s){let c=ur(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ue),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,u)=>{d===wr?e.add(u):d===Ue&&t.add(u)}),n||c.set("offset",l/this.duration),i.push(c)});let o=[...e.values()],s=[...t.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Es(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},cs=class extends Ai{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",Fc(a)),o.push(c);let d=e.length-1;for(let u=1;u<=d;u++){let E=new Map(e[u]),_=E.get("offset"),p=t+_*n;E.set("offset",Fc(p/s)),o.push(E)}n=s,t=0,i="",e=o}return Es(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}};function Fc(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function P_(r,e){let t=new Map,n;return r.forEach(i=>{if(i==="*"){n??=e.keys();for(let o of n)t.set(o,Ue)}else for(let[o,s]of i)t.set(o,s)}),t}function Bc(r,e,t,n,i,o,s,a,l,c,d,u,E){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:E}}var ts={},yi=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return D_(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,o,s,a,l,c,d){let u=[],E=this.ast.options&&this.ast.options.params||ts,_=a&&a.params||ts,p=this.buildStyles(n,_,u),h=l&&l.params||ts,y=this.buildStyles(i,h,u),F=new Set,L=new Map,K=new Map,k=i==="void",Ye={params:Qc(h,E),delay:this.ast.options?.delay},ze=d?[]:qc(e,t,this.ast.animation,o,s,p,y,Ye,c,u),ee=0;return ze.forEach(ae=>{ee=Math.max(ae.duration+ae.delay,ee)}),u.length?Bc(t,this._triggerName,n,i,k,p,y,[],[],L,K,ee,u):(ze.forEach(ae=>{let xt=ae.element,er=pe(L,xt,new Set);ae.preStyleProps.forEach(Nt=>er.add(Nt));let Aa=pe(K,xt,new Set);ae.postStyleProps.forEach(Nt=>Aa.add(Nt)),xt!==t&&F.add(xt)}),Bc(t,this._triggerName,n,i,k,p,y,ze,[...F.values()],L,K,ee))}};function D_(r,e,t,n,i){return r.some(o=>o(e,t,n,i))}function Qc(r,e){let t=ht({},e);return Object.entries(r).forEach(([n,i])=>{i!=null&&(t[n]=i)}),t}var ds=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,i=Qc(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ur(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s)})}),n}};function L_(r,e,t){return new us(r,e,t)}var us=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new ds(i.style,o,n))}),kc(this.states,"true","1"),kc(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new yi(e,i,this.states))}),this.fallbackTransition=I_(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function I_(r,e,t){let n=[(s,a)=>!0],i={type:v.Sequence,steps:[],options:null},o={type:v.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new yi(r,o,e)}function kc(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var w_=new kr,ps=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],i=[],o=jc(this._driver,t,n,i);if(n.length)throw Ac(n);this._animations.set(e,o)}_buildPlayer(e,t,n){let i=e.element,o=Wo(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=qc(this._driver,t,o,$o,di,new Map,new Map,n,w_,i),s.forEach(d=>{let u=pe(a,d.element,new Map);d.postStyleProps.forEach(E=>u.set(E,null))})):(i.push(yc()),s=[]),i.length)throw Rc(i);a.forEach((d,u)=>{d.forEach((E,_)=>{d.set(_,this._driver.computeStyle(u,_,Ue))})});let l=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),c=lt(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw bc(e);return t}listen(e,t,n,i){let o=li(t,"","","");return ai(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if(n=="register"){this.register(e,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Gc="ng-animate-queued",U_=".ng-animate-queued",rs="ng-animate-disabled",V_=".ng-animate-disabled",F_="ng-star-inserted",B_=".ng-star-inserted",k_=[],Xc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},G_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fe="__ng_removed",Gr=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=Y_(i),n){let o=e,{value:s}=o,a=va(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(i=>{n[i]==null&&(n[i]=t[i])})}}},Br="void",ns=new Gr(Br),ms=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,Oe(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw vc(n,t);if(n==null||n.length==0)throw Oc(t);if(!z_(n))throw Cc(n,t);let o=pe(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);let a=pe(this._engine.statesByElement,e,new Map);return a.has(t)||(Oe(e,Ur),Oe(e,Ur+"-"+t),a.set(t,ns)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw xc(e);return t}trigger(e,t,n,i=!0){let o=this._getTrigger(t),s=new Hr(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Oe(e,Ur),Oe(e,Ur+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Gr(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=ns),!(c.value===Br)&&l.value===c.value){if(!j_(l.params,c.params)){let h=[],y=o.matchStyles(l.value,l.params,h),F=o.matchStyles(c.value,c.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(()=>{Tt(e,y),Ve(e,F)})}return}let E=pe(this._engine.playersByElement,e,[]);E.forEach(h=>{h.namespaceId==this.id&&h.triggerName==t&&h.queued&&h.destroy()});let _=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!_){if(!i)return;_=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(Oe(e,Gc),s.onStart(()=>{pr(e,Gc)})),s.onDone(()=>{let h=this.players.indexOf(s);h>=0&&this.players.splice(h,1);let y=this._engine.playersByElement.get(e);if(y){let F=y.indexOf(s);F>=0&&y.splice(F,1)}}),this.players.push(s),E.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Vr,!0);n.forEach(i=>{if(i[Fe])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,Br,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&lt(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||ns,d=new Gr(Br),u=new Hr(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Fe];(!o||o===Xc)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Oe(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=li(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,ai(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},_s=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new ms(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,i){if(hi(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!hi(t))return;let o=t[Fe];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oe(e,rs)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pr(e,rs))}removeNode(e,t,n){if(hi(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,i,o){this.collectedLeaveElements.push(t),t[Fe]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,i,o){return hi(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Vr,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,ui,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return lt(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Fe];if(t&&t.setForRemoval){if(e[Fe]=Xc,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rs)&&this.markElementAsDisabled(e,!1),this.driver.query(e,V_,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Oe(i,F_)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?lt(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw Nc(e)}_flushAnimations(e,t){let n=new kr,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(T=>{d.add(T);let S=this.driver.query(T,U_,!0);for(let g=0;g<S.length;g++)d.add(S[g])});let u=this.bodyNode,E=Array.from(this.statesByElement.keys()),_=zc(E,this.collectedEnterElements),p=new Map,h=0;_.forEach((T,S)=>{let g=$o+h++;p.set(S,g),T.forEach(O=>Oe(O,g))});let y=[],F=new Set,L=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let S=this.collectedLeaveElements[T],g=S[Fe];g&&g.setForRemoval&&(y.push(S),F.add(S),g.hasAnimation?this.driver.query(S,B_,!0).forEach(O=>F.add(O)):L.add(S))}let K=new Map,k=zc(E,Array.from(F));k.forEach((T,S)=>{let g=di+h++;K.set(S,g),T.forEach(O=>Oe(O,g))}),e.push(()=>{_.forEach((T,S)=>{let g=p.get(S);T.forEach(O=>pr(O,g))}),k.forEach((T,S)=>{let g=K.get(S);T.forEach(O=>pr(O,g))}),y.forEach(T=>{this.processLeaveNode(T)})});let Ye=[],ze=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(g=>{let O=g.player,z=g.element;if(Ye.push(O),this.collectedEnterElements.length){let Q=z[Fe];if(Q&&Q.setForMove){if(Q.previousTriggersValues&&Q.previousTriggersValues.has(g.triggerName)){let Mt=Q.previousTriggersValues.get(g.triggerName),Re=this.statesByElement.get(g.element);if(Re&&Re.has(g.triggerName)){let Mn=Re.get(g.triggerName);Mn.value=Mt,Re.set(g.triggerName,Mn)}}O.destroy();return}}let Ke=!u||!this.driver.containsElement(u,z),he=K.get(z),ft=p.get(z),V=this._buildInstruction(g,n,ft,he,Ke);if(V.errors&&V.errors.length){ze.push(V);return}if(Ke){O.onStart(()=>Tt(z,V.fromStyles)),O.onDestroy(()=>Ve(z,V.toStyles)),i.push(O);return}if(g.isFallbackTransition){O.onStart(()=>Tt(z,V.fromStyles)),O.onDestroy(()=>Ve(z,V.toStyles)),i.push(O);return}let ba=[];V.timelines.forEach(Q=>{Q.stretchStartingKeyframe=!0,this.disabledNodes.has(Q.element)||ba.push(Q)}),V.timelines=ba,n.append(z,V.timelines);let t_={instruction:V,player:O,element:z};s.push(t_),V.queriedElements.forEach(Q=>pe(a,Q,[]).push(O)),V.preStyleProps.forEach((Q,Mt)=>{if(Q.size){let Re=l.get(Mt);Re||l.set(Mt,Re=new Set),Q.forEach((Mn,No)=>Re.add(No))}}),V.postStyleProps.forEach((Q,Mt)=>{let Re=c.get(Mt);Re||c.set(Mt,Re=new Set),Q.forEach((Mn,No)=>Re.add(No))})});if(ze.length){let T=[];ze.forEach(S=>{T.push(Mc(S.triggerName,S.errors))}),Ye.forEach(S=>S.destroy()),this.reportError(T)}let ee=new Map,ae=new Map;s.forEach(T=>{let S=T.element;n.has(S)&&(ae.set(S,S),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,ee))}),i.forEach(T=>{let S=T.element;this._getPreviousPlayers(S,!1,T.namespaceId,T.triggerName,null).forEach(O=>{pe(ee,S,[]).push(O),O.destroy()})});let xt=y.filter(T=>Kc(T,l,c)),er=new Map;Yc(er,this.driver,L,c,Ue).forEach(T=>{Kc(T,l,c)&&xt.push(T)});let Nt=new Map;_.forEach((T,S)=>{Yc(Nt,this.driver,new Set(T),l,wr)}),xt.forEach(T=>{let S=er.get(T),g=Nt.get(T);er.set(T,new Map([...S?.entries()??[],...g?.entries()??[]]))});let xo=[],ya=[],Ra={};s.forEach(T=>{let{element:S,player:g,instruction:O}=T;if(n.has(S)){if(d.has(S)){g.onDestroy(()=>Ve(S,O.toStyles)),g.disabled=!0,g.overrideTotalTime(O.totalTime),i.push(g);return}let z=Ra;if(ae.size>1){let he=S,ft=[];for(;he=he.parentNode;){let V=ae.get(he);if(V){z=V;break}ft.push(he)}ft.forEach(V=>ae.set(V,z))}let Ke=this._buildAnimation(g.namespaceId,O,ee,o,Nt,er);if(g.setRealPlayer(Ke),z===Ra)xo.push(g);else{let he=this.playersByElement.get(z);he&&he.length&&(g.parentPlayer=lt(he)),i.push(g)}}else Tt(S,O.fromStyles),g.onDestroy(()=>Ve(S,O.toStyles)),ya.push(g),d.has(S)&&i.push(g)}),ya.forEach(T=>{let S=o.get(T.element);if(S&&S.length){let g=lt(S);T.setRealPlayer(g)}}),i.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<y.length;T++){let S=y[T],g=S[Fe];if(pr(S,di),g&&g.hasAnimation)continue;let O=[];if(a.size){let Ke=a.get(S);Ke&&Ke.length&&O.push(...Ke);let he=this.driver.query(S,ui,!0);for(let ft=0;ft<he.length;ft++){let V=a.get(he[ft]);V&&V.length&&O.push(...V)}}let z=O.filter(Ke=>!Ke.destroyed);z.length?K_(this,S,z):this.processLeaveNode(S)}return y.length=0,xo.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let S=this.players.indexOf(T);this.players.splice(S,1)}),T.play()}),xo}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Br;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,d=c!==o,u=pe(n,c,[]);this._getPreviousPlayers(c,d,s,a,t.toState).forEach(_=>{let p=_.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),_.destroy(),u.push(_)})}Tt(o,t.fromStyles)}_buildAnimation(e,t,n,i,o,s){let a=t.triggerName,l=t.element,c=[],d=new Set,u=new Set,E=t.timelines.map(p=>{let h=p.element;d.add(h);let y=h[Fe];if(y&&y.removedBeforeQueried)return new at(p.duration,p.delay);let F=h!==l,L=W_((n.get(h)||k_).map(ee=>ee.getRealPlayer())).filter(ee=>{let ae=ee;return ae.element?ae.element===h:!1}),K=o.get(h),k=s.get(h),Ye=Wo(this._normalizer,p.keyframes,K,k),ze=this._buildPlayer(p,Ye,L);if(p.subTimeline&&i&&u.add(h),F){let ee=new Hr(e,a,h);ee.setRealPlayer(ze),c.push(ee)}return ze});c.forEach(p=>{pe(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>H_(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>Oe(p,Zo));let _=lt(E);return _.onDestroy(()=>{d.forEach(p=>pr(p,Zo)),Ve(l,t.toStyles)}),u.forEach(p=>{pe(i,p,[]).push(_)}),_}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new at(e.duration,e.delay)}},Hr=class{namespaceId;triggerName;element;_player=new at;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>ai(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pe(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function H_(r,e,t){let n=r.get(e);if(n){if(n.length){let i=n.indexOf(t);n.splice(i,1)}n.length==0&&r.delete(e)}return n}function Y_(r){return r??null}function hi(r){return r&&r.nodeType===1}function z_(r){return r=="start"||r=="done"}function Hc(r,e){let t=r.style.display;return r.style.display=e??"none",t}function Yc(r,e,t,n,i){let o=[];t.forEach(l=>o.push(Hc(l)));let s=[];n.forEach((l,c)=>{let d=new Map;l.forEach(u=>{let E=e.computeStyle(c,u,i);d.set(u,E),(!E||E.length==0)&&(c[Fe]=G_,s.push(c))}),r.set(c,d)});let a=0;return t.forEach(l=>Hc(l,o[a++])),s}function zc(r,e){let t=new Map;if(r.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,i=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=n:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a)}),t}function Oe(r,e){r.classList?.add(e)}function pr(r,e){r.classList?.remove(e)}function K_(r,e,t){lt(t).onDone(()=>r.processLeaveNode(e))}function W_(r){let e=[];return $c(r,e),e}function $c(r,e){for(let t=0;t<r.length;t++){let n=r[t];n instanceof cr?$c(n.players,e):e.push(n)}}function j_(r,e){let t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||r[o]!==e[o])return!1}return!0}function Kc(r,e,t){let n=t.get(r);if(!n)return!1;let i=e.get(r);return i?n.forEach(o=>i.add(o)):e.set(r,n),t.delete(r),!0}var mr=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new _s(e.body,t,n),this._timelineEngine=new ps(e.body,t,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,n,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],d=jc(this._driver,o,l,c);if(l.length)throw gc(i,l);a=L_(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if(n.charAt(0)=="@"){let[o,s]=jo(n),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if(n.charAt(0)=="@"){let[s,a]=jo(n);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function q_(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=is(e[0]),e.length>1&&(n=is(e[e.length-1]))):e instanceof Map&&(t=is(e)),t||n?new Q_(r,t,n):null}var Q_=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i;let o=r.initialStylesByElement.get(t);o||r.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ve(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ve(this._element,this._initialStyles),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Tt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tt(this._element,this._endStyles),this._endStyles=null),Ve(this._element,this._initialStyles),this._state=3)}}return r})();function is(r){let e=null;return r.forEach((t,n)=>{X_(n)&&(e=e||new Map,e.set(n,t))}),e}function X_(r){return r==="display"||r==="position"}var Ri=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:mi(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},bi=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return qo(e,t)}getParentElement(e){return ci(e)}query(e,t,n){return Qo(e,t,n)}computeStyle(e,t,n){return mi(e,t)}animate(e,t,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(_=>_ instanceof Ri);Ic(n,i)&&d.forEach(_=>{_.currentSnapshot.forEach((p,h)=>c.set(h,p))});let u=Dc(t).map(_=>new Map(_));u=wc(e,u,c);let E=q_(e,u);return new Ri(e,u,l,E)}};var Ei="@",Zc="@.disabled",vi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Ei&&t==Zc?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,i){return this.delegate.listen(e,t,n,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},fs=class extends vi{factory;constructor(e,t,n,i,o){super(t,n,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Ei?t.charAt(1)=="."&&t==Zc?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,i){if(t.charAt(0)==Ei){let o=$_(e),s=t.slice(1),a="";return s.charAt(0)!=Ei&&([s,a]=Z_(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,i)}};function $_(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function Z_(r){let e=r.indexOf("."),t=r.substring(0,e),n=r.slice(e+1);return[t,n]}var Oi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let n="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let u=()=>c.delete(i);d=new vi(n,i,this.engine,u),c.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new fs(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var ef=(()=>{class r extends mr{constructor(t,n,i){super(t,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(Un(zn),Un(Gt),Un(Ht))};static \u0275prov=nr({token:r,factory:r.\u0275fac})}return r})();function tf(){return new Ti}function rf(r,e,t){return new Oi(r,e,t)}var Jc=[{provide:Ht,useFactory:tf},{provide:mr,useClass:ef},{provide:Bn,useFactory:rf,deps:[Wa,mr,ne]}],vT=[{provide:Gt,useClass:hs},{provide:We,useValue:"NoopAnimations"},...Jc],nf=[{provide:Gt,useFactory:()=>new bi},{provide:We,useFactory:()=>"BrowserAnimations"},...Jc];function ed(){return Fa("NgEagerAnimations"),[...nf]}var td={providers:[Ka(),tl(rc),Xa(),qa(Qa()),ed(),{provide:Va,useValue:"fullstackladder-app"},{provide:$a,useClass:si}]};function of(r,e){r&1&&B(0,"div",2)}var sf=new le("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var nd=(()=>{class r{_elementRef=m(Te);_ngZone=m(ne);_changeDetectorRef=m(ve);_renderer=m(je);_cleanupTransitionEnd;_animationMode=m(We,{optional:!0});constructor(){let t=m(sf,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";get value(){return this._value}set value(t){this._value=rd(t||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=rd(t||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new be;get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=t=>{this.animationEnd.observers.length===0||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Y({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,i){n&2&&(qe("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),kn("mat-"+i.color),ie("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Uo],bufferValue:[2,"bufferValue","bufferValue",Uo],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,i){n&1&&(A(0,"div",0),B(1,"div",1),ce(2,of,1,0,"div",2),R(),A(3,"div",3),B(4,"span",4),R(),A(5,"div",5),B(6,"span",4),R()),n&2&&(P(),ir("flex-basis",i._getBufferBarFlexBasis()),P(),de(i.mode==="buffer"?2:-1),P(),ir("transform",i._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return r})();function rd(r,e=0,t=100){return Math.max(e,Math.min(t,r))}var id=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Se({type:r});static \u0275inj=Ee({imports:[ue]})}return r})();var od=["*"],cf=["content"],df=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uf=["mat-drawer","mat-drawer-content","*"];function pf(r,e){if(r&1){let t=Et();A(0,"div",1),W("click",function(){X(t);let i=oe();return $(i._onBackdropClicked())}),R()}if(r&2){let t=oe();ie("mat-drawer-shown",t._isShowingBackdrop())}}function mf(r,e){r&1&&(A(0,"mat-drawer-content"),ot(1,2),R())}var _f=new le("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:ff}),sd=new le("MAT_DRAWER_CONTAINER");function ff(){return!1}var Yr=(()=>{class r extends ti{_platform=m(Xe);_changeDetectorRef=m(ve);_container=m(Ss);constructor(){let t=m(Te),n=m(Sl),i=m(ne);super(t,n,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:t,end:n}=this._container;return t!=null&&t.mode!=="over"&&t.opened||n!=null&&n.mode!=="over"&&n.opened}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Y({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(n,i){n&2&&(ir("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),ie("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[st([{provide:ti,useExisting:r}]),Ha],ngContentSelectors:od,decls:1,vars:0,template:function(n,i){n&1&&(wt(),ot(0))},encapsulation:2,changeDetection:0})}return r})(),Ts=(()=>{class r{_elementRef=m(Te);_focusTrapFactory=m(dl);_focusMonitor=m(ol);_platform=m(Xe);_ngZone=m(ne);_renderer=m(je);_interactivityChecker=m(cl);_doc=m(zn,{optional:!0});_container=m(sd,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=$e(t)}_disableClose=!1;get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=$e(t)),this._autoFocus=t}_autoFocus;get opened(){return this._opened}set opened(t){this.toggle($e(t))}_opened=!1;_openedVia;_animationStarted=new te;_animationEnd=new te;openedChange=new be(!0);_openedStream=this.openedChange.pipe(re(t=>t),it(()=>{}));openedStart=this._animationStarted.pipe(re(()=>this.opened),Do(void 0));_closedStream=this.openedChange.pipe(re(t=>!t),it(()=>{}));closedStart=this._animationStarted.pipe(re(()=>!this.opened),Do(void 0));_destroyed=new te;onPositionChanged=new be;_content;_modeChanged=new te;_injector=m(Fn);_changeDetectorRef=m(ve);constructor(){this.openedChange.pipe(De(this._destroyed)).subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement;xa(t,"keydown").pipe(re(n=>n.keyCode===27&&!this.disableClose&&!ar(n)),De(this._destroyed)).subscribe(n=>this._ngZone.run(()=>{this.close(),n.stopPropagation(),n.preventDefault()})),this._eventCleanups=[this._renderer.listen(t,"transitionrun",this._handleTransitionEvent),this._renderer.listen(t,"transitionend",this._handleTransitionEvent),this._renderer.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(n)}_focusByCssSelector(t,n){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,n)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Pr(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);let i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,n,i){return t===this._opened?Promise.resolve(t?"open":"close"):(this._opened=t,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",t),!t&&n&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(wn(1)).subscribe(s=>o(s?"open":"close"))}))}_setIsAnimating(t){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",t)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,i=n.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,n)),i.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}_handleTransitionEvent=t=>{let n=this._elementRef.nativeElement;t.target===n&&this._ngZone.run(()=>{t.type==="transitionrun"?this._animationStarted.next(t):(t.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(t))})};static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Y({type:r,selectors:[["mat-drawer"]],viewQuery:function(n,i){if(n&1&&Vt(cf,5),n&2){let o;Ie(o=we())&&(i._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(n,i){n&2&&(qe("align",null)("tabIndex",i.mode!=="side"?"-1":null),ir("visibility",!i._container&&!i.opened?"hidden":null),ie("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:od,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,i){n&1&&(wt(),A(0,"div",1,0),ot(2),R())},dependencies:[ti],encapsulation:2,changeDetection:0})}return r})(),Ss=(()=>{class r{_dir=m(Xn,{optional:!0});_element=m(Te);_ngZone=m(ne);_changeDetectorRef=m(ve);_animationMode=m(We,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Ua;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=$e(t)}_autosize=m(_f);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:$e(t)}_backdropOverride;backdropClick=new be;_start;_end;_left;_right;_destroyed=new te;_doCheckSubject=new te;_contentMargins={left:null,right:null};_contentMarginChanges=new te;get scrollable(){return this._userContent||this._content}_injector=m(Fn);constructor(){let t=m(Xe),n=m(ri);this._dir?.change.pipe(De(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),n.change().pipe(De(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&t.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Dt(this._allDrawers),De(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Dt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(In(10),De(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();t+=i,n-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();n+=i,t-=i}}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(De(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(De(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t.onPositionChanged.pipe(De(this._drawers.changes)).subscribe(()=>{Pr({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(t){t._modeChanged.pipe(De(tr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let n=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?n.add(i):n.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Y({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(n,i,o){if(n&1&&(Ut(o,Yr,5),Ut(o,Ts,5)),n&2){let s;Ie(s=we())&&(i._content=s.first),Ie(s=we())&&(i._allDrawers=s)}},viewQuery:function(n,i){if(n&1&&Vt(Yr,5),n&2){let o;Ie(o=we())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,i){n&2&&ie("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[st([{provide:sd,useExisting:r}])],ngContentSelectors:uf,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,i){n&1&&(wt(df),ce(0,pf,1,2,"div",0),ot(1),ot(2,1),ce(3,mf,2,0,"mat-drawer-content")),n&2&&(de(i.hasBackdrop?0:-1),P(3),de(i._content?-1:3))},dependencies:[Yr],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return r})();var ad=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Se({type:r});static \u0275inj=Ee({imports:[ue,Ir,Ir,ue]})}return r})();var Tf=r=>({exact:r}),Sf=(r,e)=>e.link;function gf(r,e){if(r&1&&(A(0,"a",12)(1,"span",14)(2,"mat-icon",15),w(3),R(),A(4,"span",16),w(5),R()()()),r&2){let t=e.$implicit;Le("routerLinkActiveOptions",za(4,Tf,t.link==="/blog"))("routerLink",t.link),P(3),Ft(t.icon),P(2),Ft(t.text)}}var ld=(()=>{class r{constructor(){this.matIconRegistry=m(_l),this.sitePostService=m(ei),this.postCount=Dr(()=>Object.keys(this.sitePostService.postsMeta()).length),this.categoryCount=Dr(()=>new Set(this.sitePostService.postCategories()).size),this.tagCount=Dr(()=>new Set(this.sitePostService.postTags()).size),this.menuItems=Lt([{link:"/blog",icon:"home",text:"\u9996\u9801"},{link:"/blog/categories",icon:"apps",text:"\u5206\u985E"},{link:"/blog/tags",icon:"label",text:"\u6A19\u7C64"},{link:"/blog/archives",icon:"archive",text:"\u6B78\u6A94"}]).asReadonly()}ngOnInit(){this.matIconRegistry.registerFontClassAlias("fontawesome","fab")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Y({type:r,selectors:[["app-layout-sidebar"]],decls:51,vars:3,consts:[[1,"post-statics","flex","p-4"],[1,"statics-block","flex","flex-col","flex-[33%]"],["routerLink","/blog/archives",1,"no-underline","hover:no-underline"],[1,"counter","text-[color:var(--sidebar-highlight-text-color)]","text-[24px]","text-center"],[1,"description","text-[color:var(--sidebar-text-color)]","text-[16px]","text-center"],["routerLink","/blog/categories",1,"no-underline","hover:no-underline"],["routerLink","/blog/tags",1,"no-underline","hover:no-underline"],[1,"my-1"],[1,"section-title","text-[color:var(--sidebar-text-color)]","text-[20px]","text-center","my-1"],[1,"section-content","text-[color:var(--sidebar-text-color)]","text-center"],["href","https://www.tenlong.com.tw/products/9789864348039","target","_blank","rel","noreferrer",1,"no-underline",2,"display","flex","flex-direction","column","align-items","center"],["src","assets/promotion/rxjs.webp","width","160px","height","224px","alt","\u6253\u901A RxJS \u4EFB\u7763\u4E8C\u8108 - \u597D\u8A55\u71B1\u552E\u4E2D\uFF01","loading","lazy"],["mat-list-item","","routerLinkActive","text-[color:var(--sidebar-highlight-text-color)]",3,"routerLinkActiveOptions","routerLink"],["mat-list-item","","href","/atom.xml","target","_blank","rel","noreferrer"],[1,"flex","flex-row"],[1,"mr-2"],[1,"link-text"],["mat-list-item","","href","https://github.com/wellwind/","target","_blank","rel","noreferrer"],["fontSet","fontawesome","fontIcon","fa-github",1,"mr-2"],["mat-list-item","","href","https://www.facebook.com/fullstackledder","target","_blank","rel","noreferrer"],["fontSet","fontawesome","fontIcon","fa-facebook",1,"mr-2"]],template:function(n,i){n&1&&(A(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),w(4),R(),A(5,"div",4),w(6," \u6587\u7AE0 "),R()()(),A(7,"div",1)(8,"a",5)(9,"div",3),w(10),R(),A(11,"div",4),w(12," \u5206\u985E "),R()()(),A(13,"div",1)(14,"a",6)(15,"div",3),w(16),R(),A(17,"div",4),w(18," \u6A19\u7C64 "),R()()()(),B(19,"mat-divider",7),A(20,"div")(21,"div",8),w(22," \u597D\u66F8\u63A8\u85A6 "),R(),A(23,"div",9)(24,"mat-nav-list")(25,"a",10),B(26,"img",11),A(27,"div"),w(28,"\u6253\u901A RxJS \u4EFB\u7763\u4E8C\u8108"),R()()()()(),B(29,"mat-divider",7),A(30,"mat-nav-list"),Gn(31,gf,6,6,"a",12,Sf),R(),B(33,"mat-divider",7),A(34,"mat-nav-list")(35,"a",13)(36,"span",14)(37,"mat-icon",15),w(38,"rss_feed"),R(),A(39,"span",16),w(40,"RSS"),R()()(),A(41,"a",17)(42,"span",14),B(43,"mat-icon",18),A(44,"span",16),w(45,"GitHub"),R()()(),A(46,"a",19)(47,"span",14),B(48,"mat-icon",20),A(49,"span",16),w(50,"Facebook"),R()()()()),n&2&&(P(4),Yn(" ",i.postCount()," "),P(6),Yn(" ",i.categoryCount()," "),P(6),Yn(" ",i.tagCount()," "),P(15),Hn(i.menuItems()))},dependencies:[jn,el,Dl,Pl,zl,Yl,Hl,Zn,$n],encapsulation:2,changeDetection:0})}}return r})();var cd=(()=>{class r{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||r)};static \u0275dir=It({type:r})}return r})();var xi=new le("MatFormField");var bf=["panel"],vf=["*"];function Of(r,e){if(r&1&&(A(0,"div",1,0),ot(2),R()),r&2){let t=e.id,n=oe();kn(n._classList),ie("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-autocomplete-panel-animations-enabled",!n._animationsDisabled)("mat-primary",n._color==="primary")("mat-accent",n._color==="accent")("mat-warn",n._color==="warn"),Le("id",n.id),qe("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}var gs=class{source;option;constructor(e,t){this.source=e,this.option=t}},ud=new le("mat-autocomplete-default-options",{providedIn:"root",factory:Cf});function Cf(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var pd=(()=>{class r{_changeDetectorRef=m(ve);_elementRef=m(Te);_defaults=m(ud);_animationsDisabled=m(We,{optional:!0})==="NoopAnimations";_activeOptionChanges=Dn.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(t){this._color=t,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new be;opened=new be;closed=new be;optionActivated=new be;set classList(t){this._classList=t,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}id=m(qn).getId("mat-autocomplete-");inertGroups;constructor(){let t=m(Xe);this.inertGroups=t?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new ul(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){let n=new gs(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){if(this.ariaLabel)return null;let n=t?t+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:t}_skipPredicate(){return!1}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Y({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(n,i,o){if(n&1&&(Ut(o,ii,5),Ut(o,Cl,5)),n&2){let s;Ie(s=we())&&(i.options=s),Ie(s=we())&&(i.optionGroups=s)}},viewQuery:function(n,i){if(n&1&&(Vt(Ba,7),Vt(bf,5)),n&2){let o;Ie(o=we())&&(i.template=o.first),Ie(o=we())&&(i.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Qe],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Qe],requireSelection:[2,"requireSelection","requireSelection",Qe],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Qe],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Qe]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[st([{provide:Ol,useExisting:r}])],ngContentSelectors:vf,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,i){n&1&&(wt(),ce(0,Of,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return r})();var xf={provide:Ll,useExisting:La(()=>As),multi:!0};var md=new le("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=m(ni);return()=>r.scrollStrategies.reposition()}});function Nf(r){return()=>r.scrollStrategies.reposition()}var Mf={provide:md,deps:[ni],useFactory:Nf},As=(()=>{class r{_environmentInjector=m(Ia);_element=m(Te);_overlay=m(ni);_viewContainerRef=m(ka);_zone=m(ne);_changeDetectorRef=m(ve);_dir=m(Xn,{optional:!0});_formField=m(xi,{optional:!0,host:!0});_viewportRuler=m(ri);_scrollStrategy=m(md);_renderer=m(je);_defaults=m(ud,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new te;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=Dn.EMPTY;_breakpointObserver=m(al);_handsetLandscapeSubscription=Dn.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new te;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Qn(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return tr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(re(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(re(()=>this._overlayAttached)):Po()).pipe(it(t=>t instanceof xl?t:null))}optionSelections=Ln(()=>{let t=this.autocomplete?this.autocomplete.options:null;return t?t.changes.pipe(Dt(t),rr(()=>tr(...t.map(n=>n.onSelectionChange)))):this._initialized.pipe(rr(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new Mo(t=>{let n=o=>{let s=nl(o),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&!this._hasFocus()&&(!a||!a.contains(s))&&(!l||!l.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&t.next(o)},i=[this._renderer.listen("document","click",n),this._renderer.listen("document","auxclick",n),this._renderer.listen("document","touchend",n)];return()=>{i.forEach(o=>o())}})}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){let n=t.keyCode,i=ar(t);if(n===27&&!i&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&n===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){let o=this.autocomplete._keyManager.activeItem,s=n===38||n===40;n===9||s&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,i=n.value;if(n.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let o=this.autocomplete.options?.find(s=>s.selected);if(o){let s=this._getDisplayValue(o.value);i!==s&&o.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return rl()===this._element.nativeElement}_floatLabel(t=!1){this._formField&&this._formField.floatLabel==="auto"&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let t=new Mo(i=>{Pr(()=>{i.next()},{injector:this._environmentInjector})}),n=this.autocomplete.options?.changes.pipe(Da(()=>this._positionStrategy.reapplyLastPosition()),Na(0))??Po();return tr(t,n).pipe(rr(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),wn(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){let n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){let n=this._getDisplayValue(t);t==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){let n=this.autocomplete,i=t?t.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),n._emitSelectEvent(i),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(i=>{i!==t&&i.selected&&i.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){if(this._attachOverlay(t),this._floatLabel(),this._trackedModal){let n=this.autocomplete.id;Fo(this._trackedModal,"aria-owns",n)}}_attachOverlay(t){this.autocomplete;let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new gl(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(hl.HandsetLandscape).subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=t=>{(t.keyCode===27&&!ar(t)||t.keyCode===38&&ar(t,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),t.stopPropagation(),t.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Al({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){let n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],s;this.position==="above"?s=o:this.position==="below"?s=n:s=[...n,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let i=0;i<t.options.length;i++)if(!t.options.get(i).disabled){n=i;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){let t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_scrollToOption(t){let n=this.autocomplete,i=Nl(t,n.options,n.optionGroups);if(t===0&&i===1)n._setScrollTop(0);else if(n.panel){let o=n.options.toArray()[t];if(o){let s=o._getHostElement(),a=Ml(s.offsetTop,s.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(a)}}}_trackedModal=null;_applyModalPanelOwnership(){let t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let n=this.autocomplete.id;this._trackedModal&&Qn(this._trackedModal,"aria-owns",n),Fo(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){if(this._trackedModal){let t=this.autocomplete.id;Qn(this._trackedModal,"aria-owns",t),this._trackedModal=null}}static \u0275fac=function(n){return new(n||r)};static \u0275dir=It({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,i){n&1&&W("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(s){return i._handleInput(s)})("keydown",function(s){return i._handleKeydown(s)})("click",function(){return i._handleClick()}),n&2&&qe("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Qe]},exportAs:["matAutocompleteTrigger"],features:[st([xf]),Vn]})}return r})(),_d=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Se({type:r});static \u0275inj=Ee({providers:[Mf],imports:[yl,ko,ue,Ir,ko,ue]})}return r})();var Df=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Y({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return r})(),Lf={passive:!0},fd=(()=>{class r{_platform=m(Xe);_ngZone=m(ne);_renderer=m(Bn).createRenderer(null,null);_styleLoader=m(sl);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Oa;this._styleLoader.load(Df);let n=Vo(t),i=this._monitoredElements.get(n);if(i)return i.subject;let o=new te,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),il(this._renderer,n,"animationstart",a,Lf)));return this._monitoredElements.set(n,{subject:o,unlisten:l}),o}stopMonitoring(t){let n=Vo(t),i=this._monitoredElements.get(n);i&&(i.unlisten(),i.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=nr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var hd=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Se({type:r});static \u0275inj=Ee({})}return r})();var Ed=new le("MAT_INPUT_VALUE_ACCESSOR");var ys=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Se({type:r});static \u0275inj=Ee({imports:[ue,ll,ue]})}return r})();var If=["button","checkbox","file","hidden","image","radio","range","reset","submit"],wf=new le("MAT_INPUT_CONFIG"),Td=(()=>{class r{_elementRef=m(Te);_platform=m(Xe);ngControl=m(Ul,{optional:!0,self:!0});_autofillMonitor=m(fd);_ngZone=m(ne);_formField=m(xi,{optional:!0});_renderer=m(je);_uid=m(qn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=m(wf,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new te;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=$e(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(wl.required)??!1}set required(t){this._required=$e(t)}_required;get type(){return this._type}set type(t){let n=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&Bo().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=$e(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Bo().has(t));constructor(){let t=m(Fl,{optional:!0}),n=m(kl,{optional:!0}),i=m(vl),o=m(Ed,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?wa(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new bl(i,this.ngControl,n,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Lr(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){If.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){let n=this._elementRef.nativeElement,i=n.getAttribute("aria-describedby"),o;if(i){let s=this._formFieldDescribedBy||t;o=t.concat(i.split(" ").filter(a=>a&&!s.includes(a)))}else o=t;this._formFieldDescribedBy=t,o.length?n.setAttribute("aria-describedby",o.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let n=t.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||r)};static \u0275dir=It({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,i){n&1&&W("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),n&2&&(Io("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),qe("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),ie("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Qe]},exportAs:["matInput"],features:[st([{provide:cd,useExisting:r}]),Vn]})}return r})(),Sd=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Se({type:r});static \u0275inj=Ee({imports:[ue,ys,ys,hd,ue]})}return r})();var Vf=(r,e)=>e.link;function Ff(r,e){r&1&&(A(0,"mat-icon"),w(1,"menu_open"),R())}function Bf(r,e){r&1&&(A(0,"mat-icon"),w(1,"menu"),R())}function kf(r,e){r&1&&(A(0,"mat-icon"),w(1,"light_mode"),R())}function Gf(r,e){r&1&&(A(0,"mat-icon"),w(1,"dark_mode"),R())}function Hf(r,e){if(r&1){let t=Et();A(0,"button",9),W("click",function(){X(t);let i=oe();return $(i.toggleTheme())}),ce(1,kf,2,0,"mat-icon")(2,Gf,2,0,"mat-icon"),R()}if(r&2){let t=oe();P(),de(t.theme()==="light"?1:2)}}function Yf(r,e){if(r&1&&(A(0,"mat-option",12)(1,"span",13),w(2),R(),A(3,"span",14),w(4),R()()),r&2){let t=e.$implicit;Le("value",t),P(2),Ft(t.type),P(2),Ft(t.text)}}function zf(r,e){if(r&1){let t=Et();A(0,"div",8)(1,"input",10,0),W("keyup.enter",function(){X(t);let i=or(2),o=or(3),s=or(5),a=oe();return a.searchKeywordChange.emit(a.searchKeyword.value||""),i.blur(),o.closePanel(),$(s._isOpen=!1)})("input",function(){X(t);let i=oe();return $(i.keepSearchKeyword.set(i.searchKeyword.value||""))}),R(),A(4,"mat-autocomplete",11,1),W("optionSelected",function(i){X(t);let o=oe();return $(o.optionSelected(i))})("opened",function(){X(t);let i=oe();return $(i.searchPanelOpened())})("closed",function(){X(t);let i=oe();return $(i.searchPanelClosed())}),Gn(6,Yf,5,3,"mat-option",12,Vf),R()()}if(r&2){let t=or(5),n=oe();P(),Le("formControl",n.searchKeyword)("matAutocomplete",t),P(5),Hn(n.suggestList())}}var gd=(()=>{class r{constructor(){this.menuOpen=Lo(!0),this.menuOpenChange=Mr(),this.theme=Lo("dark"),this.themeChange=Mr(),this.searchKeywordChange=Mr(),this.selectSuggestItemChange=Mr(),this.platformService=m(lr),this.sitePostService=m(ei),this.isServer=this.platformService.isServer,this.isSmallScreen=this.platformService.isSmallScreen,this.searchKeyword=new oi(""),this.keepSearchKeyword=Lt(""),this.suggestList$=Ca([this.sitePostService.postsMetaWithSlugAndSortDesc$,this.searchKeyword.valueChanges.pipe(In(300),Ma())]).pipe(rr(([t,n])=>Ln(()=>import("./chunk-A5FBTWJ5.js").then(i=>i.searchPosts)).pipe(it(i=>i(t,n||""))))),this.suggestList=Jn(this.suggestList$)}toggleMenu(){this.menuOpenChange.emit(!this.menuOpen()),G.api.pushEvent("menu-toggle",{menuOpen:this.menuOpen()?"N":"Y",theme:this.theme()==="light"?"dark":"light"})}toggleTheme(){this.themeChange.emit(this.theme()==="light"?"dark":"light"),G.api.pushEvent("theme-toggle",{theme:this.theme()==="light"?"dark":"light"})}optionSelected(t){G.api.pushEvent("suggest-item-selected",{keyword:this.keepSearchKeyword(),link:t.option.value.link,type:t.option.value.type,title:t.option.value.text}),this.selectSuggestItemChange.emit(t.option.value.link),this.searchKeyword.setValue("")}searchPanelOpened(){this.originalView=G.api.getView()?.name,G.api.setView({name:"search-panel"}),G.api.pushEvent("search-panel-opened",{});let{trace:t,context:n}=G.api.getOTEL()??{trace:null,context:null};if(!t||!n)return;let o=t.getTracer("Toolbar").startSpan("Open Search Panel");this.span=o}searchPanelClosed(){G.api.setView({name:this.originalView??""}),G.api.pushEvent("search-panel-closed",{}),this.span&&(this.span.setAttribute("search-keyword",this.keepSearchKeyword()),this.span.end(),this.span=void 0)}goHome(){G.api.pushEvent("go-home")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Y({type:r,selectors:[["app-layout-toolbar"]],inputs:{menuOpen:[1,"menuOpen"],theme:[1,"theme"]},outputs:{menuOpenChange:"menuOpenChange",themeChange:"themeChange",searchKeywordChange:"searchKeywordChange",selectSuggestItemChange:"selectSuggestItemChange"},decls:11,vars:4,consts:[["input","","trigger","matAutocompleteTrigger"],["auto","matAutocomplete"],["color","primary","xmlns","http://www.w3.org/1999/html",1,"toolbar","mat-elevation-z6","fixed","z-10"],["role","button","aria-label","\u6253\u958B/\u6536\u5408\u9078\u55AE","mat-icon-button","",3,"click"],["routerLink","/",1,"header-link","no-underline","text-[color:var(--header-link-color)]","hover:text-[color:var(--header-link-color)]","hover:no-underline","active:text-[color:var(--header-link-color)]",3,"click"],[1,"header-link","text-2xl"],[1,"grow"],["role","button","aria-label","\u6DF1\u8272/\u4EAE\u8272\u6A21\u5F0F","mat-icon-button","",1,"mr-2"],[1,"search-bar"],["role","button","aria-label","\u6DF1\u8272/\u4EAE\u8272\u6A21\u5F0F","mat-icon-button","",1,"mr-2",3,"click"],["autocomplete","off","type","text","matInput","","accesskey","/","placeholder","\u641C\u5C0B... ( Alt + / )",1,"search-input","h-9","rounded-md","w-60","text-[16px]","border-0","p-2","hidden","md:block",3,"keyup.enter","input","formControl","matAutocomplete"],["panelWidth","auto",3,"optionSelected","opened","closed"],[3,"value"],[1,"suggest-item-type"],[1,"suggest-item-text"]],template:function(n,i){n&1&&(A(0,"mat-toolbar",2)(1,"button",3),W("click",function(){return i.toggleMenu()}),ce(2,Ff,2,0,"mat-icon")(3,Bf,2,0,"mat-icon"),R(),A(4,"h1")(5,"a",4),W("click",function(){return i.goHome()}),A(6,"span",5),w(7,"\u5168\u7AEF\u958B\u767C\u4EBA\u54E1\u5929\u68AF"),R()()(),B(8,"div",6),ce(9,Hf,3,1,"button",7)(10,zf,8,2,"div",8),R()),n&2&&(P(2),de(i.menuOpen()?2:-1),P(),de(i.menuOpen()?-1:3),P(6),de(i.isServer?-1:9),P(),de(i.isSmallScreen()?-1:10))},dependencies:[jn,Gl,Il,Vl,Bl,Tl,El,Zn,$n,Sd,Td,_d,pd,ii,As,ml,pl],encapsulation:2,changeDetection:0})}}return r})();var Kf=["matDrawerContent"];function Wf(r,e){r&1&&B(0,"mat-progress-bar",2)}var Ad=(()=>{class r{constructor(){this.matDrawerContent=Ga("matDrawerContent"),this.cdr=m(ve),this.router=m(Wn),this.platformService=m(lr),this.menuOpen=Lt(!0),this.theme=Lt("dark"),this.isSmallScreen=this.platformService.isSmallScreen,this.searchKeyword=new oi(""),this.pageLoading$=this.router.events.pipe(re(t=>t instanceof sr||t instanceof Kn),it(t=>t instanceof sr)),this.pageLoading=Jn(this.pageLoading$),this.themeEffect=Lr(()=>{this.platformService.isServer||(localStorage.setItem("theme",this.theme()||""),document.body.classList.remove("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.add(`${this.theme()}-theme`),this.cdr.detectChanges())}),this.smallScreenEffect=Lr(()=>{this.platformService.isServer||this.isSmallScreen()&&this.menuOpen.set(!1)})}get isServer(){return this.platformService.isServer}ngOnInit(){this.router.events.pipe(re(t=>t instanceof sr)).subscribe(()=>{let t=this.matDrawerContent();t&&(t.scrollTo({top:0,left:0}),this.cdr.detectChanges())}),this.setTheme(),this.cdr.detectChanges()}async selectSuggestItem(t){await this.router.navigateByUrl(t)}async goSearchPage(t){t&&await this.router.navigate(["query"],{queryParams:{q:t}})}setTheme(){if(this.platformService.isServer)return;let t=localStorage.getItem("theme");t?this.theme.set(t):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&this.theme.set("light")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Y({type:r,selectors:[["app-layout"]],viewQuery:function(n,i){n&1&&Ya(i.matDrawerContent,Kf,5),n&2&&wo()},decls:8,vars:10,consts:[["matDrawerContent",""],[3,"menuOpenChange","themeChange","selectSuggestItemChange","searchKeywordChange","menuOpen","theme"],["mode","indeterminate","color","accent",1,"!fixed","top-0","z-50"],[1,"drawer-container","top-16","h-[calc(100vh","-","64px)]"],[1,"sidebar","min-w-[240px]","max-w-[240px]",3,"closed","mode","disableClose","opened"],[1,"main-content"]],template:function(n,i){if(n&1){let o=Et();A(0,"app-layout-toolbar",1),W("menuOpenChange",function(a){return X(o),$(i.menuOpen.set(a))})("themeChange",function(a){return X(o),$(i.theme.set(a))})("selectSuggestItemChange",function(a){return X(o),$(i.selectSuggestItem(a))})("searchKeywordChange",function(a){return X(o),$(i.goSearchPage(a))}),R(),ce(1,Wf,1,0,"mat-progress-bar",2),A(2,"mat-drawer-container",3)(3,"mat-drawer",4),W("closed",function(){return X(o),$(i.menuOpen.set(!1))}),B(4,"app-layout-sidebar"),R(),A(5,"mat-drawer-content",5,0),B(7,"router-outlet"),R()()}n&2&&(Le("menuOpen",i.menuOpen())("theme",i.theme()),P(),de(i.pageLoading()?1:-1),P(2),ie("server-sidebar",i.isServer),Le("mode",i.isSmallScreen()?"over":"side")("disableClose",!i.isSmallScreen())("opened",i.menuOpen()),P(2),ie("server",i.isServer))},dependencies:[id,nd,ad,Ts,Ss,Yr,Ja,gd,ld],styles:[".drawer-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}  .mat-drawer-inner-container::-webkit-scrollbar{height:4px;width:4px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#00000042}@media (max-width: 959.98px){.sidebar[_ngcontent-%COMP%]{min-width:320px;max-width:320px}.sidebar.server-sidebar[_ngcontent-%COMP%]{display:none}}.main-content.server[_ngcontent-%COMP%]{margin-left:240px}@media (max-width: 959.98px){.main-content.server[_ngcontent-%COMP%]{margin-left:0!important}}"],changeDetection:0})}}return r})();var yd=(()=>{class r{constructor(){this.router=m(Wn),this.platformService=m(lr),this.siteMetaService=m(Rl)}ngOnInit(){this.router.events.pipe(re(t=>t instanceof sr)).subscribe(()=>{this.siteMetaService.resetMeta({title:"",description:"\u500B\u4EBA\u5B78\u7FD2\u7A0B\u5F0F\u8A2D\u8A08\u3001\u7CFB\u7D71\u958B\u767C\u548C\u8B80\u66F8\u7684\u7D93\u9A57\u53CA\u5FC3\u5F97\u3002",keywords:[],type:"website"})}),this.router.events.pipe(re(t=>t instanceof Kn),Dt(null),Pa()).subscribe(t=>{if(!this.platformService.isServer&&fl.production){let n=t[1];if(!n)return;G.api&&(G.api.pushEvent("page_change",{url:n.url}),G.api.setPage({id:n.url,url:n.url}),G.api.setView({name:n.url})),gtag("event","page_view",{page_path:n.url||""})}})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Y({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&B(0,"app-layout")},dependencies:[Ad],encapsulation:2,changeDetection:0})}}return r})();q();var em=Pn(Xp());var Zp=Pn($p());var bE="duration_ns";function Jp(r=[]){var e,t;for(let n of r){let{scopeSpans:i}=n;for(let o of i){let{scope:s,spans:a=[]}=o;for(let l of a){if(l.kind!==Zp.ESpanKind.SPAN_KIND_CLIENT)continue;let c={traceId:l.traceId.toString(),spanId:l.spanId.toString()},d={};for(let _ of l.attributes)d[_.key]=String(Object.values(_.value)[0]);!Number.isNaN(l.endTimeUnixNano)&&!Number.isNaN(l.startTimeUnixNano)&&(d[bE]=String(Number(l.endTimeUnixNano)-Number(l.startTimeUnixNano)));let u=((e=s?.name)!==null&&e!==void 0?e:"").indexOf("-"),E=Zl;s?.name&&(u===-1&&(E=(t=s.name.split("/")[1])!==null&&t!==void 0?t:s.name),u>-1&&(E=s?.name.substring(u+1))),G.api.pushEvent(`faro.tracing.${E}`,d,void 0,{spanContext:c,timestampOverwriteMs:Number(l.endTimeUnixNano)/1e6,customPayloadTransformer:_=>{var p,h;return d["faro.action.user.name"]!=null&&d["faro.action.user.parentId"]!=null&&(_.action={name:d["faro.action.user.name"],parentId:d["faro.action.user.parentId"]},(p=_.attributes)===null||p===void 0||delete p["faro.action.user.name"],(h=_.attributes)===null||h===void 0||delete h["faro.action.user.parentId"]),_}})}}}}var lo=class{constructor(e){this.config=e}export(e,t){let n=(0,em.createExportTraceServiceRequest)(e,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(n),Jp(n.resourceSpans),t({code:Qt.SUCCESS})}shutdown(){return Promise.resolve(void 0)}};var tm="session.id",rm="deployment.environment.name",nm="service.namespace",im="process.runtime.name",om="process.runtime.version",sm="telemetry.distro.name",am="telemetry.distro.version",lm="browser.brands",cm="browser.language",dm="browser.mobile",um="browser.platform";M();M();var hn=class{emit(e){}},pm=new hn;var aa=class{getLogger(e,t,n){return new hn}},co=new aa;var uo=class{constructor(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):pm}};var En=class{getLogger(e,t,n){var i;return(i=this.getDelegateLogger(e,t,n))!==null&&i!==void 0?i:new uo(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:co}setDelegate(e){this._delegate=e}getDelegateLogger(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getLogger(e,t,n)}};var la=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var Tn=Symbol.for("io.opentelemetry.js.api.logs"),Rr=la;function mm(r,e,t){return n=>n===r?e:t}var ca=1;var po=class r{constructor(){this._proxyLoggerProvider=new En}static getInstance(){return this._instance||(this._instance=new r),this._instance}setGlobalLoggerProvider(e){return Rr[Tn]?this.getLoggerProvider():(Rr[Tn]=mm(ca,e,co),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,t;return(t=(e=Rr[Tn])===null||e===void 0?void 0:e.call(Rr,ca))!==null&&t!==void 0?t:this._proxyLoggerProvider}getLogger(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)}disable(){delete Rr[Tn],this._proxyLoggerProvider=new En}};var mo=po.getInstance();function _m(r,e,t,n){for(let i=0,o=r.length;i<o;i++){let s=r[i];e&&s.setTracerProvider(e),t&&s.setMeterProvider(t),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}function fm(r){r.forEach(e=>e.disable())}function da(r){let e=r.tracerProvider||D.getTracerProvider(),t=r.meterProvider||Zr.getMeterProvider(),n=r.loggerProvider||mo.getLoggerProvider(),i=r.instrumentations?.flat()??[];return _m(i,e,t,n),()=>{fm(i)}}M();var vt=Pn(Sm());var _o=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this.setConfig(n),this._diag=b.createComponentLogger({namespace:e}),this._tracer=D.getTracer(e,t),this._meter=Zr.getMeter(e,t),this._logger=mo.getLogger(e,t),this._updateMetricInstruments()}_wrap=vt.wrap;_unwrap=vt.unwrap;_massWrap=vt.massWrap;_massUnwrap=vt.massUnwrap;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config=ht({enabled:!0},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,n,i){if(e)try{e(n,i)}catch(o){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},o)}}};var Ot=class extends _o{constructor(e,t,n){super(e,t,n),this._config.enabled&&this.enable()}};function br(r,e,t){let n,i;try{i=r()}catch(o){n=o}finally{if(e(n,i),n&&!t)throw n;return i}}function vr(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var I=function(r){return r[r.STABLE=1]="STABLE",r[r.OLD=2]="OLD",r[r.DUPLICATE=3]="DUPLICATE",r}(I||{});function An(r,e){let t=I.OLD,n=e?.split(",").map(i=>i.trim()).filter(i=>i!=="");for(let i of n??[])if(i.toLowerCase()===r+"/dup"){t=I.DUPLICATE;break}else i.toLowerCase()===r&&(t=I.STABLE);return t}q();q();M();q();jt();function pa(){return"unknown_service"}var Or=r=>r!==null&&typeof r=="object"&&typeof r.then=="function";var ma=class r{_rawAttributes;_asyncAttributesPending=!1;_memoizedAttributes;static FromAttributeList(e){let t=new r({});return t._rawAttributes=gm(e),t._asyncAttributesPending=e.filter(([n,i])=>Or(i)).length>0,t}constructor(e){let t=e.attributes??{};this._rawAttributes=Object.entries(t).map(([n,i])=>(Or(i)&&(this._asyncAttributesPending=!0),[n,i])),this._rawAttributes=gm(this._rawAttributes)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,n]=this._rawAttributes[e];this._rawAttributes[e]=[t,Or(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&b.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,n]of this._rawAttributes){if(Or(n)){b.debug(`Unsettled resource attribute ${t} skipped`);continue}n!=null&&(e[t]??=n)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}merge(e){return e==null?this:r.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()])}};function fo(r){return ma.FromAttributeList(Object.entries(r))}function yn(){return fo({[Zi]:pa(),[nn]:qt[nn],[on]:qt[on],[sn]:qt[sn]})}function gm(r){return r.map(([e,t])=>Or(t)?[e,t.catch(n=>{b.debug("promise rejection for resource attribute: %s - %s",e,n)})]:[e,t])}M();q();M();q();jt();var Am="exception";var ho=class{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:Be.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){let t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=fe.now(),this._performanceOffset=t-(this._performanceStartTime+Er()),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(t==null||this._isSpanEnded())return this;if(e.length===0)return b.warn(`Invalid attribute key: ${e}`),this;if(!tn(t))return b.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return n!==void 0&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;let{eventCountLimit:i}=this._spanLimits;if(i===0)return b.warn("No events allowed."),this._droppedEventsCount++,this;i!==void 0&&this.events.length>=i&&(this._droppedEventsCount===0&&b.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),an(t)&&(an(n)||(n=t),t=void 0);let o=yt(t);return this.events.push({name:e,attributes:o,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status=ht({},e),this.status.message!=null&&typeof e.message!="string"&&(b.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){b.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=ro(this.startTime,this.endTime),this._duration[0]<0&&(b.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&b.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=fe.now())return ke(e+this._performanceOffset);if(typeof e=="number")return Ae(e);if(e instanceof Date)return Ae(e.getTime());if(Tr(e))return e;if(this._startTimeProvided)return Ae(Date.now());let t=fe.now()-this._performanceStartTime;return ln(this.startTime,Ae(t))}isRecording(){return this._ended===!1}recordException(e,t){let n={};typeof e=="string"?n[Ki]=e:e&&(e.code?n[Wi]=e.code.toString():e.name&&(n[Wi]=e.name),e.message&&(n[Ki]=e.message),e.stack&&(n[Ku]=e.stack)),n[Wi]||n[Ki]?this.addEvent(Am,n,t):b.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);b.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(b.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,t):n):e}};M();var ye=function(r){return r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",r}(ye||{});var mt=class{shouldSample(){return{decision:ye.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var He=class{shouldSample(){return{decision:ye.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};M();q();var Ct=class{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(xe(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new He),this._remoteParentSampled=e.remoteParentSampled??new He,this._remoteParentNotSampled=e.remoteParentNotSampled??new mt,this._localParentSampled=e.localParentSampled??new He,this._localParentNotSampled=e.localParentNotSampled??new mt}shouldSample(e,t,n,i,o,s){let a=D.getSpanContext(e);return!a||!pt(a)?this._root.shouldSample(e,t,n,i,o,s):a.isRemote?a.traceFlags&_e.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,o,s):this._remoteParentNotSampled.shouldSample(e,t,n,i,o,s):a.traceFlags&_e.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,o,s):this._localParentNotSampled.shouldSample(e,t,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};M();var Cr=class{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Vi(t)&&this._accumulate(t)<this._upperBound?ye.RECORD_AND_SAMPLED:ye.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,o=parseInt(e.slice(i,i+8),16);t=(t^o)>>>0}return t}};var Eo=1;function To(){return{sampler:_a(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:void 0??1/0,attributeCountLimit:void 0??128},spanLimits:{attributeValueLengthLimit:void 0??1/0,attributeCountLimit:void 0??128,linkCountLimit:void 0??128,eventCountLimit:void 0??128,attributePerEventCountLimit:void 0??128,attributePerLinkCountLimit:void 0??128}}}function _a(){let r=void 0??"parentbased_always_on";switch(r){case"always_on":return new He;case"always_off":return new mt;case"parentbased_always_on":return new Ct({root:new He});case"parentbased_always_off":return new Ct({root:new mt});case"traceidratio":return new Cr(ym());case"parentbased_traceidratio":return new Ct({root:new Cr(ym())});default:return b.error(`OTEL_TRACES_SAMPLER value "${r}" invalid, defaulting to "parentbased_always_on".`),new Ct({root:new He})}}function ym(){let r=void 0;return r==null?(b.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Eo}.`),Eo):r<0||r>1?(b.error(`OTEL_TRACES_SAMPLER_ARG=${r} was given, but it is out of range ([0..1]), defaulting to ${Eo}.`),Eo):r}var CE=128,xE=1/0;function Rm(r){let e={sampler:_a()},t=To(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}function bm(r){let e=Object.assign({},r.spanLimits);return e.attributeCountLimit=r.spanLimits?.attributeCountLimit??r.generalLimits?.attributeCountLimit??void 0??void 0??CE,e.attributeValueLengthLimit=r.spanLimits?.attributeValueLengthLimit??r.generalLimits?.attributeValueLengthLimit??void 0??void 0??xE,Object.assign({},r,{spanLimits:e})}M();q();var So=class{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,t){this._exporter=e,this._maxExportBatchSize=typeof t?.maxExportBatchSize=="number"?t.maxExportBatchSize:void 0??512,this._maxQueueSize=typeof t?.maxQueueSize=="number"?t.maxQueueSize:void 0??2048,this._scheduledDelayMillis=typeof t?.scheduledDelayMillis=="number"?t.scheduledDelayMillis:void 0??5e3,this._exportTimeoutMillis=typeof t?.exportTimeoutMillis=="number"?t.exportTimeoutMillis:void 0??3e4,this._shutdownOnce=new yr(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(b.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&_e.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&b.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(b.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let o=0,s=i;o<s;o++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);x.with(_r(x.active()),()=>{let i;this._finishedSpans.length<=this._maxExportBatchSize?(i=this._finishedSpans,this._finishedSpans=[]):i=this._finishedSpans.splice(0,this._maxExportBatchSize);let o=()=>this._exporter.export(i,a=>{clearTimeout(n),a.code===Qt.SUCCESS?e():t(a.error??new Error("BatchSpanProcessor: span export failed"))}),s=null;for(let a=0,l=i.length;a<l;a++){let c=i[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(s??=[],s.push(c.resource.waitForAsyncAttributes()))}s===null?o():Promise.all(s).then(o,a=>{xe(a),t(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{this._isExporting=!1,xe(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),this._timer,void 0)}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};q();var $t=class extends So{_visibilityChangeListener;_pageHideListener;constructor(e,t){super(e,t),this.onInit(t)}onInit(e){e?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(t=>{xe(t)})},this._pageHideListener=()=>{this.forceFlush().catch(t=>{xe(t)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}};var Zt=class{generateTraceId=vm(16);generateSpanId=vm(8)},go=Array(32);function vm(r){return function(){for(let t=0;t<r*2;t++)go[t]=Math.floor(Math.random()*16)+48,go[t]>=58&&(go[t]+=39);return String.fromCharCode.apply(null,go.slice(0,r*2))}}var Ao=class{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,t,n,i){let o=Rm(t);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new Zt,this._resource=n,this._spanProcessor=i,this.instrumentationScope=e}startSpan(e,t={},n=x.active()){t.root&&(n=D.deleteSpan(n));let i=D.getSpan(n);if(At(n))return b.debug("Instrumentation suppressed, returning Noop Span"),D.wrapSpanContext(Qr);let o=i?.spanContext(),s=this._idGenerator.generateSpanId(),a,l,c;!o||!D.isSpanContextValid(o)?l=this._idGenerator.generateTraceId():(l=o.traceId,c=o.traceState,a=o);let d=t.kind??tt.INTERNAL,u=(t.links??[]).map(L=>({context:L.context,attributes:yt(L.attributes)})),E=yt(t.attributes),_=this._sampler.shouldSample(n,l,e,d,E,u);c=_.traceState??c;let p=_.decision===$r.RECORD_AND_SAMPLED?_e.SAMPLED:_e.NONE,h={traceId:l,spanId:s,traceFlags:p,traceState:c};if(_.decision===$r.NOT_RECORD)return b.debug("Recording is off, propagating context in a non-recording span"),D.wrapSpanContext(h);let y=yt(Object.assign(E,_.attributes));return new ho({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:h,name:e,kind:d,links:u,parentSpanContext:a,attributes:y,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,n,i){let o,s,a;if(arguments.length<2)return;arguments.length===2?a=t:arguments.length===3?(o=t,a=n):(o=t,s=n,a=i);let l=s??x.active(),c=this.startSpan(e,o,l),d=D.setSpan(l,c);return x.with(d,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};q();var yo=class{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(n=>{xe(n||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}};var xr=function(r){return r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved",r}(xr||{}),Nr=class{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){let t=oo({},To(),bm(e));this._resource=t.resource??yn(),this._config=Object.assign({},t,{resource:this._resource});let n=[];e.spanProcessors?.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new yo(n)}getTracer(e,t,n){let i=`${e}@${t||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new Ao({name:e,version:t,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(i)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(n=>new Promise(i=>{let o,s=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${e} ms`)),o=xr.timeout},e);n.forceFlush().then(()=>{clearTimeout(s),o!==xr.timeout&&(o=xr.resolved,i(o))}).catch(a=>{clearTimeout(s),o=xr.error,i(a)})}));return new Promise((n,i)=>{Promise.all(t).then(o=>{let s=o.filter(a=>a!==xr.resolved);s.length>0?i(s):n()}).catch(o=>i([o]))})}shutdown(){return this._activeSpanProcessor.shutdown()}};M();var Ro=class{_enabled=!1;_currentContext=ut;_bindFunction(e=ut,t){let n=this,i=function(...o){return n.with(e,()=>t.apply(this,o))};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),i}active(){return this._currentContext}bind(e,t){return e===void 0&&(e=this.active()),typeof t=="function"?this._bindFunction(e,t):t}disable(){return this._currentContext=ut,this._enabled=!1,this}enable(){return this._enabled?this:(this._enabled=!0,this._currentContext=ut,this)}with(e,t,n,...i){let o=this._currentContext;this._currentContext=e||ut;try{return t.call(n,...i)}finally{this._currentContext=o}}};M();q();function NE(r){if(r!==null){if(r===void 0){let e=new Ro;e.enable(),x.setGlobalContextManager(e);return}r.enable(),x.setGlobalContextManager(r)}}function ME(r){if(r!==null){if(r===void 0){j.setGlobalPropagator(new Sr({propagators:[new bt,new hr]}));return}j.setGlobalPropagator(r)}}var Rn=class extends Nr{constructor(e={}){super(e)}register(e={}){D.setGlobalTracerProvider(this),ME(e.propagator),NE(e.contextManager)}};var N=function(r){return r.CONNECT_END="connectEnd",r.CONNECT_START="connectStart",r.DECODED_BODY_SIZE="decodedBodySize",r.DOM_COMPLETE="domComplete",r.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",r.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",r.DOM_INTERACTIVE="domInteractive",r.DOMAIN_LOOKUP_END="domainLookupEnd",r.DOMAIN_LOOKUP_START="domainLookupStart",r.ENCODED_BODY_SIZE="encodedBodySize",r.FETCH_START="fetchStart",r.LOAD_EVENT_END="loadEventEnd",r.LOAD_EVENT_START="loadEventStart",r.NAVIGATION_START="navigationStart",r.REDIRECT_END="redirectEnd",r.REDIRECT_START="redirectStart",r.REQUEST_START="requestStart",r.RESPONSE_END="responseEnd",r.RESPONSE_START="responseStart",r.SECURE_CONNECTION_START="secureConnectionStart",r.START_TIME="startTime",r.UNLOAD_EVENT_END="unloadEventEnd",r.UNLOAD_EVENT_START="unloadEventStart",r}(N||{});q();var Om="http.response_content_length",Cm="http.response_content_length_uncompressed";var fa;function PE(){return fa||(fa=document.createElement("a")),fa}function xm(r,e){return e in r}function nt(r,e,t,n=!0){if(xm(t,e)&&typeof t[e]=="number"&&!(n&&t[e]===0))return r.addEvent(e,t[e])}function Jt(r,e,t=!1,n,i){if(n===void 0&&(n=e[N.START_TIME]!==0),t||(nt(r,N.FETCH_START,e,n),nt(r,N.DOMAIN_LOOKUP_START,e,n),nt(r,N.DOMAIN_LOOKUP_END,e,n),nt(r,N.CONNECT_START,e,n),nt(r,N.SECURE_CONNECTION_START,e,n),nt(r,N.CONNECT_END,e,n),nt(r,N.REQUEST_START,e,n),nt(r,N.RESPONSE_START,e,n),nt(r,N.RESPONSE_END,e,n)),!i){let o=e[N.ENCODED_BODY_SIZE];o!==void 0&&r.setAttribute(Om,o);let s=e[N.DECODED_BODY_SIZE];s!==void 0&&o!==s&&r.setAttribute(Cm,s)}}function Nm(r){return r.slice().sort((e,t)=>{let n=e[N.FETCH_START],i=t[N.FETCH_START];return n>i?1:n<i?-1:0})}function Mm(){return typeof location<"u"?location.origin:void 0}function bn(r,e,t,n,i=new WeakSet,o){let s=Pe(r);r=s.toString();let a=LE(r,e,t,n,i,o);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let l=Nm(a);if(s.origin!==Mm()&&l.length>1){let c=l[0],d=DE(l,c[N.RESPONSE_END],t),u=c[N.RESPONSE_END];return d[N.FETCH_START]<u&&(d=c,c=void 0),{corsPreFlightRequest:c,mainRequest:d}}else return{mainRequest:a[0]}}function DE(r,e,t){let n=Ge(t),i=Ge(Rt(e)),o=r[1],s,a=r.length;for(let l=1;l<a;l++){let c=r[l],d=Ge(Rt(c[N.FETCH_START])),u=Ge(Rt(c[N.RESPONSE_END])),E=n-u;d>=i&&(!s||E<s)&&(s=E,o=c)}return o}function LE(r,e,t,n,i,o){let s=Ge(e),a=Ge(t),l=n.filter(c=>{let d=Ge(Rt(c[N.FETCH_START])),u=Ge(Rt(c[N.RESPONSE_END]));return c.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&c.name===r&&d>=s&&u<=a});return l.length>0&&(l=l.filter(c=>!i.has(c))),l}function Pe(r){if(typeof URL=="function")return new URL(r,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);let e=PE();return e.href=r,e}function vn(r,e){let t=e||[];return(typeof t=="string"||t instanceof RegExp)&&(t=[t]),Pe(r).origin===Mm()?!0:t.some(i=>mn(r,i))}var bo=function(r){return r.COMPONENT="component",r.HTTP_STATUS_TEXT="http.status_text",r}(bo||{});var J=Pn(Pm());jt();M();var Dm=b.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function Lm(...r){if(r[0]instanceof URL||typeof r[0]=="string"){let e=r[1];if(!e?.body)return Promise.resolve();if(e.body instanceof ReadableStream){let{body:t,length:n}=wE(e.body);return e.body=t,n}else return Promise.resolve(VE(e.body))}else{let e=r[0];return e?.body?e.clone().text().then(t=>ha(t)):Promise.resolve()}}function wE(r){if(!r.pipeThrough)return Dm.warn("Platform has ReadableStream but not pipeThrough!"),{body:r,length:Promise.resolve(void 0)};let e=0,t,n=new Promise(o=>{t=o}),i=new TransformStream({start(){},async transform(o,s){let a=await o;e+=a.byteLength,s.enqueue(o)},flush(){t(e)}});return{body:r.pipeThrough(i),length:n}}function UE(r){return typeof Document<"u"&&r instanceof Document}function VE(r){if(UE(r))return new XMLSerializer().serializeToString(document).length;if(typeof r=="string")return ha(r);if(r instanceof Blob)return r.size;if(r instanceof FormData)return BE(r);if(r instanceof URLSearchParams)return ha(r.toString());if(r.byteLength!==void 0)return r.byteLength;Dm.warn("unknown body type")}var FE=new TextEncoder;function ha(r){return FE.encode(r).byteLength}function BE(r){let e=0;for(let[t,n]of r.entries())e+=t.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function Im(r){let e=GE(),t=r.toUpperCase();return t in e?t:"_OTHER"}var kE={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},On;function GE(){if(On===void 0){let r=void 0;r&&r.length>0?(On={},r.forEach(e=>{On[e]=!0})):On=kE}return On}var HE={"https:":"443","http:":"80"};function wm(r){let e=Number(r.port||HE[r.protocol]);if(e&&!isNaN(e))return e}var Ea="0.201.1";q();var YE=300,Um=typeof process=="object"&&process.release?.name==="node",Cn=class extends Ot{component="fetch";version=Ea;moduleName=this.component;_usedResources=new WeakSet;_tasksCount=0;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-fetch",Ea,e),this._semconvStability=An("http",e?.semconvStabilityOptIn)}init(){}_addChildSpan(e,t){let n=this.tracer.startSpan("CORS Preflight",{startTime:t[N.FETCH_START]},D.setSpan(x.active(),e)),i=!(this._semconvStability&I.OLD);Jt(n,t,this.getConfig().ignoreNetworkEvents,void 0,i),n.end(t[N.RESPONSE_END])}_addFinalSpanAttributes(e,t){let n=Pe(t.url);if(this._semconvStability&I.OLD&&(e.setAttribute(J.ATTR_HTTP_STATUS_CODE,t.status),t.statusText!=null&&e.setAttribute(bo.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(J.ATTR_HTTP_HOST,n.host),e.setAttribute(J.ATTR_HTTP_SCHEME,n.protocol.replace(":","")),typeof navigator<"u"&&e.setAttribute(J.ATTR_HTTP_USER_AGENT,navigator.userAgent)),this._semconvStability&I.STABLE){e.setAttribute(Qi,t.status),e.setAttribute(Xi,n.hostname);let i=wm(n);i&&e.setAttribute($i,i)}}_addHeaders(e,t){if(!vn(t,this.getConfig().propagateTraceHeaderCorsUrls)){let n={};j.inject(x.active(),n),Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(e instanceof Request)j.inject(x.active(),e.headers,{set:(n,i,o)=>n.set(i,typeof o=="string"?o:String(o))});else if(e.headers instanceof Headers)j.inject(x.active(),e.headers,{set:(n,i,o)=>n.set(i,typeof o=="string"?o:String(o))});else if(e.headers instanceof Map)j.inject(x.active(),e.headers,{set:(n,i,o)=>n.set(i,typeof o=="string"?o:String(o))});else{let n={};j.inject(x.active(),n),e.headers=Object.assign({},n,e.headers||{})}}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(e,t={}){if(Ar(e,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let n="",i={};if(this._semconvStability&I.OLD){let o=(t.method||"GET").toUpperCase();n=`HTTP ${o}`,i[bo.COMPONENT]=this.moduleName,i[J.ATTR_HTTP_METHOD]=o,i[J.ATTR_HTTP_URL]=e}if(this._semconvStability&I.STABLE){let o=t.method,s=Im(t.method||"GET");n||(n=s),i[ji]=s,s!==o&&(i[qi]=o),i[Ji]=e}return this.tracer.startSpan(n,{kind:tt.CLIENT,attributes:i})}_findResourceAndAddNetworkEvents(e,t,n){let i=t.entries;if(!i.length){if(!performance.getEntriesByType)return;i=performance.getEntriesByType("resource")}let o=bn(t.spanUrl,t.startTime,n,i,this._usedResources,"fetch");if(o.mainRequest){let s=o.mainRequest;this._markResourceAsUsed(s);let a=o.corsPreFlightRequest;a&&(this._addChildSpan(e,a),this._markResourceAsUsed(a));let l=!(this._semconvStability&I.OLD);Jt(e,s,this.getConfig().ignoreNetworkEvents,void 0,l)}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,n){let i=Ae(Date.now()),o=ke();this._addFinalSpanAttributes(e,n),this._semconvStability&I.STABLE&&n.status>=400&&(e.setStatus({code:Be.ERROR}),e.setAttribute(rn,String(n.status))),setTimeout(()=>{t.observer?.disconnect(),this._findResourceAndAddNetworkEvents(e,t,o),this._tasksCount--,this._clearResources(),e.end(i)},YE)}_patchConstructor(){return e=>{let t=this;return function(...i){let o=this,s=Pe(i[0]instanceof Request?i[0].url:String(i[0])).href,a=i[0]instanceof Request?i[0]:i[1]||{},l=t._createSpan(s,a);if(!l)return e.apply(this,i);let c=t._prepareSpanData(s);t.getConfig().measureRequestSize&&Lm(...i).then(p=>{p&&(t._semconvStability&I.OLD&&l.setAttribute(J.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED,p),t._semconvStability&I.STABLE&&l.setAttribute(J.ATTR_HTTP_REQUEST_BODY_SIZE,p))}).catch(p=>{t._diag.warn("getFetchBodyLength",p)});function d(p,h){t._applyAttributesAfterFetch(p,a,h),t._endSpan(p,c,{status:h.status||0,statusText:h.message,url:s})}function u(p,h){t._applyAttributesAfterFetch(p,a,h),h.status>=200&&h.status<400?t._endSpan(p,c,h):t._endSpan(p,c,{status:h.status,statusText:h.statusText,url:s})}function E(p,h,y){try{let L=y.clone().body;if(L){let K=L.getReader(),k=()=>{K.read().then(({done:Ye})=>{Ye?u(p,y):k()},Ye=>{d(p,Ye)})};k()}else u(p,y)}finally{h(y)}}function _(p,h,y){try{d(p,y)}finally{h(y)}}return new Promise((p,h)=>x.with(D.setSpan(x.active(),l),()=>(t._addHeaders(a,s),t._callRequestHook(l,a),t._tasksCount++,e.apply(o,a instanceof Request?[a]:[s,a]).then(E.bind(o,l,p),_.bind(o,l,h)))))}}}_applyAttributesAfterFetch(e,t,n){let i=this.getConfig().applyCustomAttributesOnSpan;i&&br(()=>i(e,t,n),o=>{o&&this._diag.error("applyCustomAttributesOnSpan",o)},!0)}_callRequestHook(e,t){let n=this.getConfig().requestHook;n&&br(()=>n(e,t),i=>{i&&this._diag.error("requestHook",i)},!0)}_prepareSpanData(e){let t=ke(),n=[];if(typeof PerformanceObserver!="function")return{entries:n,startTime:t,spanUrl:e};let i=new PerformanceObserver(o=>{o.getEntries().forEach(a=>{a.initiatorType==="fetch"&&a.name===e&&n.push(a)})});return i.observe({entryTypes:["resource"]}),{entries:n,observer:i,startTime:t,spanUrl:e}}enable(){if(Um){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}vr(fetch)&&(this._unwrap(Wt,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(Wt,"fetch",this._patchConstructor())}disable(){Um||(this._unwrap(Wt,"fetch"),this._usedResources=new WeakSet)}};M();q();jt();var Vm="http.host",Fm="http.method",Bm="http.request.body.size",km="http.request_content_length_uncompressed";var Gm="http.scheme",Hm="http.status_code",Ym="http.url",zm="http.user_agent";var _t=function(r){return r.METHOD_OPEN="open",r.METHOD_SEND="send",r.EVENT_ABORT="abort",r.EVENT_ERROR="error",r.EVENT_LOAD="loaded",r.EVENT_TIMEOUT="timeout",r}(_t||{});M();var zE=b.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function KE(r){return typeof Document<"u"&&r instanceof Document}function Wm(r){if(KE(r))return new XMLSerializer().serializeToString(document).length;if(typeof r=="string")return Km(r);if(r instanceof Blob)return r.size;if(r instanceof FormData)return jE(r);if(r instanceof URLSearchParams)return Km(r.toString());if(r.byteLength!==void 0)return r.byteLength;zE.warn("unknown body type")}var WE=new TextEncoder;function Km(r){return WE.encode(r).byteLength}function jE(r){let e=0;for(let[t,n]of r.entries())e+=t.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function jm(r){let e=QE(),t=r.toUpperCase();return t in e?t:"_OTHER"}var qE={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},xn;function QE(){if(xn===void 0){let r=void 0;r&&r.length>0?(xn={},r.forEach(e=>{xn[e]=!0})):xn=qE}return xn}var XE={"https:":"443","http:":"80"};function qm(r){let e=Number(r.port||XE[r.protocol]);if(e&&!isNaN(e))return e}var Ta="0.201.1";var Sa=function(r){return r.HTTP_STATUS_TEXT="http.status_text",r}(Sa||{});var $E=300,Nn=class extends Ot{component="xml-http-request";version=Ta;moduleName=this.component;_tasksCount=0;_xhrMem=new WeakMap;_usedResources=new WeakSet;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-xml-http-request",Ta,e),this._semconvStability=An("http",e?.semconvStabilityOptIn)}init(){}_addHeaders(e,t){let n=Pe(t).href;if(!vn(n,this.getConfig().propagateTraceHeaderCorsUrls)){let o={};j.inject(x.active(),o),Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let i={};j.inject(x.active(),i),Object.keys(i).forEach(o=>{e.setRequestHeader(o,String(i[o]))})}_addChildSpan(e,t){x.with(D.setSpan(x.active(),e),()=>{let n=this.tracer.startSpan("CORS Preflight",{startTime:t[N.FETCH_START]}),i=!(this._semconvStability&I.OLD);Jt(n,t,this.getConfig().ignoreNetworkEvents,void 0,i),n.end(t[N.RESPONSE_END])})}_addFinalSpanAttributes(e,t,n){if(this._semconvStability&I.OLD){if(t.status!==void 0&&e.setAttribute(Hm,t.status),t.statusText!==void 0&&e.setAttribute(Sa.HTTP_STATUS_TEXT,t.statusText),typeof n=="string"){let i=Pe(n);e.setAttribute(Vm,i.host),e.setAttribute(Gm,i.protocol.replace(":",""))}e.setAttribute(zm,navigator.userAgent)}this._semconvStability&I.STABLE&&t.status&&e.setAttribute(Qi,t.status)}_applyAttributesAfterXHR(e,t){let n=this.getConfig().applyCustomAttributesOnSpan;typeof n=="function"&&br(()=>n(e,t),i=>{i&&this._diag.error("applyCustomAttributesOnSpan",i)},!0)}_addResourceObserver(e,t){let n=this._xhrMem.get(e);!n||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(n.createdResources={observer:new PerformanceObserver(i=>{let o=i.getEntries(),s=Pe(t);o.forEach(a=>{a.initiatorType==="xmlhttprequest"&&a.name===s.href&&n.createdResources&&n.createdResources.entries.push(a)})}),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(fe.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,n,i,o){if(!n||!i||!o||!e.createdResources)return;let s=e.createdResources.entries;(!s||!s.length)&&(s=fe.getEntriesByType("resource"));let a=bn(Pe(n).href,i,o,s,this._usedResources);if(a.mainRequest){let l=a.mainRequest;this._markResourceAsUsed(l);let c=a.corsPreFlightRequest;c&&(this._addChildSpan(t,c),this._markResourceAsUsed(c));let d=!(this._semconvStability&I.OLD);Jt(t,l,this.getConfig().ignoreNetworkEvents,void 0,d)}}_cleanPreviousSpanInformation(e){let t=this._xhrMem.get(e);if(t){let n=t.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(e)}}_createSpan(e,t,n){if(Ar(t,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let i="",o=Pe(t),s={};if(this._semconvStability&I.OLD&&(i=n.toUpperCase(),s[Fm]=n,s[Ym]=o.toString()),this._semconvStability&I.STABLE){let l=n,c=jm(n);i||(i=c),s[ji]=c,c!==l&&(s[qi]=l),s[Ji]=o.toString(),s[Xi]=o.hostname;let d=qm(o);d&&(s[$i]=d)}let a=this.tracer.startSpan(i,{kind:tt.CLIENT,attributes:s});return a.addEvent(_t.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:a,spanUrl:t}),a}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{let t=this;return function(...i){let o=i[0],s=i[1];return t._createSpan(this,s,o),e.apply(this,i)}}}_patchSend(){let e=this;function t(c,d,u,E){let _=d.callbackToRemoveEvents;typeof _=="function"&&_();let{span:p,spanUrl:h,sendStartTime:y}=d;p&&(e._findResourceAndAddNetworkEvents(d,p,h,y,u),p.addEvent(c,E),e._addFinalSpanAttributes(p,d,h),p.end(E),e._tasksCount--),e._clearResources()}function n(c,d,u,E){let _=e._xhrMem.get(d);if(!_)return;if(_.status=d.status,_.statusText=d.statusText,e._xhrMem.delete(d),_.span){let y=_.span;e._applyAttributesAfterXHR(y,d),e._semconvStability&I.STABLE&&(u?E&&(y.setStatus({code:Be.ERROR,message:E}),y.setAttribute(rn,E)):_.status&&_.status>=400&&(y.setStatus({code:Be.ERROR}),y.setAttribute(rn,String(_.status))))}let p=ke(),h=Date.now();setTimeout(()=>{t(c,_,p,h)},$E)}function i(){n(_t.EVENT_ERROR,this,!0,"error")}function o(){n(_t.EVENT_ABORT,this,!1)}function s(){n(_t.EVENT_TIMEOUT,this,!0,"timeout")}function a(){this.status<299?n(_t.EVENT_LOAD,this,!1):n(_t.EVENT_ERROR,this,!1)}function l(c){c.removeEventListener("abort",o),c.removeEventListener("error",i),c.removeEventListener("load",a),c.removeEventListener("timeout",s);let d=e._xhrMem.get(c);d&&(d.callbackToRemoveEvents=void 0)}return c=>function(...u){let E=e._xhrMem.get(this);if(!E)return c.apply(this,u);let _=E.span,p=E.spanUrl;if(_&&p){if(e.getConfig().measureRequestSize&&u?.[0]){let h=u[0],y=Wm(h);y!==void 0&&(e._semconvStability&I.OLD&&_.setAttribute(km,y),e._semconvStability&I.STABLE&&_.setAttribute(Bm,y))}x.with(D.setSpan(x.active(),_),()=>{e._tasksCount++,E.sendStartTime=ke(),_.addEvent(_t.METHOD_SEND),this.addEventListener("abort",o),this.addEventListener("error",i),this.addEventListener("load",a),this.addEventListener("timeout",s),E.callbackToRemoveEvents=()=>{l(this),E.createdResources&&E.createdResources.observer.disconnect()},e._addHeaders(this,p),e._addResourceObserver(this,p)})}return c.apply(this,u)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),vr(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),vr(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}};var vo=class extends Nn{constructor(e={}){super(e);let t=this;this.parentCreateSpan=t._createSpan.bind(this)}_patchOpen(){return e=>{let t=this;return function(...i){try{let o=i[0],s=Jl(i[1]);t.parentCreateSpan(this,s,o)}catch(o){G.internalLogger.error(o)}return e.apply(this,i)}}}};M();function ZE(r,e,t){let n=t instanceof Error?0:t.status;Qm(r,n)}function JE(r,e){Qm(r,e.status)}function Qm(r,e){if(e==null)return;let t=e===0,n=e>=400&&e<600;(t||n)&&r.setStatus({code:Be.ERROR})}function Xm(r){return(e,t,n)=>{ZE(e,t,n),r?.(e,t,n)}}function $m(r){return(e,t)=>{JE(e,t),r?.(e,t)}}var eT=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};function Zm(r={}){let{fetchInstrumentationOptions:e,xhrInstrumentationOptions:t}=r,n=eT(r,["fetchInstrumentationOptions","xhrInstrumentationOptions"]),i=tT(e,n),o=rT(t,n);return[new Cn(i),new vo(o)]}function tT(r,e){return Object.assign(Object.assign(Object.assign(Object.assign({},e),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:Xm(r?.applyCustomAttributesOnSpan)})}function rT(r,e){return Object.assign(Object.assign(Object.assign(Object.assign({},e),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:$m(r?.applyCustomAttributesOnSpan)})}M();q();jt();var Oo=class{constructor(e,t){this.processor=e,this.metas=t}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n;let i=this.metas.value.session;i?.id&&(e.attributes[tm]=i.id,e.attributes.session_id=i.id);let o=(n=this.metas.value.user)!==null&&n!==void 0?n:{};o.email&&(e.attributes["user.email"]=o.email),o.id&&(e.attributes["user.id"]=o.id),o.username&&(e.attributes["user.name"]=o.username),o.fullName&&(e.attributes["user.full_name"]=o.fullName),o.roles&&(e.attributes["user.roles"]=o.roles.split(",").map(s=>s.trim())),o.hash&&(e.attributes["user.hash"]=o.hash),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}};M();var Co=class{constructor(e){this.processor=e,Xl.subscribe(t=>{if(t.type===Wl){this.message=t;return}[jl,Ql,ql].includes(t.type)&&(this.message=void 0)})}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n,i;e.kind===tt.CLIENT&&this.message&&(e.attributes["faro.action.user.name"]=(n=this.message)===null||n===void 0?void 0:n.name,e.attributes["faro.action.user.parentId"]=(i=this.message)===null||i===void 0?void 0:i.parentId),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}};function Jm(r={}){var e;return((e=r.attributes)===null||e===void 0?void 0:e.isSampled)==="true"?ye.RECORD_AND_SAMPLED:ye.NOT_RECORD}var ga=(()=>{class r extends $l{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-tracing",this.version=Go}initialize(){var t,n,i,o,s;let a=this.options,l={};this.config.app.name&&(l[Zi]=this.config.app.name),this.config.app.namespace&&(l[nm]=this.config.app.namespace),this.config.app.version&&(l[Wu]=this.config.app.version),this.config.app.environment&&(l[rm]=this.config.app.environment,l[Hu]=this.config.app.environment);let c=this.metas.value.browser;Kl(c?.brands)&&(l[lm]=c.brands.map(h=>h.brand)),c?.language&&(l[cm]=c.language),typeof c?.mobile=="boolean"&&(l[dm]=!!c.mobile),c?.os&&(l[um]=c.os),c?.userAgent&&(l[qu]=c.userAgent),l[im]="browser",l[om]=(t=this.metas.value.browser)===null||t===void 0?void 0:t.userAgent,l[sm]="faro-web-sdk",l[am]=Go,Object.assign(l,a.resourceAttributes);let d=yn().merge(fo(l));new Rn({resource:d,sampler:{shouldSample:()=>({decision:Jm(this.api.getSession())})},spanProcessors:[(n=a.spanProcessor)!==null&&n!==void 0?n:new Co(new Oo(new $t(new lo({api:this.api}),{scheduledDelayMillis:r.SCHEDULED_BATCH_DELAY_MS,maxExportBatchSize:30}),this.metas))]}).register({propagator:(i=a.propagator)!==null&&i!==void 0?i:new bt,contextManager:a.contextManager});let{propagateTraceHeaderCorsUrls:E,fetchInstrumentationOptions:_,xhrInstrumentationOptions:p}=(o=this.options.instrumentationOptions)!==null&&o!==void 0?o:{};da({instrumentations:(s=a.instrumentations)!==null&&s!==void 0?s:Zm({ignoreUrls:this.getIgnoreUrls(),propagateTraceHeaderCorsUrls:E,fetchInstrumentationOptions:_,xhrInstrumentationOptions:p})}),this.api.initOTEL(D,x)}getIgnoreUrls(){return this.transports.transports.flatMap(t=>t.getIgnoreUrls())}}return r.SCHEDULED_BATCH_DELAY_MS=1e3,r})();var e_=()=>{tc({url:"https://faro-collector-prod-ap-southeast-1.grafana.net/collect/7589747939196e0549ee6d33aa985355",app:{name:"Fullstack Ladder",version:"1.0.0",environment:"production"},instrumentations:[...ec(),new ga]})};e_();ja(yd,td).catch(r=>console.error(r));
