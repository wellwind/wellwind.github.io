import{B as c,C as R,F as q,G as k,Hb as E,I as h,Ib as N,M as m,O as _,V as w,ca as C,ea as T,g as P,j as n,k as S,o as $,rc as L,sc as j,ta as W,wb as B}from"./chunk-T6MGXGO2.js";import{a as v,b}from"./chunk-C6Q5SG76.js";function d(t,r){let e=!r?.manualCleanup;e&&!r?.injector&&_(d);let o=e?r?.injector?.get(w)??m(w):null,s=z(r?.equal),a;r?.requireSync?a=W({kind:0},{equal:s}):a=W({kind:1,value:r?.initialValue},{equal:s});let u=t.subscribe({next:l=>a.set({kind:1,value:l}),error:l=>{if(r?.rejectErrors)throw l;a.set({kind:2,error:l})}});if(r?.requireSync&&a().kind===0)throw new k(601,!1);return o?.onDestroy(u.unsubscribe.bind(u)),B(()=>{let l=a();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new k(601,!1)}},{equal:r?.equal})}function z(t=Object.is){return(r,e)=>r.kind===1&&e.kind===1&&t(r.value,e.value)}function f(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function i(t){return function r(e){return arguments.length===0||f(e)?r:t.apply(this,arguments)}}function p(t){return function r(e,o){switch(arguments.length){case 0:return r;case 1:return f(e)?r:i(function(s){return t(e,s)});default:return f(e)&&f(o)?r:f(e)?i(function(s){return t(s,o)}):f(o)?i(function(s){return t(e,s)}):t(e,o)}}}var F=Number.isInteger||function(r){return r<<0===r};function I(t){return Object.prototype.toString.call(t)==="[object String]"}function O(t,r){var e=t<0?r.length+t:t;return I(r)?r.charAt(e):r[e]}var K=p(function(r,e){if(e!=null)return F(r)?O(r,e):e[r]}),g=K;function x(t){return function r(e,o,s){switch(arguments.length){case 0:return r;case 1:return f(e)?r:p(function(a,u){return t(e,a,u)});case 2:return f(e)&&f(o)?r:f(e)?p(function(a,u){return t(a,o,u)}):f(o)?p(function(a,u){return t(e,a,u)}):i(function(a){return t(e,o,a)});default:return f(e)&&f(o)&&f(s)?r:f(e)&&f(o)?p(function(a,u){return t(a,u,s)}):f(e)&&f(s)?p(function(a,u){return t(a,o,u)}):f(o)&&f(s)?p(function(a,u){return t(e,a,u)}):f(e)?i(function(a){return t(a,o,s)}):f(o)?i(function(a){return t(e,a,s)}):f(s)?i(function(a){return t(e,o,a)}):t(e,o,s)}}}var H=x(function(r,e,o){var s=r(e),a=r(o);return s>a?-1:s<a?1:0}),M=H;var Z=p(function(r,e){return Array.prototype.slice.call(e,0).sort(function(o,s){for(var a=0,u=0;a===0&&u<r.length;)a=r[u](o,s),u+=1;return a})}),y=Z;var G=x(function(r,e,o){var s=r(e),a=r(o);return s<a?-1:s>a?1:0}),A=G;var U={production:!0,url:"",trackUrl:"https://mike-dashboard.azurewebsites.net/api/wt?code=AsqZnNWtZj90MnA1eufWnBNSFshKcyG_YNPKTHMaIkQkAzFuwRDbRg=="};var V=(()=>{class t{constructor(){this.platformId=m(C),this.breakpointObserver=m(L),this.isSmallScreen$=this.breakpointObserver.observe([j.XSmall,j.Small]).pipe(n(e=>!!e.matches),c(1)),this.isSmallScreen=d(this.isSmallScreen$)}get isServer(){return E(this.platformId)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var D="blog-posts.json",et=(()=>{class t{constructor(){this.httpClient=m(N),this.state=m(T),this.platformService=m(V),this.postsMeta$=$(()=>!!this.state.get(D,null),P(this.state.get(D,null)),this.httpClient.get(`${U.url}assets/blog-posts.json`).pipe(q(e=>{this.platformService.isServer&&this.state.set(D,e)}))).pipe(R({}),c(1)),this.postsMeta=d(this.postsMeta$,{initialValue:{}}),this.postCategories$=this.postsMeta$.pipe(n(e=>Object.keys(e||{}).map(o=>(e||{})[o]).reduce((o,s)=>[...o,...s.categories||[]],[]))),this.postCategories=d(this.postCategories$,{initialValue:[]}),this.postTags$=this.postsMeta$.pipe(n(e=>Object.keys(e||{}).map(o=>(e||{})[o]).reduce((o,s)=>[...o,...s.tags||[]],[]))),this.postTags=d(this.postTags$,{initialValue:[]}),this.postsMetaWithSlug$=this.postsMeta$.pipe(n(e=>Object.keys(e||{}).map(o=>b(v({},(e||{})[o]),{slug:o})))),this.postsMetaWithSlugAndSortDesc$=this.postsMetaWithSlug$.pipe(n(e=>y([M(g("date"))],e))),this.postsMetaWithSlugAndSortDesc=d(this.postsMetaWithSlugAndSortDesc$,{initialValue:[]}),this.postsMetaWithSlugAndSortAsc$=this.postsMetaWithSlug$.pipe(n(e=>y([A(g("date"))],e))),this.postsMetaWithSlugAndSortAsc=d(this.postsMetaWithSlugAndSortAsc$,{initialValue:[]}),this.categoriesAndPosts$=S([this.postsMetaWithSlug$,this.postCategories$]).pipe(n(([e,o])=>o.filter(s=>!!s).reduce((s,a)=>(s[a]||(s[a]=e.filter(u=>(u.categories||[]).find(l=>l===a))),s),{}))),this.categoriesAndPosts=d(this.categoriesAndPosts$,{initialValue:{}}),this.tagsAndPosts$=S([this.postsMetaWithSlug$,this.postTags$]).pipe(n(([e,o])=>o.filter(s=>!!s).reduce((s,a)=>(s[a]||(s[a]=e.filter(u=>(u.tags||[]).find(l=>l===a))),s),{})))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{d as a,g as b,M as c,y as d,U as e,V as f,et as g};
