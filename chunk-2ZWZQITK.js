import{a as Mt,b as ht}from"./chunk-7B5MIJMI.js";import{a as pt,b as D}from"./chunk-LLOZPQ4I.js";import{a as N}from"./chunk-OXLFLJ2O.js";import{a as dt,b as ft}from"./chunk-UTJ7WADY.js";import{a as lt,b as ut,e as gt}from"./chunk-5QCG7PDC.js";import{a as w,b as z,c as F,d as L,e as nt,f as M}from"./chunk-UTWX254T.js";import"./chunk-747JYNUV.js";import{a as st,b as mt,c as ct,f as _}from"./chunk-34HZ3IGH.js";import{b as at,e as O}from"./chunk-5C5HB5ZG.js";import{A as V,Cb as E,Fa as H,Fb as K,G as C,Gc as rt,H as v,Hc as A,Ia as Y,J as S,Ka as u,L as b,La as G,M as B,Ma as P,O as W,Oa as k,Qa as tt,Sa as a,Ta as n,Ua as et,X as Z,ba as l,ca as f,h as m,ib as T,ka as d,kb as it,lb as ot,oa as q,qa as J,ra as Q,sa as X,ta as $,ua as x,va as p,wa as s,xa as I,zb as j}from"./chunk-4IQPA3HJ.js";import"./chunk-2BJYVO3V.js";import"./chunk-CWTPBX7D.js";var Pt=(()=>{let t=class t{transform(i,o){return i>=o*.4?1:i>=o*.2?2:i>=o*.1?3:4}};t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=W({name:"blogPostTagSize",type:t,pure:!0,standalone:!0});let e=t;return e})();var $t=(e,t)=>t.slug;function xt(e,t){if(e&1&&(p(0,"mat-card",3)(1,"mat-card-title",4)(2,"a",5),a(3,"postDateAsPath"),u(4),s()(),p(5,"mat-card-subtitle",6),I(6,"app-blog-post-subtitle",7),s(),p(7,"mat-card-content",8),I(8,"div",9),s(),p(9,"mat-card-footer")(10,"a",10),a(11,"postDateAsPath"),p(12,"mat-icon"),u(13,"read_more"),s(),p(14,"span"),u(15,"\u7E7C\u7E8C\u95B1\u8B80"),s()()()()),e&2){let c=t.$implicit;l(2),d("routerLink",n(3,5,c)),l(2),G(c.title),l(2),d("postMeta",c),l(2),d("innerHTML",c.summary,Z),l(2),d("routerLink",n(11,7,c))}}var yt=10,y=(()=>{let t=class t{constructor(i,o){this.route=i,this.siteMetaService=o,this.tagSlug$=this.route.paramMap.pipe(m(r=>r.get("tag-slug"))),this.currentPage$=this.route.paramMap.pipe(m(r=>+(r.get("page")||1))),this.tagPosts$=this.route.data.pipe(m(r=>r.posts)),this.tagPostsCount$=this.tagPosts$.pipe(m(r=>r.length)),this.posts$=this.currentPage$.pipe(V(r=>this.tagPosts$.pipe(m(g=>ft(r,yt,g))))),this.totalPage$=this.tagPosts$.pipe(m(r=>Math.ceil(Object.keys(r).length/yt)))}ngOnInit(){this.tagSlug$.subscribe(i=>{this.siteMetaService.resetMeta({title:`\u6A19\u7C64\uFF1A${i}`,description:`${i} \u76F8\u95DC\u6587\u7AE0`,keywords:[i||""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)(f(j),f(N))},t.\u0275cmp=b({type:t,selectors:[["app-blog-tag-posts"]],standalone:!0,features:[k],decls:16,vars:19,consts:[[1,"tags-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"],["appearance","outlined","class","blog-post"]],template:function(o,r){o&1&&(p(0,"mat-toolbar",0)(1,"h1"),u(2),a(3,"unslugify"),a(4,"async"),s(),p(5,"h2"),u(6),a(7,"async"),s()(),$(8,xt,16,9,"mat-card",11,$t),a(10,"async"),p(11,"mat-card",1),I(12,"app-pagination",2),a(13,"async"),a(14,"async"),a(15,"async"),s()),o&2&&(l(2),G(n(3,5,n(4,7,r.tagSlug$)||"")),l(4),P("\u6A19\u7C64 (\u5171 ",n(7,9,r.tagPostsCount$)," \u7BC7\u6587\u7AE0)"),x(8,n(10,11,r.posts$)),l(6),Y("linkBase","/blog/tags/",n(13,13,r.tagSlug$),"/page"),d("currentPage",n(14,15,r.currentPage$)||1)("totalPage",n(15,17,r.totalPage$)||1))},dependencies:[D,pt,M,w,F,nt,L,z,E,ut,O,at,A,rt,dt,Mt,gt,T]});let e=t;return e})();var U=(()=>{let t=class t{constructor(i){this.sitePostService=i}resolve(i,o){let r=i.paramMap.get("tag-slug");return this.sitePostService.tagsAndPosts$.pipe(m(g=>ht(r,g)),m(g=>ct([mt(st("date"))],g)))}};t.\u0275fac=function(o){return new(o||t)(S(_))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ct=(()=>{let t=class t{constructor(i){this.sitePostService=i}resolve(i,o){return this.sitePostService.tagsAndPosts$}};t.\u0275fac=function(o){return new(o||t)(S(_))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var kt=e=>["/blog/tags",e];function Tt(e,t){if(e&1&&(p(0,"a",6),a(1,"blogPostTagSize"),a(2,"async"),a(3,"slugify"),u(4),s()),e&2){let c=H().$implicit,i=H();q("tag size-",et(1,5,c.value.length,n(2,8,i.maxPostsCount$)||0),""),d("routerLink",tt(12,kt,n(3,10,c.key))),l(4),P(" ",c.key," ")}}function jt(e,t){if(e&1&&J(0,Tt,5,14,"a",5),e&2){let c=t.$implicit;Q(0,c!=null&&c.key?0:-1)}}var R=(()=>{let t=class t{constructor(i,o){this.route=i,this.siteMetaService=o,this.tags$=this.route.data.pipe(m(r=>r.tags)),this.maxPostsCount$=this.tags$.pipe(m(r=>Math.max(...Object.values(r).map(g=>g.length))))}ngOnInit(){this.siteMetaService.resetMeta({title:"\u6A19\u7C64",description:"\u986F\u793A\u6240\u6709\u6A19\u7C64",keywords:[""],type:"website"})}};t.\u0275fac=function(o){return new(o||t)(f(j),f(N))},t.\u0275cmp=b({type:t,selectors:[["app-blog-tags"]],standalone:!0,features:[k],decls:13,vars:9,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[1,"tags"],[3,"class","routerLink"],[3,"routerLink"]],template:function(o,r){o&1&&(p(0,"mat-card",0)(1,"mat-card-title",1),u(2," \u6A19\u7C64 "),s(),p(3,"mat-card-subtitle",2),u(4),a(5,"keyvalue"),a(6,"async"),s(),p(7,"mat-card-content",3)(8,"div",4),$(9,jt,1,1,null,null,X),a(11,"keyvalue"),a(12,"async"),s()()()),o&2&&(l(4),P(" \u5171 ",n(5,1,n(6,3,r.tags$)).length," \u500B\u6A19\u7C64 "),x(9,n(11,5,n(12,7,r.tags$))))},dependencies:[M,w,F,L,z,E,it,lt,T,Pt],styles:[".tags[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;flex-wrap:wrap}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin:8px}.tags[_ngcontent-%COMP%]   .tag.size-1[_ngcontent-%COMP%]{font-size:36px}.tags[_ngcontent-%COMP%]   .tag.size-2[_ngcontent-%COMP%]{font-size:30px}.tags[_ngcontent-%COMP%]   .tag.size-3[_ngcontent-%COMP%]{font-size:24px}.tags[_ngcontent-%COMP%]   .tag.size-4[_ngcontent-%COMP%]{font-size:16px}"]});let e=t;return e})();var Et=[{path:":tag-slug",resolve:{posts:U},component:y},{path:":tag-slug/page/:page",resolve:{posts:U},component:y},{path:"",resolve:{tags:Ct},component:R}],vt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=B({type:t}),t.\u0275inj=v({imports:[K.forChild(Et),K]});let e=t;return e})();var be=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=B({type:t}),t.\u0275inj=v({imports:[ot,vt,M,O,A,D,R,y]});let e=t;return e})();export{be as BlogTagsModule};
