"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[796],{4796:(H,v,a)=>{a.r(v),a.d(v,{BlogCategoriesModule:()=>y});var r=a(6895),Z=a(4859),i=a(3546),f=a(7392),A=a(3683),U=a(7721),p=a(911),T=a(8491),M=a(3841),S=a(7591),n=a(4850),C=a(3993),t=a(4650),$=a(9987);class g{constructor(s){this.sitePostService=s}resolve(s,o){const e=s.paramMap.get("category-slug");return this.sitePostService.categoriesAndPosts$.pipe((0,n.U)(h=>(0,C.K)(e,h)),(0,n.U)(h=>(0,T.Z)([(0,M.Z)((0,S.Z)("date"))],h)))}static#t=this.\u0275fac=function(o){return new(o||g)(t.LFG($.g))};static#o=this.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}var B=a(7545),F=a(2985),P=a(8846),J=a(8173),O=a(7122),Q=a(3651),b=a(3740);function z(c,s){if(1&c&&(t.ynx(0),t.TgZ(1,"mat-card",4)(2,"mat-card-title",5)(3,"a",6),t.ALo(4,"postDateAsPath"),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-subtitle",7),t._UZ(7,"app-blog-post-subtitle",8),t.qZA(),t.TgZ(8,"mat-card-content",9),t._UZ(9,"div",10),t.qZA(),t.TgZ(10,"mat-card-footer")(11,"a",11),t.ALo(12,"postDateAsPath"),t.TgZ(13,"mat-icon"),t._uU(14,"read_more"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"\u7e7c\u7e8c\u95b1\u8b80"),t.qZA()()()(),t.BQk()),2&c){const o=s.$implicit;t.xp6(3),t.Q6J("routerLink",t.lcZ(4,5,o)),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Q6J("postMeta",o),t.xp6(2),t.Q6J("innerHTML",o.summary,t.oJD),t.xp6(2),t.Q6J("routerLink",t.lcZ(12,7,o))}}class l{constructor(s,o){this.route=s,this.siteMetaService=o,this.categorySlug$=this.route.paramMap.pipe((0,n.U)(e=>e.get("category-slug"))),this.currentPage$=this.route.paramMap.pipe((0,n.U)(e=>+(e.get("page")||1))),this.categoryPosts$=this.route.data.pipe((0,n.U)(e=>e.posts)),this.categoryPostsCount$=this.categoryPosts$.pipe((0,n.U)(e=>e.length)),this.posts$=this.currentPage$.pipe((0,B.w)(e=>this.categoryPosts$.pipe((0,n.U)(h=>(0,F.$)(e,10,h))))),this.totalPage$=this.categoryPosts$.pipe((0,n.U)(e=>Math.ceil(Object.keys(e).length/10)))}ngOnInit(){this.categorySlug$.subscribe(s=>{this.siteMetaService.resetMeta({title:`\u5206\u985e\uff1a${s}`,description:`${s} \u76f8\u95dc\u6587\u7ae0`,keywords:[s||""],type:"website"})})}static#t=this.\u0275fac=function(o){return new(o||l)(t.Y36(p.gz),t.Y36(P.a))};static#o=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-blog-categories-posts"]],decls:15,vars:20,consts:[[1,"categories-header","mat-elevation-z4"],[4,"ngFor","ngForOf"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-toolbar",0)(1,"h1"),t._uU(2),t.ALo(3,"unslugify"),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.ALo(7,"async"),t.qZA()(),t.YNc(8,z,17,9,"ng-container",1),t.ALo(9,"async"),t.TgZ(10,"mat-card",2),t._UZ(11,"app-pagination",3),t.ALo(12,"async"),t.ALo(13,"async"),t.ALo(14,"async"),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,6,t.lcZ(4,8,e.categorySlug$)||"")),t.xp6(4),t.hij("\u5206\u985e (\u5171 ",t.lcZ(7,10,e.categoryPostsCount$)," \u7bc7\u6587\u7ae0)"),t.xp6(2),t.Q6J("ngForOf",t.lcZ(9,12,e.posts$)),t.xp6(3),t.MGl("linkBase","/blog/categories/",t.lcZ(12,14,e.categorySlug$),"/page"),t.Q6J("currentPage",t.lcZ(13,16,e.currentPage$)||1)("totalPage",t.lcZ(14,18,e.totalPage$)||1))},dependencies:[r.sg,p.rH,i.a8,i.dn,i.rt,i.$j,i.n5,J.Q,O.z,f.Hw,Z.zs,A.Ye,r.Ov,Q.y,b.N]})}class u{constructor(s){this.sitePostService=s}resolve(s,o){return this.sitePostService.categoriesAndPosts$}static#t=this.\u0275fac=function(o){return new(o||u)(t.LFG($.g))};static#o=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}var j=a(8262);const Y=function(c){return["/blog/categories",c]};function x(c,s){if(1&c&&(t.TgZ(0,"li")(1,"a",5),t.ALo(2,"slugify"),t._uU(3),t.qZA(),t._uU(4),t.qZA()),2&c){const o=s.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(5,Y,t.lcZ(2,3,o.key||""))),t.xp6(2),t.hij(" ",o.key," "),t.xp6(1),t.hij(" (",o.value.length,") ")}}class m{constructor(s,o){this.route=s,this.siteMetaService=o,this.categories$=this.route.data.pipe((0,n.U)(e=>e.categories))}ngOnInit(){this.siteMetaService.resetMeta({title:"\u5206\u985e",description:"\u986f\u793a\u6240\u6709\u5206\u985e",keywords:[""],type:"website"})}static#t=this.\u0275fac=function(o){return new(o||m)(t.Y36(p.gz),t.Y36(P.a))};static#o=this.\u0275cmp=t.Xpm({type:m,selectors:[["app-blog-categories"]],decls:12,vars:10,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title",1),t._uU(2," \u5206\u985e "),t.qZA(),t.TgZ(3,"mat-card-subtitle",2),t._uU(4),t.ALo(5,"keyvalue"),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"mat-card-content",3)(8,"ul"),t.YNc(9,x,5,7,"li",4),t.ALo(10,"keyvalue"),t.ALo(11,"async"),t.qZA()()()),2&o&&(t.xp6(4),t.hij(" \u5171 ",t.lcZ(5,2,t.lcZ(6,4,e.categories$)).length," \u500b\u5206\u985e "),t.xp6(5),t.Q6J("ngForOf",t.lcZ(10,6,t.lcZ(11,8,e.categories$))))},dependencies:[r.sg,p.rH,i.a8,i.dn,i.$j,i.n5,r.Ov,r.Nd,j.N]})}const E=[{path:":category-slug",resolve:{posts:g},component:l},{path:":category-slug/page/:page",resolve:{posts:g},component:l},{path:"",resolve:{categories:u},component:m}];class d{static#t=this.\u0275fac=function(o){return new(o||d)};static#o=this.\u0275mod=t.oAB({type:d});static#s=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(E),p.Bz]})}class y{static#t=this.\u0275fac=function(o){return new(o||y)};static#o=this.\u0275mod=t.oAB({type:y});static#s=this.\u0275inj=t.cJS({imports:[r.ez,d,i.QW,U.a,f.Ps,Z.ot,A.g0]})}}}]);