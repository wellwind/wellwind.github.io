import{B as c,C as R,Eb as B,F as q,Fb as N,G as k,I as h,M as m,O as _,V as w,ca as W,fa as C,g as P,ha as E,j as n,k as S,o as A,oc as L,pc as j,tb as T}from"./chunk-BNYFMXCQ.js";import{a as v,b}from"./chunk-C6Q5SG76.js";function d(t,r){let e=!r?.manualCleanup;e&&!r?.injector&&_(d);let o=e?r?.injector?.get(w)??m(w):null,f=z(r?.equal),a;r?.requireSync?a=W({kind:0},{equal:f}):a=W({kind:1,value:r?.initialValue},{equal:f});let u=t.subscribe({next:l=>a.set({kind:1,value:l}),error:l=>{if(r?.rejectErrors)throw l;a.set({kind:2,error:l})}});if(r?.requireSync&&a().kind===0)throw new k(601,!1);return o?.onDestroy(u.unsubscribe.bind(u)),T(()=>{let l=a();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new k(601,!1)}},{equal:r?.equal})}function z(t=Object.is){return(r,e)=>r.kind===1&&e.kind===1&&t(r.value,e.value)}function s(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function i(t){return function r(e){return arguments.length===0||s(e)?r:t.apply(this,arguments)}}function p(t){return function r(e,o){switch(arguments.length){case 0:return r;case 1:return s(e)?r:i(function(f){return t(e,f)});default:return s(e)&&s(o)?r:s(e)?i(function(f){return t(f,o)}):s(o)?i(function(f){return t(e,f)}):t(e,o)}}}var F=Number.isInteger||function(r){return r<<0===r};function I(t){return Object.prototype.toString.call(t)==="[object String]"}function O(t,r){var e=t<0?r.length+t:t;return I(r)?r.charAt(e):r[e]}var K=p(function(r,e){if(e!=null)return F(r)?O(r,e):e[r]}),g=K;function x(t){return function r(e,o,f){switch(arguments.length){case 0:return r;case 1:return s(e)?r:p(function(a,u){return t(e,a,u)});case 2:return s(e)&&s(o)?r:s(e)?p(function(a,u){return t(a,o,u)}):s(o)?p(function(a,u){return t(e,a,u)}):i(function(a){return t(e,o,a)});default:return s(e)&&s(o)&&s(f)?r:s(e)&&s(o)?p(function(a,u){return t(a,u,f)}):s(e)&&s(f)?p(function(a,u){return t(a,o,u)}):s(o)&&s(f)?p(function(a,u){return t(e,a,u)}):s(e)?i(function(a){return t(a,o,f)}):s(o)?i(function(a){return t(e,a,f)}):s(f)?i(function(a){return t(e,o,a)}):t(e,o,f)}}}var H=x(function(r,e,o){var f=r(e),a=r(o);return f>a?-1:f<a?1:0}),M=H;var J=p(function(r,e){return Array.prototype.slice.call(e,0).sort(function(o,f){for(var a=0,u=0;a===0&&u<r.length;)a=r[u](o,f),u+=1;return a})}),y=J;var X=x(function(r,e,o){var f=r(e),a=r(o);return f<a?-1:f>a?1:0}),$=X;var V={production:!0,url:""};var U=(()=>{class t{constructor(){this.platformId=m(C),this.breakpointObserver=m(L),this.isSmallScreen$=this.breakpointObserver.observe([j.XSmall,j.Small]).pipe(n(e=>!!e.matches),c(1)),this.isSmallScreen=d(this.isSmallScreen$)}get isServer(){return B(this.platformId)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var D="blog-posts.json",et=(()=>{class t{constructor(){this.httpClient=m(N),this.state=m(E),this.platformService=m(U),this.postsMeta$=A(()=>!!this.state.get(D,null),P(this.state.get(D,null)),this.httpClient.get(`${V.url}assets/blog-posts.json`).pipe(q(e=>{this.platformService.isServer&&this.state.set(D,e)}))).pipe(R({}),c(1)),this.postsMeta=d(this.postsMeta$,{initialValue:{}}),this.postCategories$=this.postsMeta$.pipe(n(e=>Object.keys(e||{}).map(o=>(e||{})[o]).reduce((o,f)=>[...o,...f.categories||[]],[]))),this.postCategories=d(this.postCategories$,{initialValue:[]}),this.postTags$=this.postsMeta$.pipe(n(e=>Object.keys(e||{}).map(o=>(e||{})[o]).reduce((o,f)=>[...o,...f.tags||[]],[]))),this.postTags=d(this.postTags$,{initialValue:[]}),this.postsMetaWithSlug$=this.postsMeta$.pipe(n(e=>Object.keys(e||{}).map(o=>b(v({},(e||{})[o]),{slug:o})))),this.postsMetaWithSlugAndSortDesc$=this.postsMetaWithSlug$.pipe(n(e=>y([M(g("date"))],e))),this.postsMetaWithSlugAndSortDesc=d(this.postsMetaWithSlugAndSortDesc$,{initialValue:[]}),this.postsMetaWithSlugAndSortAsc$=this.postsMetaWithSlug$.pipe(n(e=>y([$(g("date"))],e))),this.postsMetaWithSlugAndSortAsc=d(this.postsMetaWithSlugAndSortAsc$,{initialValue:[]}),this.categoriesAndPosts$=S([this.postsMetaWithSlug$,this.postCategories$]).pipe(n(([e,o])=>o.filter(f=>!!f).reduce((f,a)=>(f[a]||(f[a]=e.filter(u=>(u.categories||[]).find(l=>l===a))),f),{}))),this.categoriesAndPosts=d(this.categoriesAndPosts$,{initialValue:{}}),this.tagsAndPosts$=S([this.postsMetaWithSlug$,this.postTags$]).pipe(n(([e,o])=>o.filter(f=>!!f).reduce((f,a)=>(f[a]||(f[a]=e.filter(u=>(u.tags||[]).find(l=>l===a))),f),{})))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{d as a,g as b,M as c,y as d,V as e,U as f,et as g};
