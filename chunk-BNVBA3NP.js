import{k as F,l as q,m as V}from"./chunk-IZRKRBJG.js";import{a as Q,b as A}from"./chunk-PMJUEI5Q.js";import"./chunk-LJJG247C.js";import{a as I,c as L,f as K}from"./chunk-5SURUXUN.js";import{a as f,g as R}from"./chunk-Z5R2DTUN.js";import{Aa as m,Ba as p,C as x,D as k,Da as E,Ea as w,Fa as n,Ga as i,Ib as T,Lb as B,M as _,N as S,Pa as l,Ua as c,Va as C,Wa as h,Ya as $,ab as g,cb as y,j as d,ja as a,k as M,l as D,q as u,sb as O,ua as P}from"./chunk-IN3HSR3R.js";import"./chunk-CWTPBX7D.js";var G=(t,r)=>r.link;function H(t,r){if(t&1&&(n(0,"h1"),c(1),i()),t&2){let o=l(2);a(1),h(" ",o.searchKeyword()," ")}}function J(t,r){if(t&1&&(n(0,"span",4),c(1),g(2,"date"),i()),t&2){let o=l(2);a(1),h(" Start: ",y(2,1,o.searchDateStart(),"yyyy-MM-dd")," ")}}function U(t,r){if(t&1&&(n(0,"span",4),c(1),g(2,"date"),i()),t&2){let o=l(2);a(1),h(" End: ",y(2,1,o.searchDateEnd(),"yyyy-MM-dd")," ")}}function X(t,r){if(t&1&&(n(0,"span",8),c(1),g(2,"date"),i()),t&2){let o=l().$implicit;a(1),h(" ",y(2,1,o.date,"yyyy-MM-dd")," ")}}function Y(t,r){if(t&1&&(n(0,"mat-list-item",5)(1,"div",6),m(2,X,3,4,"span",7),n(3,"span",8),c(4),i(),n(5,"span",9),c(6),i()()()),t&2){let o=r.$implicit,e=l(2);P("routerLink",o.link),a(2),p(2,(e.searchDateStart()||e.searchDateEnd())&&o.type==="\u6587\u7AE0"?2:-1),a(2),C(o.type),a(2),C(o.text)}}function Z(t,r){if(t&1&&(n(0,"mat-toolbar",1),m(1,H,2,1,"h1"),n(2,"h2"),c(3,"\u641C\u5C0B\u7D50\u679C"),i()(),n(4,"mat-card",2)(5,"mat-card-content")(6,"h2"),c(7),i(),m(8,J,3,4,"span",3)(9,U,3,4,"span",3),n(10,"mat-nav-list"),E(11,Y,7,4,"mat-list-item",5,G),i()()()),t&2){let o=l();a(1),p(1,o.searchKeyword()?1:-1),a(6),h("\u5171 ",o.searchResult.length," \u7BC7\u6587\u7AE0"),a(1),p(8,o.searchDateStart()?8:-1),a(1),p(9,o.searchDateEnd()?9:-1),w(11,o.searchResult())}}var z=(()=>{let r=class r{constructor(){this.sitePostService=_(R),this.route=_(T),this.searchKeyword$=this.route.queryParamMap.pipe(d(e=>`${e.get("q")}`),u(Boolean),x("")),this.searchKeyword=f(this.searchKeyword$,{initialValue:""}),this.searchDateStart$=this.route.queryParamMap.pipe(d(e=>e.get("start")),u(e=>!!e),d(e=>new Date(e)),x(void 0)),this.searchDateStart=f(this.searchDateStart$,{initialValue:void 0}),this.searchDateEnd$=this.route.queryParamMap.pipe(d(e=>e.get("end")),u(e=>!!e),d(e=>new Date(e)),x(void 0)),this.searchDateEnd=f(this.searchDateEnd$,{initialValue:void 0}),this.searchResult$=M([this.sitePostService.postsMetaWithSlugAndSortDesc$,this.searchKeyword$,this.searchDateStart$,this.searchDateEnd$]).pipe(k(([e,s,b,W])=>D(()=>import("./chunk-JSYRJG7U.js").then(v=>{let j=v.searchPosts,N=v.searchPostsByDateRange(b,W);return j(N(e),s)})))),this.searchResult=f(this.searchResult$,{initialValue:[]})}};r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=S({type:r,selectors:[["app-query"]],standalone:!0,features:[$],decls:2,vars:1,consts:[[1,"p-4"],[1,"search-header","mat-elevation-z4","!mb-2"],["appearance","outlined"],["class","search-chip"],[1,"search-chip"],[3,"routerLink"],["matLine","",1,"search-result"],["class","search-result-type"],[1,"search-result-type"],[1,"search-result-title"]],template:function(s,b){s&1&&(n(0,"div",0),m(1,Z,13,4),i()),s&2&&(a(1),p(1,b.searchResult()?1:-1))},dependencies:[A,Q,K,I,L,V,q,F,B,O],styles:["[_ngcontent-%COMP%]:root{--background-color:#ffffff;--primary-color: #3f51b5;--primary-text-color: #212121;--secondary-text-color: #9e9e9e;--header-link-color: #ffffff;--default-link-color: #5c6bc0;--default-link-hover-color: #3949ab;--post-card-header-link-color: #212121;--post-card-header-link-hover-color: #3f51b5;--post-card-content-text-color: #212121;--sidebar-text-color: #757575;--sidebar-highlight-text-color: var(--primary-color);--sidebar-highlight-bg-color: rgba(63, 81, 181, .15);--sub-pages-header-background-color: #ffffff;--post-next-prev-text-color: #9e9e9e;--note-background-color: transparent;--note-border-color: rgba(0, 0, 0, .2);--note-info-indicator-color: #3f51b5;--note-warning-indicator-color: #ff9800;--note-danger-indicator-color: #e91e63;--toc-header-color: #212121;--toc-indicator-color: #9e9e9e;--toc-indicator-focus-color: #3f51b5;--code-text-color: #3f51b5;--code-background-color: #eeeeee}[_ngcontent-%COMP%]:root   .dark-theme[_ngcontent-%COMP%]{--background-color:#424242;--primary-color: #9fa8da;--primary-text-color: #f5f5f5;--secondary-text-color: #bdbdbd;--search-input-background-color: #424242;--search-input-text-color: #ffffff;--default-link-color: #D4DAED;--default-link-hover-color: white;--post-card-header-link-color: #f5f5f5;--post-card-header-link-hover-color: #9fa8da;--post-card-content-text-color: #f5f5f5;--sidebar-text-color: #bdbdbd;--sidebar-highlight-text-color: var(--primary-color);--sidebar-highlight-bg-color: rgba(159, 168, 218, .45);--sub-pages-header-background-color: #424242;--post-next-prev-text-color: #bdbdbd;--note-background-color: transparent;--note-border-color: rgba(255, 255, 255, .3);--note-info-indicator-color: #3f51b5;--note-warning-indicator-color: #ff9800;--note-danger-indicator-color: #e91e63;--toc-header-color: #f5f5f5;--toc-indicator-color: #9e9e9e;--toc-indicator-focus-color: #9fa8da;--code-text-color: #D4DAED;--code-background-color: #424242}[_ngcontent-%COMP%]:root   .dark-theme[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input.search-input[_ngcontent-%COMP%]{color:var(--search-input-text-color);background-color:var(--search-input-background-color)}.search-result[_ngcontent-%COMP%]{display:flex!important;flex-direction:row;align-items:baseline}@media (max-width: 599.98px){.search-result[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.search-result[_ngcontent-%COMP%]   .search-result-type[_ngcontent-%COMP%]{color:var(--secondary-text-color);font-size:14px;margin-right:8px}.search-result[_ngcontent-%COMP%]   .search-result-title[_ngcontent-%COMP%]{color:var(--primary-text-color);font-size:18px}.search-chip[_ngcontent-%COMP%]{color:#fff;background:var(--primary-color);margin:2px;padding:2px;border-radius:4px}"],changeDetection:0});let t=r;return t})();var tt=[{path:"",component:z}],yt=tt;export{yt as default};
