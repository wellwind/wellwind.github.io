import{a as d}from"./chunk-2BJYVO3V.js";import"./chunk-VOSPIT4N.js";var C={tag:"\u6A19\u7C64",category:"\u5206\u985E"},L=n=>n&&C[n]||"",x=(n,c)=>w=>w.filter(l=>{let a=new Date(l.date);return(n?a>=new Date(n):!0)&&(c?a<=new Date(c):!0)}),y=(n,c)=>{if(!c)return n.map(o=>({type:"\u6587\u7AE0",text:o.title,date:o.date,link:`/blog/${o.date.slice(0,10).replace(/-/g,"/")}/${o.slug}`,toString:()=>""}));let w=o=>t=>t.title.toLowerCase().indexOf(o.toLowerCase())>=0||t.summary.toLowerCase().indexOf(o.toLowerCase())>=0,l=[],a="any",g="",f="",r="",i=c.split(":");if(i.length>2?(a="post",g=i[0],f=i[1],r=i[2]):i.length>1?(a=i[0].toLowerCase(),r=i[1]):r=i[0],a==="any"||a==="post"){let o=n.filter(t=>{let e=w(r);return g==="category"?e(t)&&!!(t.categories||[]).find(s=>s.toLowerCase().indexOf(f.toLowerCase())>=0):g==="tag"?e(t)&&!!(t.tags||[]).find(s=>s.toLowerCase().indexOf(f.toLowerCase())>=0):e(t)}).sort((t,e)=>t.title.toLowerCase().indexOf(r.toLowerCase())-e.title.toLowerCase().indexOf(r.toLowerCase()));l.push(...o.map(t=>({type:`${L(g)}${g?":":""}${f}${f?";":""}\u6587\u7AE0`,text:t.title,date:t.date,link:`/blog/${t.date.slice(0,10).replace(/-/g,"/")}/${t.slug}`,toString:()=>""})))}if(a==="any"||a==="category"){let t=n.reduce((e,s)=>[...new Set([...e,...s.categories||[]])],[]).filter(e=>e.toLowerCase().indexOf(r.toLowerCase())>=0).sort((e,s)=>e.toLowerCase().indexOf(r.toLowerCase())-s.toLowerCase().indexOf(r.toLowerCase()));l.push(...t.map(e=>({type:"\u5206\u985E",text:e,date:"",link:`/blog/categories/${d(e)}`,toString:()=>""})))}if(a==="any"||a==="tag"){let t=n.reduce((e,s)=>[...new Set([...e,...s.tags||[]])],[]).filter(e=>e.toLowerCase().indexOf(r.toLowerCase())>=0).sort((e,s)=>e.toLowerCase().indexOf(r.toLowerCase())-s.toLowerCase().indexOf(r.toLowerCase()));l.push(...t.map(e=>({type:"\u6A19\u7C64",text:e,date:"",link:`/blog/tags/${d(e)}`,toString:()=>""})))}return l};export{y as searchPosts,x as searchPostsByDateRange};
