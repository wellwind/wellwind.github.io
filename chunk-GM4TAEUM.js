import{a as ot,b as rt}from"./chunk-DMKRETPT.js";import{a as O,b as Q}from"./chunk-PMJUEI5Q.js";import{a as F}from"./chunk-FYBESAFS.js";import{a as tt,b as it}from"./chunk-RNNFPY6H.js";import{a as k,b as B,c as x,d as I,e as N,f as D}from"./chunk-5SURUXUN.js";import{a as w,b as T,c as X,d as Y,g as et}from"./chunk-HXKAOSDU.js";import"./chunk-VXCSXRBK.js";import{b as Z,c as q,d as J,g as E}from"./chunk-Z5R2DTUN.js";import{b as K,e as U,g as V,h as W}from"./chunk-FPA2J5JD.js";import{Da as S,Ea as M,Fa as r,Ga as a,Ha as P,I as f,Lb as b,M as m,N as y,Sa as _,Ua as p,Va as j,Wa as g,Ya as C,_a as z,aa as H,ab as u,bb as d,ga as h,j as L,ja as n,oa as v,tb as G,ua as l}from"./chunk-IN3HSR3R.js";import"./chunk-2BJYVO3V.js";import"./chunk-CWTPBX7D.js";var $=(()=>{let t=class t{constructor(){this.sitePostService=m(E)}resolve(i){let o=i.paramMap.get("category-slug");return this.sitePostService.categoriesAndPosts$.pipe(L(s=>ot(o,s)),L(s=>J([q(Z("date"))],s)))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ct=(e,t)=>t.slug;function mt(e,t){if(e&1&&(r(0,"mat-card",3)(1,"mat-card-title",4)(2,"a",5),u(3,"postDateAsPath"),p(4),a()(),r(5,"mat-card-subtitle",6),P(6,"app-blog-post-subtitle",7),a(),r(7,"mat-card-content",8),P(8,"div",9),a(),r(9,"mat-card-footer")(10,"a",10),u(11,"postDateAsPath"),r(12,"mat-icon"),p(13,"read_more"),a(),r(14,"span"),p(15,"\u7E7C\u7E8C\u95B1\u8B80"),a()()()()),e&2){let c=t.$implicit;n(2),l("routerLink",d(3,5,c)),n(2),j(c.title),n(2),l("postMeta",c),n(2),l("innerHTML",c.summary,H),n(2),l("routerLink",d(11,7,c))}}var at=10,R=(()=>{let t=class t{constructor(){this.siteMetaService=m(F),this.categorySlug=w(i=>i.get("category-slug"),""),this.currentPage=w(i=>+(i.get("page")||1),1),this.categoryPosts=T(i=>i.posts,[]),this.categoryPostsCount=h(()=>this.categoryPosts().length),this.posts=h(()=>it(this.currentPage(),at,this.categoryPosts())),this.totalPage=h(()=>Math.ceil(this.categoryPostsCount()/at)),this._updateMetaEffect=v(()=>{let i=this.categorySlug();this.siteMetaService.resetMeta({title:`\u5206\u985E\uFF1A${i}`,description:`${i} \u76F8\u95DC\u6587\u7AE0`,keywords:[i||""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["app-blog-categories-posts"]],standalone:!0,features:[C],decls:10,vars:7,consts:[[1,"categories-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"],["appearance","outlined","class","blog-post"]],template:function(o,s){o&1&&(r(0,"mat-toolbar",0)(1,"h1"),p(2),u(3,"unslugify"),a(),r(4,"h2"),p(5),a()(),S(6,mt,16,9,"mat-card",11,ct),r(8,"mat-card",1),P(9,"app-pagination",2),a()),o&2&&(n(2),j(d(3,5,s.categorySlug()||"")),n(3),g("\u5206\u985E (\u5171 ",s.categoryPostsCount()," \u7BC7\u6587\u7AE0)"),M(6,s.posts()),n(4),_("linkBase","/blog/categories/",s.categorySlug(),"/page"),l("currentPage",s.currentPage()||1)("totalPage",s.totalPage()||1))},dependencies:[Q,O,D,k,x,N,I,B,b,Y,U,K,W,V,tt,rt,et],changeDetection:0});let e=t;return e})();var nt=(()=>{let t=class t{constructor(){this.sitePostService=m(E)}resolve(){return this.sitePostService.categoriesAndPosts$}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lt=(e,t)=>t.key,ut=e=>["/blog/categories",e];function dt(e,t){if(e&1&&(r(0,"li")(1,"a",4),u(2,"slugify"),p(3),a(),p(4),a()),e&2){let c=t.$implicit;n(1),l("routerLink",z(5,ut,d(2,3,c.key||""))),n(2),g(" ",c.key," "),n(1),g(" (",c.value.length,") ")}}var st=(()=>{let t=class t{constructor(){this.siteMetaService=m(F),this.categories=T(i=>i.categories,{}),this._updateMetaEffect=v(()=>{this.siteMetaService.resetMeta({title:"\u5206\u985E",description:"\u986F\u793A\u6240\u6709\u5206\u985E",keywords:[""],type:"website"})})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["app-blog-categories"]],standalone:!0,features:[C],decls:11,vars:5,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[3,"routerLink"]],template:function(o,s){o&1&&(r(0,"mat-card",0)(1,"mat-card-title",1),p(2," \u5206\u985E "),a(),r(3,"mat-card-subtitle",2),p(4),u(5,"keyvalue"),a(),r(6,"mat-card-content",3)(7,"ul"),S(8,dt,5,7,"li",null,lt),u(10,"keyvalue"),a()()()),o&2&&(n(4),g(" \u5171 ",d(5,1,s.categories()).length," \u500B\u5206\u985E "),M(8,d(10,3,s.categories())))},dependencies:[D,k,x,I,B,b,G,X],changeDetection:0});let e=t;return e})();var gt=[{path:":category-slug",resolve:{posts:$},component:R},{path:":category-slug/page/:page",resolve:{posts:$},component:R},{path:"",resolve:{categories:nt},component:st}],ae=gt;export{ae as default};
