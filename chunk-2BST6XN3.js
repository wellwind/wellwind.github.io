import{a as ot,b as rt}from"./chunk-KQOV4MDH.js";import{a as O,b as Q}from"./chunk-HIKQTIZY.js";import{a as F}from"./chunk-NCFFCVOX.js";import{a as tt,b as it}from"./chunk-AUZBI24B.js";import{a as k,b as B,c as x,d as I,e as N,f as D}from"./chunk-RKMAR2BI.js";import{a as w,b as T,c as X,d as Y,g as et}from"./chunk-I5BLJNFU.js";import"./chunk-2MK3KYFD.js";import{b as Z,c as q,d as J,g as E}from"./chunk-DJXH74Y5.js";import{b as K,e as U,g as V,h as W}from"./chunk-FNDWCIKF.js";import{$a as j,Ga as h,Ha as v,Ia as a,J as f,Ja as n,Ka as S,Qb as b,R as y,Ua as _,Z as m,_a as p,ab as g,cb as M,eb as z,ga as H,gb as d,hb as u,ia as o,j as L,pb as P,qb as C,xb as G,za as l}from"./chunk-3JHMT23J.js";import"./chunk-2BJYVO3V.js";import"./chunk-CWTPBX7D.js";var $=(()=>{let t=class t{constructor(){this.sitePostService=m(E)}resolve(i){let r=i.paramMap.get("category-slug");return this.sitePostService.categoriesAndPosts$.pipe(L(s=>ot(r,s)),L(s=>J([q(Z("date"))],s)))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ct=(e,t)=>t.slug;function mt(e,t){if(e&1&&(a(0,"mat-card",3)(1,"mat-card-title",4)(2,"a",5),d(3,"postDateAsPath"),p(4),n()(),a(5,"mat-card-subtitle",6),S(6,"app-blog-post-subtitle",7),n(),a(7,"mat-card-content",8),S(8,"div",9),n(),a(9,"mat-card-footer")(10,"a",10),d(11,"postDateAsPath"),a(12,"mat-icon"),p(13,"read_more"),n(),a(14,"span"),p(15,"\u7E7C\u7E8C\u95B1\u8B80"),n()()()()),e&2){let c=t.$implicit;o(2),l("routerLink",u(3,5,c)),o(2),j(c.title),o(2),l("postMeta",c),o(2),l("innerHTML",c.summary,H),o(2),l("routerLink",u(11,7,c))}}var at=10,R=(()=>{let t=class t{constructor(){this.siteMetaService=m(F),this.categorySlug=w(i=>i.get("category-slug"),""),this.currentPage=w(i=>+(i.get("page")||1),1),this.categoryPosts=T(i=>i.posts,[]),this.categoryPostsCount=P(()=>this.categoryPosts().length),this.posts=P(()=>it(this.currentPage(),at,this.categoryPosts())),this.totalPage=P(()=>Math.ceil(this.categoryPostsCount()/at)),this._updateMetaEffect=C(()=>{let i=this.categorySlug();this.siteMetaService.resetMeta({title:`\u5206\u985E\uFF1A${i}`,description:`${i} \u76F8\u95DC\u6587\u7AE0`,keywords:[i||""],type:"website"})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-blog-categories-posts"]],standalone:!0,features:[M],decls:10,vars:7,consts:[[1,"categories-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"],["appearance","outlined","class","blog-post"]],template:function(r,s){r&1&&(a(0,"mat-toolbar",0)(1,"h1"),p(2),d(3,"unslugify"),n(),a(4,"h2"),p(5),n()(),h(6,mt,16,9,"mat-card",11,ct),a(8,"mat-card",1),S(9,"app-pagination",2),n()),r&2&&(o(2),j(u(3,5,s.categorySlug()||"")),o(3),g("\u5206\u985E (\u5171 ",s.categoryPostsCount()," \u7BC7\u6587\u7AE0)"),o(),v(s.posts()),o(3),_("linkBase","/blog/categories/",s.categorySlug(),"/page"),l("currentPage",s.currentPage()||1)("totalPage",s.totalPage()||1))},dependencies:[Q,O,D,k,x,N,I,B,b,Y,U,K,W,V,tt,rt,et],changeDetection:0});let e=t;return e})();var nt=(()=>{let t=class t{constructor(){this.sitePostService=m(E)}resolve(){return this.sitePostService.categoriesAndPosts$}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lt=(e,t)=>t.key,dt=e=>["/blog/categories",e];function ut(e,t){if(e&1&&(a(0,"li")(1,"a",4),d(2,"slugify"),p(3),n(),p(4),n()),e&2){let c=t.$implicit;o(),l("routerLink",z(5,dt,u(2,3,c.key||""))),o(2),g(" ",c.key," "),o(),g(" (",c.value.length,") ")}}var st=(()=>{let t=class t{constructor(){this.siteMetaService=m(F),this.categories=T(i=>i.categories,{}),this._updateMetaEffect=C(()=>{this.siteMetaService.resetMeta({title:"\u5206\u985E",description:"\u986F\u793A\u6240\u6709\u5206\u985E",keywords:[""],type:"website"})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-blog-categories"]],standalone:!0,features:[M],decls:11,vars:5,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[3,"routerLink"]],template:function(r,s){r&1&&(a(0,"mat-card",0)(1,"mat-card-title",1),p(2," \u5206\u985E "),n(),a(3,"mat-card-subtitle",2),p(4),d(5,"keyvalue"),n(),a(6,"mat-card-content",3)(7,"ul"),h(8,ut,5,7,"li",null,lt),d(10,"keyvalue"),n()()()),r&2&&(o(4),g(" \u5171 ",u(5,1,s.categories()).length," \u500B\u5206\u985E "),o(4),v(u(10,3,s.categories())))},dependencies:[D,k,x,I,B,b,G,X],changeDetection:0});let e=t;return e})();var gt=[{path:":category-slug",resolve:{posts:$},component:R},{path:":category-slug/page/:page",resolve:{posts:$},component:R},{path:"",resolve:{categories:nt},component:st}],ae=gt;export{ae as default};
