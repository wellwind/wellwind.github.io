import{B as x,C as P,Db as E,Eb as L,F as _,G as q,I as c,M as n,S as B,_ as S,da as C,fa as N,g as R,j as l,k as v,mc as F,nc as w,o as D,sb as T,wa as W}from"./chunk-ATFRGD2D.js";import{a as O,b as M}from"./chunk-C6Q5SG76.js";function i(a,t){let f=!t?.manualCleanup;f&&!t?.injector&&B(i);let e=f?t?.injector?.get(S)??n(S):null,o;t?.requireSync?o=W({kind:0}):o=W({kind:1,value:t?.initialValue});let r=a.subscribe({next:s=>o.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;o.set({kind:2,error:s})}});return e?.onDestroy(r.unsubscribe.bind(r)),T(()=>{let s=o();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new q(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}function u(a){return a!=null&&typeof a=="object"&&a["@@functional/placeholder"]===!0}function d(a){return function t(f){return arguments.length===0||u(f)?t:a.apply(this,arguments)}}function p(a){return function t(f,e){switch(arguments.length){case 0:return t;case 1:return u(f)?t:d(function(o){return a(f,o)});default:return u(f)&&u(e)?t:u(f)?d(function(o){return a(o,e)}):u(e)?d(function(o){return a(f,o)}):a(f,e)}}}var V=Number.isInteger||function(t){return t<<0===t};function j(a){return Object.prototype.toString.call(a)==="[object String]"}function k(a,t){var f=a<0?t.length+a:a;return j(t)?t.charAt(f):t[f]}var U=p(function(t,f){if(f!=null)return V(t)?k(t,f):f[t]}),h=U;function m(a){return function t(f,e,o){switch(arguments.length){case 0:return t;case 1:return u(f)?t:p(function(r,s){return a(f,r,s)});case 2:return u(f)&&u(e)?t:u(f)?p(function(r,s){return a(r,e,s)}):u(e)?p(function(r,s){return a(f,r,s)}):d(function(r){return a(f,e,r)});default:return u(f)&&u(e)&&u(o)?t:u(f)&&u(e)?p(function(r,s){return a(r,s,o)}):u(f)&&u(o)?p(function(r,s){return a(r,e,s)}):u(e)&&u(o)?p(function(r,s){return a(f,r,s)}):u(f)?d(function(r){return a(r,e,o)}):u(e)?d(function(r){return a(f,r,o)}):u(o)?d(function(r){return a(f,e,r)}):a(f,e,o)}}}var H=m(function(t,f,e){var o=t(f),r=t(e);return o>r?-1:o<r?1:0}),I=H;var Z=p(function(t,f){return Array.prototype.slice.call(f,0).sort(function(e,o){for(var r=0,s=0;r===0&&s<t.length;)r=t[s](e,o),s+=1;return r})}),g=Z;var G=m(function(t,f,e){var o=t(f),r=t(e);return o<r?-1:o>r?1:0}),A=G;var z={production:!0,url:"",trackUrl:"https://mike-dashboard.azurewebsites.net/api/wt?code=AsqZnNWtZj90MnA1eufWnBNSFshKcyG_YNPKTHMaIkQkAzFuwRDbRg=="};var K=(()=>{let t=class t{constructor(){this.platformId=n(C),this.breakpointObserver=n(F),this.isSmallScreen$=this.breakpointObserver.observe([w.XSmall,w.Small]).pipe(l(e=>!!e.matches),x(1)),this.isSmallScreen=i(this.isSmallScreen$)}get isServer(){return E(this.platformId)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var $="blog-posts.json",Jt=(()=>{let t=class t{constructor(){this.httpClient=n(L),this.state=n(N),this.platformService=n(K),this.postsMeta$=D(()=>!!this.state.get($,null),R(this.state.get($,null)),this.httpClient.get(`${z.url}assets/blog-posts.json`).pipe(_(e=>{this.platformService.isServer&&this.state.set($,e)}))).pipe(P({}),x(1)),this.postsMeta=i(this.postsMeta$,{initialValue:{}}),this.postCategories$=this.postsMeta$.pipe(l(e=>Object.keys(e||{}).map(o=>(e||{})[o]).reduce((o,r)=>[...o,...r.categories||[]],[]))),this.postCategories=i(this.postCategories$,{initialValue:[]}),this.postTags$=this.postsMeta$.pipe(l(e=>Object.keys(e||{}).map(o=>(e||{})[o]).reduce((o,r)=>[...o,...r.tags||[]],[]))),this.postTags=i(this.postTags$,{initialValue:[]}),this.postsMetaWithSlug$=this.postsMeta$.pipe(l(e=>Object.keys(e||{}).map(o=>M(O({},(e||{})[o]),{slug:o})))),this.postsMetaWithSlugAndSortDesc$=this.postsMetaWithSlug$.pipe(l(e=>g([I(h("date"))],e))),this.postsMetaWithSlugAndSortDesc=i(this.postsMetaWithSlugAndSortDesc$,{initialValue:[]}),this.postsMetaWithSlugAndSortAsc$=this.postsMetaWithSlug$.pipe(l(e=>g([A(h("date"))],e))),this.postsMetaWithSlugAndSortAsc=i(this.postsMetaWithSlugAndSortAsc$,{initialValue:[]}),this.categoriesAndPosts$=v([this.postsMetaWithSlug$,this.postCategories$]).pipe(l(([e,o])=>o.filter(r=>!!r).reduce((r,s)=>(r[s]||(r[s]=e.filter(y=>(y.categories||[]).find(b=>b===s))),r),{}))),this.categoriesAndPosts=i(this.categoriesAndPosts$,{initialValue:{}}),this.tagsAndPosts$=v([this.postsMetaWithSlug$,this.postTags$]).pipe(l(([e,o])=>o.filter(r=>!!r).reduce((r,s)=>(r[s]||(r[s]=e.filter(y=>(y.tags||[]).find(b=>b===s))),r),{})))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();export{i as a,h as b,I as c,g as d,z as e,K as f,Jt as g};
