<div class="search-page-container">
  <ng-container *ngIf="searchResult$ | push as searchResult">
    <mat-toolbar class="search-header mat-elevation-z4">
      <h1 *ngIf="searchKeyword$ | push as searchKeyword">
        {{ searchKeyword }}
      </h1>
      <h2>搜尋結果</h2>
    </mat-toolbar>

    <mat-card appearance="outlined">
      <mat-card-content>
        <h2>共 {{ searchResult.length }} 篇文章</h2>

        <span class="search-chip" *ngIf="searchDateStart$ | push as startDate"
          >Start: {{ startDate | date: "yyyy-MM-dd" }}</span
        >
        <span class="search-chip" *ngIf="searchDateEnd$ | push as endDate"
          >End: {{ endDate | date: "yyyy-MM-dd" }}</span
        >

        <mat-nav-list>
          <mat-list-item *ngFor="let item of searchResult"  [routerLink]="item.link">
            <div matLine class="search-result">
              <span
                *ngIf="
                  ((searchDateStart$ | push) || (searchDateEnd$ | push)) &&
                  item.type === '文章'
                "
                class="search-result-type"
                >{{ item.date | date: "yyyy-MM-dd" }}</span
              >
              <span class="search-result-type">{{ item.type }}</span>
              <span class="search-result-title">{{ item.text }}</span>
            </div>
          </mat-list-item>
        </mat-nav-list>
      </mat-card-content>
    </mat-card>
  </ng-container>
</div>
