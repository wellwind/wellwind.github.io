<div class="search-page-container">
  @if (searchResult$ | push; as searchResult) {

    <mat-toolbar class="search-header mat-elevation-z4">
      @if (searchKeyword$ | push; as searchKeyword) {
<h1>
        {{ searchKeyword }}
      </h1>
}
      <h2>搜尋結果</h2>
    </mat-toolbar>

    <mat-card appearance="outlined">
      <mat-card-content>
        <h2>共 {{ searchResult.length }} 篇文章</h2>

        @if (searchDateStart$ | push; as startDate) {
<span class="search-chip"
          >Start: {{ startDate | date: "yyyy-MM-dd" }}</span
        >
}
        @if (searchDateEnd$ | push; as endDate) {
<span class="search-chip"
          >End: {{ endDate | date: "yyyy-MM-dd" }}</span
        >
}

        <mat-nav-list>
          @for (item of searchResult; track item.link) {
  <mat-list-item  [routerLink]="item.link">
            <div matLine class="search-result">
              @if (
                  ((searchDateStart$ | push) || (searchDateEnd$ | push)) &&
                  item.type === '文章'
                ) {
<span

                class="search-result-type"
                >{{ item.date | date: "yyyy-MM-dd" }}</span
              >
}
              <span class="search-result-type">{{ item.type }}</span>
              <span class="search-result-title">{{ item.text }}</span>
            </div>
          </mat-list-item>
}
        </mat-nav-list>
      </mat-card-content>
    </mat-card>

}
</div>
