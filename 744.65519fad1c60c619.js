"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[744],{2744:(G,f,n)=>{n.r(f),n.d(f,{BlogTagsModule:()=>E});var l=n(4755),u=n(1728),i=n(6012),h=n(430),m=n(9383),c=n(5608),v=n(6829),g=n(4850),$=n(7545),C=n(7122),M=n(8173),L=n(7975),z=n(5495),x=n(2985),t=n(2223),Z=n(8846);function B(s,p){if(1&s&&(t.ynx(0),t.TgZ(1,"mat-card",4)(2,"mat-card-title",5)(3,"a",6),t.ALo(4,"postDateAsPath"),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-subtitle",7),t._UZ(7,"app-blog-post-subtitle",8),t.qZA(),t.TgZ(8,"mat-card-content",9),t._UZ(9,"div",10),t.qZA(),t.TgZ(10,"mat-card-footer")(11,"a",11),t.ALo(12,"postDateAsPath"),t.TgZ(13,"mat-icon"),t._uU(14,"read_more"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"\u7e7c\u7e8c\u95b1\u8b80"),t.qZA()()()(),t.BQk()),2&s){const o=p.$implicit;t.xp6(3),t.Q6J("routerLink",t.lcZ(4,5,o)),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Q6J("postMeta",o),t.xp6(2),t.Q6J("innerHTML",o.summary,t.oJD),t.xp6(2),t.Q6J("routerLink",t.lcZ(12,7,o))}}let d=(()=>{class s{constructor(o,e){this.route=o,this.siteMetaService=e,this.tagSlug$=this.route.paramMap.pipe((0,g.U)(a=>a.get("tag-slug"))),this.currentPage$=this.route.paramMap.pipe((0,g.U)(a=>+(a.get("page")||1))),this.tagPosts$=this.route.data.pipe((0,g.U)(a=>a.posts)),this.tagPostsCount$=this.tagPosts$.pipe((0,g.U)(a=>a.length)),this.posts$=this.currentPage$.pipe((0,$.w)(a=>this.tagPosts$.pipe((0,g.U)(r=>(0,x.$)(a,10,r))))),this.totalPage$=this.tagPosts$.pipe((0,g.U)(a=>Math.ceil(Object.keys(a).length/10)))}ngOnInit(){this.tagSlug$.subscribe(o=>{this.siteMetaService.resetMeta({title:`\u6a19\u7c64\uff1a${o}`,description:`${o} \u76f8\u95dc\u6587\u7ae0`,keywords:[o||""],type:"website"})})}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(c.gz),t.Y36(Z.a))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-blog-tag-posts"]],standalone:!0,features:[t.jDz],decls:15,vars:20,consts:[[1,"tags-header","mat-elevation-z4"],[4,"ngFor","ngForOf"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-toolbar",0)(1,"h1"),t._uU(2),t.ALo(3,"unslugify"),t.ALo(4,"push"),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.ALo(7,"push"),t.qZA()(),t.YNc(8,B,17,9,"ng-container",1),t.ALo(9,"push"),t.TgZ(10,"mat-card",2),t._UZ(11,"app-pagination",3),t.ALo(12,"push"),t.ALo(13,"push"),t.ALo(14,"push"),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,6,t.lcZ(4,8,a.tagSlug$)||"")),t.xp6(4),t.hij("\u6a19\u7c64 (\u5171 ",t.lcZ(7,10,a.tagPostsCount$)," \u7bc7\u6587\u7ae0)"),t.xp6(2),t.Q6J("ngForOf",t.lcZ(9,12,a.posts$)),t.xp6(3),t.MGl("linkBase","/blog/tags/",t.lcZ(12,14,a.tagSlug$),"/page"),t.Q6J("currentPage",t.lcZ(13,16,a.currentPage$)||1)("totalPage",t.lcZ(14,18,a.totalPage$)||1))},dependencies:[m.g0,m.Ye,l.ax,i.QW,i.a8,i.dn,i.rt,i.$j,i.n5,c.rH,C.z,u.ot,u.zs,h.Ps,h.Hw,M.Q,z.N,L.y,v.c]})}return s})();var O=n(8491),U=n(3841),S=n(7591),F=n(3993),A=n(5447);let y=(()=>{class s{constructor(o){this.sitePostService=o}resolve(o,e){const a=o.paramMap.get("tag-slug");return this.sitePostService.tagsAndPosts$.pipe((0,g.U)(r=>(0,F.K)(a,r)),(0,g.U)(r=>(0,O.Z)([(0,U.Z)((0,S.Z)("date"))],r)))}static#t=this.\u0275fac=function(e){return new(e||s)(t.LFG(A.g))};static#s=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Q=(()=>{class s{constructor(o){this.sitePostService=o}resolve(o,e){return this.sitePostService.tagsAndPosts$}static#t=this.\u0275fac=function(e){return new(e||s)(t.LFG(A.g))};static#s=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var b=n(2245);let j=(()=>{class s{transform(o,e){return o>=.4*e?1:o>=.2*e?2:o>=.1*e?3:4}static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275pipe=t.Yjl({name:"blogPostTagSize",type:s,pure:!0,standalone:!0})}return s})();const J=function(s){return["/blog/tags",s]};function Y(s,p){if(1&s&&(t.TgZ(0,"a",7),t.ALo(1,"blogPostTagSize"),t.ALo(2,"push"),t.ALo(3,"slugify"),t._uU(4),t.qZA()),2&s){const o=t.oxw().$implicit,e=t.oxw();t.Gre("tag size-",t.xi3(1,5,o.value.length,t.lcZ(2,8,e.maxPostsCount$)||0),""),t.Q6J("routerLink",t.VKq(12,J,t.lcZ(3,10,o.key))),t.xp6(4),t.hij(" ",o.key," ")}}function I(s,p){if(1&s&&(t.ynx(0),t.YNc(1,Y,5,14,"a",6),t.BQk()),2&s){const o=p.$implicit;t.xp6(1),t.Q6J("ngIf",null==o?null:o.key)}}let T=(()=>{class s{constructor(o,e){this.route=o,this.siteMetaService=e,this.tags$=this.route.data.pipe((0,g.U)(a=>a.tags)),this.maxPostsCount$=this.tags$.pipe((0,g.U)(a=>Math.max(...Object.values(a).map(r=>r.length))))}ngOnInit(){this.siteMetaService.resetMeta({title:"\u6a19\u7c64",description:"\u986f\u793a\u6240\u6709\u6a19\u7c64",keywords:[""],type:"website"})}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(c.gz),t.Y36(Z.a))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-blog-tags"]],standalone:!0,features:[t.jDz],decls:12,vars:10,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[1,"tags"],[4,"ngFor","ngForOf"],[3,"class","routerLink",4,"ngIf"],[3,"routerLink"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title",1),t._uU(2," \u6a19\u7c64 "),t.qZA(),t.TgZ(3,"mat-card-subtitle",2),t._uU(4),t.ALo(5,"keyvalue"),t.ALo(6,"push"),t.qZA(),t.TgZ(7,"mat-card-content",3)(8,"div",4),t.YNc(9,I,2,1,"ng-container",5),t.ALo(10,"keyvalue"),t.ALo(11,"push"),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" \u5171 ",t.lcZ(5,2,t.lcZ(6,4,a.tags$)).length," \u500b\u6a19\u7c64 "),t.xp6(5),t.Q6J("ngForOf",t.lcZ(10,6,t.lcZ(11,8,a.tags$))))},dependencies:[i.QW,i.a8,i.dn,i.$j,i.n5,l.ax,l.O5,c.rH,l.Nd,b.N,v.c,j],styles:[".tags[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;flex-wrap:wrap}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin:8px}.tags[_ngcontent-%COMP%]   .tag.size-1[_ngcontent-%COMP%]{font-size:36px}.tags[_ngcontent-%COMP%]   .tag.size-2[_ngcontent-%COMP%]{font-size:30px}.tags[_ngcontent-%COMP%]   .tag.size-3[_ngcontent-%COMP%]{font-size:24px}.tags[_ngcontent-%COMP%]   .tag.size-4[_ngcontent-%COMP%]{font-size:16px}"]})}return s})();const N=[{path:":tag-slug",resolve:{posts:y},component:d},{path:":tag-slug/page/:page",resolve:{posts:y},component:d},{path:"",resolve:{tags:Q},component:T}];let D=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(N),c.Bz]})}return s})(),E=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[l.ez,D,i.QW,u.ot,h.Ps,m.g0,T,d]})}return s})()}}]);