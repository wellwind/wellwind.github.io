import{a as et,b as ot}from"./chunk-B4TDXLTG.js";import{a as J,b as N}from"./chunk-UTDZNLEJ.js";import{a as D}from"./chunk-EQZ56K5H.js";import{a as X,b as tt}from"./chunk-P5U5U36K.js";import{a as b,b as B,c as E,d as k,e as q,f as x}from"./chunk-ZS4HCCRT.js";import{a as L,b as I,c as O,d as Q,g as Y}from"./chunk-7LBM3DGD.js";import"./chunk-Z2CF7JKO.js";import{b as V,c as W,d as Z,g as S}from"./chunk-HYGUJU7J.js";import{b as z,e as G,g as K,h as U}from"./chunk-3AEAKRGS.js";import{Db as H,Fa as c,I as u,M as p,Ma as y,Na as v,Oa as r,Pa as a,Qa as h,Vb as M,Ya as $,eb as s,fb as _,gb as d,j as T,jb as R,la as F,lb as m,mb as l,na as o,tb as C,va as f,vb as P}from"./chunk-BNYFMXCQ.js";import"./chunk-2BJYVO3V.js";import"./chunk-C6Q5SG76.js";var w=(()=>{class t{constructor(){this.sitePostService=p(S)}resolve(e){let i=e.paramMap.get("category-slug");return this.sitePostService.categoriesAndPosts$.pipe(T(n=>et(i,n)),T(n=>Z([W(V("date"))],n)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var st=(t,g)=>g.slug;function pt(t,g){if(t&1&&(r(0,"mat-card",1)(1,"mat-card-title",4)(2,"a",5),m(3,"postDateAsPath"),s(4),a()(),r(5,"mat-card-subtitle",6),h(6,"app-blog-post-subtitle",7),a(),r(7,"mat-card-content",8),h(8,"div",9),a(),r(9,"mat-card-footer")(10,"a",10),m(11,"postDateAsPath"),r(12,"mat-icon"),s(13,"read_more"),a(),r(14,"span"),s(15,"\u7E7C\u7E8C\u95B1\u8B80"),a()()()()),t&2){let e=g.$implicit;o(2),c("routerLink",l(3,5,e)),o(2),_(e.title),o(2),c("postMeta",e),o(2),c("innerHTML",e.summary,F),o(2),c("routerLink",l(11,7,e))}}var it=10,A=(()=>{class t{constructor(){this.siteMetaService=p(D),this.categorySlug=L(e=>e.get("category-slug"),""),this.currentPage=L(e=>+(e.get("page")||1),1),this.categoryPosts=I(e=>e.posts,[]),this.categoryPostsCount=C(()=>this.categoryPosts().length),this.posts=C(()=>tt(this.currentPage(),it,this.categoryPosts())),this.totalPage=C(()=>Math.ceil(this.categoryPostsCount()/it)),this._updateMetaEffect=P(()=>{let e=this.categorySlug();this.siteMetaService.resetMeta({title:`\u5206\u985E\uFF1A${e}`,description:`${e} \u76F8\u95DC\u6587\u7AE0`,keywords:[e||""],type:"website"})})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-blog-categories-posts"]],decls:10,vars:8,consts:[[1,"categories-header","mat-elevation-z4","!mb-2"],["appearance","outlined",1,"blog-post"],["appearance","outlined",1,"pagination"],[3,"linkBase","currentPage","totalPage"],[1,"blog-post-title"],[3,"routerLink"],[1,"blog-post-subtitle"],[3,"postMeta"],[1,"blog-post-content"],[3,"innerHTML"],["mat-raised-button","","color","primary",1,"read-more",3,"routerLink"]],template:function(i,n){i&1&&(r(0,"mat-toolbar",0)(1,"h1"),s(2),m(3,"unslugify"),a(),r(4,"h2"),s(5),a()(),y(6,pt,16,9,"mat-card",1,st),r(8,"mat-card",2),h(9,"app-pagination",3),a()),i&2&&(o(2),_(l(3,6,n.categorySlug()||"")),o(3),d("\u5206\u985E (\u5171 ",n.categoryPostsCount()," \u7BC7\u6587\u7AE0)"),o(),v(n.posts()),o(3),$("linkBase","/blog/categories/",n.categorySlug(),"/page"),c("currentPage",n.currentPage()||1)("totalPage",n.totalPage()||1))},dependencies:[N,J,x,b,E,q,k,B,M,Q,G,z,U,K,X,ot,Y],encapsulation:2,changeDetection:0})}}return t})();var rt=(()=>{class t{constructor(){this.sitePostService=p(S)}resolve(){return this.sitePostService.categoriesAndPosts$}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ct=t=>["/blog/categories",t],mt=(t,g)=>g.key;function lt(t,g){if(t&1&&(r(0,"li")(1,"a",4),m(2,"slugify"),s(3),a(),s(4),a()),t&2){let e=g.$implicit;o(),c("routerLink",R(5,ct,l(2,3,e.key||""))),o(2),d(" ",e.key," "),o(),d(" (",e.value.length,") ")}}var at=(()=>{class t{constructor(){this.siteMetaService=p(D),this.categories=I(e=>e.categories,{}),this._updateMetaEffect=P(()=>{this.siteMetaService.resetMeta({title:"\u5206\u985E",description:"\u986F\u793A\u6240\u6709\u5206\u985E",keywords:[""],type:"website"})})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-blog-categories"]],decls:11,vars:5,consts:[["appearance","outlined",1,"blog-post"],[1,"blog-post-title"],[1,"blog-post-subtitle"],[1,"blog-post-content"],[3,"routerLink"]],template:function(i,n){i&1&&(r(0,"mat-card",0)(1,"mat-card-title",1),s(2," \u5206\u985E "),a(),r(3,"mat-card-subtitle",2),s(4),m(5,"keyvalue"),a(),r(6,"mat-card-content",3)(7,"ul"),y(8,lt,5,7,"li",null,mt),m(10,"keyvalue"),a()()()),i&2&&(o(4),d(" \u5171 ",l(5,1,n.categories()).length," \u500B\u5206\u985E "),o(4),v(l(10,3,n.categories())))},dependencies:[x,b,E,k,B,M,H,O],encapsulation:2,changeDetection:0})}}return t})();var gt=[{path:":category-slug",resolve:{posts:w},component:A},{path:":category-slug/page/:page",resolve:{posts:w},component:A},{path:"",resolve:{categories:rt},component:at}],ie=gt;export{ie as default};
