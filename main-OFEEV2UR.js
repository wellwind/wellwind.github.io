import{a as Ic,b as wc,c as Uc,d as Vc,e as Fc,f as Bc,g as ci,h as kc,i as Gc,j as Hc,k as Yc,l as Kc,m as zc,n as jc,o as Wc,p as qc,q as Qc,r as Xc,s as $c,t as Zc,u as fs,v as Y,w as Jc,x as ed,y as td,z as rd}from"./chunk-NL3NEU36.js";import{a as yc,b as Rc}from"./chunk-KGZRRIE2.js";import{a as Oc,b as xc,c as vc,d as Nc,e as Cc,f as li,g as Mc,h as Pc,i as _s}from"./chunk-RH35HL5Y.js";import{c as Dc,d as Lc}from"./chunk-VG2SMZBK.js";import{a as bc}from"./chunk-UAOXEKJ2.js";import{a as si,e as gc,f as Ac,g as _r,h as ai}from"./chunk-DZRERBF6.js";import{a as mc,e as _c,f as fc,g as ti,h as ri,i as hc,j as ni,k as ii,l as kr,n as Ec,o as Tc,p as oi,q as Sc}from"./chunk-TEVX2Q7U.js";import{$ as Ee,$a as Pe,Aa as de,C as Pt,D as lr,Da as ze,E as Ne,Ea as Ce,Eb as Wl,F as Ll,Fa as dr,Fb as ql,Fc as ei,G as N,Ga as oe,H as Il,Ha as Kn,Hb as Ql,Hc as pe,I as cr,Ib as Xl,J as he,Ja as ue,K as ce,L as kn,La as zn,M as m,Ma as jn,Mb as $l,N as wl,Na as y,Nb as Zl,Oa as b,Ob as Jl,P as Gn,Pa as k,Pb as pr,Q as X,Qb as Qn,R as $,Ra as St,Sa as ls,Sb as ec,T as Hn,Ta as q,Tb as Xn,Ua as se,Ub as $n,Va as It,Vb as tc,W as ye,Wa as st,Wb as rc,X as ie,Xb as nc,Ya as wt,Yb as ic,Z as Ur,Za as Ut,Zb as oc,_ as as,_a as Me,_b as We,a as Un,aa as Ul,ab as Kl,b as is,ba as Dt,bb as cs,bc as us,c as re,ca as Vl,cb as ur,cc as sc,da as Fl,db as U,dc as ac,e as vl,eb as Vt,fa as Ye,fb as Wn,g as os,gb as at,gc as lc,ha as Bl,ib as zl,j as ot,ja as Vr,jc as cc,k as Nl,kc as dc,l as Vn,lc as uc,n as Cl,na as P,nc as Zn,oa as kl,ob as jl,oc as mr,p as ar,pa as Yn,pb as Re,pc,q as ne,qa as Ke,qb as je,qc as ps,rb as ds,rc as Jn,sa as Gl,t as Fn,ta as Hl,tb as Fr,u as Bn,ub as Br,v as ss,va as z,w as Ml,wa as Te,wb as qn,x as Pl,xa as Lt,xc as ms,yc as qe,z as Dl,za as Yl}from"./chunk-5X472A7Y.js";import{a as Tt,c as xl,d as h,e as sr,f as Gf,g as ns,h as Hf}from"./chunk-VOSPIT4N.js";var bu,Ou=h(()=>{"use strict";bu=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var xu=h(()=>{"use strict";Ou()});var dt,$s=h(()=>{"use strict";dt="1.9.0"});function PE(r){var e=new Set([r]),t=new Set,n=r.match(vu);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(l){return l===r};function o(a){return t.add(a),!1}function s(a){return e.add(a),!0}return function(l){if(e.has(l))return!0;if(t.has(l))return!1;var c=l.match(vu);if(!c)return o(l);var d={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return d.prerelease!=null||i.major!==d.major?o(l):i.major===0?i.minor===d.minor&&i.patch<=d.patch?s(l):o(l):i.minor<=d.minor?s(l):o(l)}}var vu,Nu,Cu=h(()=>{"use strict";$s();vu=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;Nu=PE(dt)});function Xe(r,e,t,n){var i;n===void 0&&(n=!1);var o=$r[Xr]=(i=$r[Xr])!==null&&i!==void 0?i:{version:dt};if(!n&&o[r]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return t.error(s.stack||s.message),!1}if(o.version!==dt){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+r+" does not match previously registered API v"+dt);return t.error(s.stack||s.message),!1}return o[r]=e,t.debug("@opentelemetry/api: Registered a global for "+r+" v"+dt+"."),!0}function Se(r){var e,t,n=(e=$r[Xr])===null||e===void 0?void 0:e.version;if(!(!n||!Nu(n)))return(t=$r[Xr])===null||t===void 0?void 0:t[r]}function $e(r,e){e.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+dt+".");var t=$r[Xr];t&&delete t[r]}var DE,Xr,$r,Ht=h(()=>{"use strict";xu();$s();Cu();DE=dt.split(".")[0],Xr=Symbol.for("opentelemetry.js.api."+DE),$r=bu});function Zr(r,e,t){var n=Se("diag");if(n)return t.unshift(e),n[r].apply(n,IE([],LE(t),!1))}var LE,IE,Mu,Pu=h(()=>{"use strict";Ht();LE=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},IE=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Mu=function(){function r(e){this._namespace=e.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zr("debug",this._namespace,e)},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zr("error",this._namespace,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zr("info",this._namespace,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zr("warn",this._namespace,e)},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zr("verbose",this._namespace,e)},r}()});var V,Li=h(()=>{"use strict";V=function(r){return r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL",r}(V||{})});function Du(r,e){r<V.NONE?r=V.NONE:r>V.ALL&&(r=V.ALL),e=e||{};function t(n,i){var o=e[n];return typeof o=="function"&&r>=i?o.bind(e):function(){}}return{error:t("error",V.ERROR),warn:t("warn",V.WARN),info:t("info",V.INFO),debug:t("debug",V.DEBUG),verbose:t("verbose",V.VERBOSE)}}var Lu=h(()=>{"use strict";Li()});var wE,UE,VE,Z,Yt=h(()=>{"use strict";Pu();Lu();Li();Ht();wE=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},UE=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},VE="diag",Z=function(){function r(){function e(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=Se("diag");if(a)return a[i].apply(a,UE([],wE(o),!1))}}var t=this,n=function(i,o){var s,a,l;if(o===void 0&&(o={logLevel:V.INFO}),i===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var d=Se("diag"),u=Du((a=o.logLevel)!==null&&a!==void 0?a:V.INFO,i);if(d&&!o.suppressOverrideMessage){var f=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+f),u.warn("Current logger will overwrite one already registered from "+f)}return Xe("diag",u,t,!0)};t.setLogger=n,t.disable=function(){$e(VE,t)},t.createComponentLogger=function(i){return new Mu(i)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r}()});var FE,BE,Iu,wu=h(()=>{"use strict";FE=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},BE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Iu=function(){function r(e){this._entries=e?new Map(e):new Map}return r.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=FE(e,2),n=t[0],i=t[1];return[n,i]})},r.prototype.setEntry=function(e,t){var n=new r(this._entries);return n._entries.set(e,t),n},r.prototype.removeEntry=function(e){var t=new r(this._entries);return t._entries.delete(e),t},r.prototype.removeEntries=function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=new r(this._entries);try{for(var s=BE(n),a=s.next();!a.done;a=s.next()){var l=a.value;o._entries.delete(l)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o},r.prototype.clear=function(){return new r},r}()});var Uu,Vu=h(()=>{"use strict";Uu=Symbol("BaggageEntryMetadata")});function Fu(r){return r===void 0&&(r={}),new Iu(new Map(Object.entries(r)))}function Jr(r){return typeof r!="string"&&(kE.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:Uu,toString:function(){return r}}}var kE,Zs=h(()=>{"use strict";Yt();wu();Vu();kE=Z.instance()});function we(r){return Symbol.for(r)}var GE,ut,en=h(()=>{"use strict";GE=function(){function r(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(n){return t._currentContext.get(n)},t.setValue=function(n,i){var o=new r(t._currentContext);return o._currentContext.set(n,i),o},t.deleteValue=function(n){var i=new r(t._currentContext);return i._currentContext.delete(n),i}}return r}(),ut=new GE});var Kt,HE,Ii,YE,KE,zE,jE,Js,WE,qE,QE,Bu,XE,$E,ZE,JE,eT,tT,rT,ku=h(()=>{"use strict";Kt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HE=function(){function r(){}return r.prototype.createGauge=function(e,t){return $E},r.prototype.createHistogram=function(e,t){return ZE},r.prototype.createCounter=function(e,t){return XE},r.prototype.createUpDownCounter=function(e,t){return JE},r.prototype.createObservableGauge=function(e,t){return tT},r.prototype.createObservableCounter=function(e,t){return eT},r.prototype.createObservableUpDownCounter=function(e,t){return rT},r.prototype.addBatchObservableCallback=function(e,t){},r.prototype.removeBatchObservableCallback=function(e){},r}(),Ii=function(){function r(){}return r}(),YE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,n){},e}(Ii),KE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,n){},e}(Ii),zE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,n){},e}(Ii),jE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,n){},e}(Ii),Js=function(){function r(){}return r.prototype.addCallback=function(e){},r.prototype.removeCallback=function(e){},r}(),WE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Js),qE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Js),QE=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Js),Bu=new HE,XE=new YE,$E=new zE,ZE=new jE,JE=new KE,eT=new WE,tT=new qE,rT=new QE});var Gu,Hu,Yu=h(()=>{"use strict";Gu={get:function(r,e){if(r!=null)return r[e]},keys:function(r){return r==null?[]:Object.keys(r)}},Hu={set:function(r,e,t){r!=null&&(r[e]=t)}}});var nT,iT,Ku,zu=h(()=>{"use strict";en();nT=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},iT=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},Ku=function(){function r(){}return r.prototype.active=function(){return ut},r.prototype.with=function(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return t.call.apply(t,iT([n],nT(i),!1))},r.prototype.bind=function(e,t){return t},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r}()});var oT,sT,ea,aT,At,tn=h(()=>{"use strict";zu();Ht();Yt();oT=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},sT=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))},ea="context",aT=new Ku,At=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(e){return Xe(ea,e,Z.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(e,t,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,sT([e,t,n],oT(o),!1))},r.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},r.prototype._getContextManager=function(){return Se(ea)||aT},r.prototype.disable=function(){this._getContextManager().disable(),$e(ea,Z.instance())},r}()});var J,ta=h(()=>{"use strict";J=function(r){return r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED",r}(J||{})});var wi,Ui,rn,Vi=h(()=>{"use strict";ta();wi="0000000000000000",Ui="00000000000000000000000000000000",rn={traceId:Ui,spanId:wi,traceFlags:J.NONE}});var yt,Fi=h(()=>{"use strict";Vi();yt=function(){function r(e){e===void 0&&(e=rn),this._spanContext=e}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return this},r.prototype.setAttributes=function(e){return this},r.prototype.addEvent=function(e,t){return this},r.prototype.addLink=function(e){return this},r.prototype.addLinks=function(e){return this},r.prototype.setStatus=function(e){return this},r.prototype.updateName=function(e){return this},r.prototype.end=function(e){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(e,t){},r}()});function Bi(r){return r.getValue(ra)||void 0}function ju(){return Bi(At.getInstance().active())}function nn(r,e){return r.setValue(ra,e)}function Wu(r){return r.deleteValue(ra)}function qu(r,e){return nn(r,new yt(e))}function ki(r){var e;return(e=Bi(r))===null||e===void 0?void 0:e.spanContext()}var ra,na=h(()=>{"use strict";en();Fi();tn();ra=we("OpenTelemetry Context Key SPAN")});function Gi(r){return lT.test(r)&&r!==Ui}function Qu(r){return cT.test(r)&&r!==wi}function Ue(r){return Gi(r.traceId)&&Qu(r.spanId)}function Xu(r){return new yt(r)}var lT,cT,Hi=h(()=>{"use strict";Vi();Fi();lT=/^([0-9a-f]{32})$/i,cT=/^[0-9a-f]{16}$/i});function dT(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var ia,Yi,oa=h(()=>{"use strict";tn();na();Fi();Hi();ia=At.getInstance(),Yi=function(){function r(){}return r.prototype.startSpan=function(e,t,n){n===void 0&&(n=ia.active());var i=!!t?.root;if(i)return new yt;var o=n&&ki(n);return dT(o)&&Ue(o)?new yt(o):new yt},r.prototype.startActiveSpan=function(e,t,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=t:arguments.length===3?(o=t,a=n):(o=t,s=n,a=i);var l=s??ia.active(),c=this.startSpan(e,o,l),d=nn(l,c);return ia.with(d,a,void 0,c)}},r}()});var uT,$u,Zu=h(()=>{"use strict";oa();uT=new Yi,$u=function(){function r(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}return r.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},r.prototype.startActiveSpan=function(e,t,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):uT},r}()});var Ju,ep=h(()=>{"use strict";oa();Ju=function(){function r(){}return r.prototype.getTracer=function(e,t,n){return new Yi},r}()});var pT,sa,tp=h(()=>{"use strict";Zu();ep();pT=new Ju,sa=function(){function r(){}return r.prototype.getTracer=function(e,t,n){var i;return(i=this.getDelegateTracer(e,t,n))!==null&&i!==void 0?i:new $u(this,e,t,n)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:pT},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateTracer=function(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,t,n)},r}()});var on,rp=h(()=>{"use strict";on=function(r){return r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",r}(on||{})});var Ze,np=h(()=>{"use strict";Ze=function(r){return r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER",r}(Ze||{})});var Ve,ip=h(()=>{"use strict";Ve=function(r){return r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR",r}(Ve||{})});var C,op=h(()=>{"use strict";tn();C=At.getInstance()});var S,sp=h(()=>{"use strict";Yt();S=Z.instance()});var mT,ap,lp=h(()=>{"use strict";ku();mT=function(){function r(){}return r.prototype.getMeter=function(e,t,n){return Bu},r}(),ap=new mT});var aa,cp,dp=h(()=>{"use strict";lp();Ht();Yt();aa="metrics",cp=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(e){return Xe(aa,e,Z.instance())},r.prototype.getMeterProvider=function(){return Se(aa)||ap},r.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},r.prototype.disable=function(){$e(aa,Z.instance())},r}()});var sn,up=h(()=>{"use strict";dp();sn=cp.getInstance()});var pp,mp=h(()=>{"use strict";pp=function(){function r(){}return r.prototype.inject=function(e,t){},r.prototype.extract=function(e,t){return e},r.prototype.fields=function(){return[]},r}()});function ca(r){return r.getValue(la)||void 0}function _p(){return ca(At.getInstance().active())}function fp(r,e){return r.setValue(la,e)}function hp(r){return r.deleteValue(la)}var la,Ep=h(()=>{"use strict";tn();en();la=we("OpenTelemetry Baggage Key")});var da,_T,Tp,Sp=h(()=>{"use strict";Ht();mp();Yu();Ep();Zs();Yt();da="propagation",_T=new pp,Tp=function(){function r(){this.createBaggage=Fu,this.getBaggage=ca,this.getActiveBaggage=_p,this.setBaggage=fp,this.deleteBaggage=hp}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(e){return Xe(da,e,Z.instance())},r.prototype.inject=function(e,t,n){return n===void 0&&(n=Hu),this._getGlobalPropagator().inject(e,t,n)},r.prototype.extract=function(e,t,n){return n===void 0&&(n=Gu),this._getGlobalPropagator().extract(e,t,n)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){$e(da,Z.instance())},r.prototype._getGlobalPropagator=function(){return Se(da)||_T},r}()});var G,gp=h(()=>{"use strict";Sp();G=Tp.getInstance()});var ua,Ap,yp=h(()=>{"use strict";Ht();tp();Hi();na();Yt();ua="trace",Ap=function(){function r(){this._proxyTracerProvider=new sa,this.wrapSpanContext=Xu,this.isSpanContextValid=Ue,this.deleteSpan=Wu,this.getSpan=Bi,this.getActiveSpan=ju,this.getSpanContext=ki,this.setSpan=nn,this.setSpanContext=qu}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(e){var t=Xe(ua,this._proxyTracerProvider,Z.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},r.prototype.getTracerProvider=function(){return Se(ua)||this._proxyTracerProvider},r.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},r.prototype.disable=function(){$e(ua,Z.instance()),this._proxyTracerProvider=new sa},r}()});var M,Rp=h(()=>{"use strict";yp();M=Ap.getInstance()});var x=h(()=>{"use strict";Zs();en();Li();rp();np();ip();ta();Hi();Vi();op();sp();up();gp();Rp()});var Dp=h(()=>{"use strict"});var Lp=h(()=>{"use strict";Dp()});var RT,Ip,wp=h(()=>{"use strict";RT="deployment.environment",Ip=RT});var Up=h(()=>{"use strict";wp()});var dn,Wi,Vp,qi,Qi,Xi,$i,Zi,Ji,eo,Fp,Wt,to,qt,Qt,ro,Bp,kp=h(()=>{"use strict";dn="error.type",Wi="exception.message",Vp="exception.stacktrace",qi="exception.type",Qi="http.request.method",Xi="http.request.method_original",$i="http.response.status_code",Zi="server.address",Ji="server.port",eo="service.name",Fp="service.version",Wt="telemetry.sdk.language",to="webjs",qt="telemetry.sdk.name",Qt="telemetry.sdk.version",ro="url.full",Bp="user_agent.original"});var Gp=h(()=>{"use strict"});var Hp=h(()=>{"use strict"});var Rt=h(()=>{"use strict";Lp();Up();kp();Gp();Hp()});var im=sr(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.toAnyValue=xe.toKeyValue=xe.toAttributes=xe.createInstrumentationScope=xe.createResource=void 0;function JT(r){return{attributes:nm(r.attributes),droppedAttributesCount:0}}xe.createResource=JT;function eS(r){return{name:r.name,version:r.version}}xe.createInstrumentationScope=eS;function nm(r){return Object.keys(r).map(e=>ga(e,r[e]))}xe.toAttributes=nm;function ga(r,e){return{key:r,value:Aa(e)}}xe.toKeyValue=ga;function Aa(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(Aa)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,n])=>ga(t,n))}}:{}}xe.toAnyValue=Aa});function _o(r){return r.setValue(ya,!0)}function om(r){return r.deleteValue(ya)}function yr(r){return r.getValue(ya)===!0}var ya,_n=h(()=>{"use strict";x();ya=we("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var sm,fo,Rr,ho,Ra=h(()=>{"use strict";sm="=",fo=";",Rr=",",ho="baggage"});function am(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?Rr:""}${t}`;return n.length>8192?e:n},"")}function lm(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=fo+t.metadata.toString()),n})}function ba(r){let e=r.split(fo);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.indexOf(sm);if(n<=0)return;let i=decodeURIComponent(t.substring(0,n).trim()),o=decodeURIComponent(t.substring(n+1).trim()),s;return e.length>0&&(s=Jr(e.join(fo))),{key:i,value:o,metadata:s}}function cm(r){let e={};return typeof r=="string"&&r.length>0&&r.split(Rr).forEach(t=>{let n=ba(t);n!==void 0&&n.value.length>0&&(e[n.key]=n.value)}),e}var Oa=h(()=>{"use strict";x();Ra()});var Eo,dm=h(()=>{"use strict";x();_n();Ra();Oa();Eo=class{inject(e,t,n){let i=G.getBaggage(e);if(!i||yr(e))return;let o=lm(i).filter(a=>a.length<=4096).slice(0,180),s=am(o);s.length>0&&n.set(t,ho,s)}extract(e,t,n){let i=n.get(t,ho),o=Array.isArray(i)?i.join(Rr):i;if(!o)return e;let s={};return o.length===0||(o.split(Rr).forEach(l=>{let c=ba(l);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),s[c.key]=d}}),Object.entries(s).length===0)?e:G.setBaggage(e,G.createBaggage(s))}fields(){return[ho]}}});var To,um=h(()=>{"use strict";To=class{_monotonicClock;_epochMillis;_performanceMillis;constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function pm(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!iS(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!xa(n)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}function iS(r){return typeof r=="string"&&r.length>0}function xa(r){return r==null?!0:Array.isArray(r)?oS(r):mm(r)}function oS(r){let e;for(let t of r)if(t!=null){if(!e){if(mm(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function mm(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var _m=h(()=>{"use strict";x()});function So(){return r=>{S.error(sS(r))}}function sS(r){return typeof r=="string"?r:JSON.stringify(aS(r))}function aS(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}var va=h(()=>{"use strict";x()});function hm(r){fm=r}function Em(r){try{fm(r)}catch{}}var fm,Tm=h(()=>{"use strict";va();fm=So()});function Na(r){}function Ca(r){}function Ma(r){}function Pa(r){}var Sm=h(()=>{"use strict"});var Da,gm=h(()=>{"use strict";Da=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var Zt,Am=h(()=>{"use strict";Zt=performance});var ym,Rm=h(()=>{"use strict";ym="2.0.1"});var bm,Om=h(()=>{"use strict";bm="process.runtime.name"});var La,xm=h(()=>{"use strict";Rm();Rt();Om();La={[qt]:"opentelemetry",[bm]:"browser",[Wt]:to,[Qt]:ym}});function Ia(r){}var vm=h(()=>{"use strict"});var wa=h(()=>{"use strict";Sm();gm();Am();xm();vm()});function br(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*cS);return[t,n]}function Ao(){let r=Zt.timeOrigin;if(typeof r!="number"){let e=Zt;r=e.timing&&e.timing.fetchStart}return r}function Ua(r){let e=br(Ao()),t=br(typeof r=="number"?r:Zt.now());return Va(e,t)}function Cm(r){if(yo(r))return r;if(typeof r=="number")return r<Ao()?Ua(r):br(r);if(r instanceof Date)return br(r.getTime());throw TypeError("Invalid input type")}function Mm(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=go),[t,n]}function Pm(r){let e=Nm,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substring(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}function Dm(r){return r[0]*go+r[1]}function Lm(r){return r[0]*1e3+r[1]/1e6}function Im(r){return r[0]*1e6+r[1]/1e3}function yo(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function wm(r){return yo(r)||typeof r=="number"||r instanceof Date}function Va(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=go&&(t[1]-=go,t[0]+=1),t}var Nm,lS,cS,go,Um=h(()=>{"use strict";wa();Nm=9,lS=6,cS=Math.pow(10,lS),go=Math.pow(10,Nm)});var Fa,Vm=h(()=>{"use strict";Fa=function(r){return r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r}(Fa||{})});var Ro,Fm=h(()=>{"use strict";x();Ro=class{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(t=>typeof t.fields=="function"?t.fields():[]).reduce((t,n)=>t.concat(n),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(o){S.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(e,t,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,t,n)}catch(s){S.warn(`Failed to extract with ${o.constructor.name}. Err: ${s.message}`)}return i},e)}fields(){return this._fields.slice()}}});function Bm(r){return pS.test(r)}function km(r){return mS.test(r)&&!_S.test(r)}var Ba,dS,uS,pS,mS,_S,Gm=h(()=>{"use strict";Ba="[_0-9a-z-*/]",dS=`[a-z]${Ba}{0,255}`,uS=`[a-z0-9]${Ba}{0,240}@[a-z]${Ba}{0,13}`,pS=new RegExp(`^(?:${dS}|${uS})$`),mS=/^[ -~]{0,255}[!-~]$/,_S=/,|=/});var Hm,fS,Ym,Km,Or,ka=h(()=>{"use strict";Gm();Hm=32,fS=512,Ym=",",Km="=",Or=class r{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+Km+this.get(t)),e),[]).join(Ym)}_parse(e){e.length>fS||(this._internalState=e.split(Ym).reverse().reduce((t,n)=>{let i=n.trim(),o=i.indexOf(Km);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);Bm(s)&&km(a)&&t.set(s,a)}return t},new Map),this._internalState.size>Hm&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Hm))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function Ga(r){let e=AS.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var fn,hn,hS,ES,TS,SS,gS,AS,bo,zm=h(()=>{"use strict";x();_n();ka();fn="traceparent",hn="tracestate",hS="00",ES="(?!ff)[\\da-f]{2}",TS="(?![0]{32})[\\da-f]{32}",SS="(?![0]{16})[\\da-f]{16}",gS="[\\da-f]{2}",AS=new RegExp(`^\\s?(${ES})-(${TS})-(${SS})-(${gS})(-.*)?\\s?$`);bo=class{inject(e,t,n){let i=M.getSpanContext(e);if(!i||yr(e)||!Ue(i))return;let o=`${hS}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||J.NONE).toString(16)}`;n.set(t,fn,o),i.traceState&&n.set(t,hn,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,fn);if(!i)return e;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return e;let s=Ga(o);if(!s)return e;s.isRemote=!0;let a=n.get(t,hn);if(a){let l=Array.isArray(a)?a.join(","):a;s.traceState=new Or(typeof l=="string"?l:void 0)}return M.setSpanContext(e,s)}fields(){return[fn,hn]}}});function jm(r,e){return r.setValue(Ha,e)}function Wm(r){return r.deleteValue(Ha)}function qm(r){return r.getValue(Ha)}var Ha,Ya,Qm=h(()=>{"use strict";x();Ha=we("OpenTelemetry SDK Context Key RPC_METADATA"),Ya=function(r){return r.HTTP="http",r}(Ya||{})});function Ka(r){if(!NS(r)||CS(r)!==yS)return!1;let e=vS(r);if(e===null)return!0;let t=Zm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Xm.call(t)===xS}function NS(r){return r!=null&&typeof r=="object"}function CS(r){return r==null?r===void 0?bS:RS:Jt&&Jt in Object(r)?MS(r):PS(r)}function MS(r){let e=Zm.call(r,Jt),t=r[Jt],n=!1;try{r[Jt]=void 0,n=!0}catch{}let i=Jm.call(r);return n&&(e?r[Jt]=t:delete r[Jt]),i}function PS(r){return Jm.call(r)}var yS,RS,bS,OS,Xm,xS,vS,$m,Zm,Jt,Jm,e_=h(()=>{"use strict";yS="[object Object]",RS="[object Null]",bS="[object Undefined]",OS=Function.prototype,Xm=OS.toString,xS=Xm.call(Object),vS=Object.getPrototypeOf,$m=Object.prototype,Zm=$m.hasOwnProperty,Jt=Symbol?Symbol.toStringTag:void 0,Jm=$m.toString});function r_(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=n_(e,r.shift(),0,t);return e}function za(r){return xo(r)?r.slice():r}function n_(r,e,t=0,n){let i;if(!(t>DS)){if(t++,Oo(r)||Oo(e)||i_(e))i=za(e);else if(xo(r)){if(i=r.slice(),xo(e))for(let o=0,s=e.length;o<s;o++)i.push(za(e[o]));else if(En(e)){let o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){let l=o[s];i[l]=za(e[l])}}}else if(En(r))if(En(e)){if(!LS(r,e))return e;i=Object.assign({},r);let o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=e[l];if(Oo(c))typeof c>"u"?delete i[l]:i[l]=c;else{let d=i[l],u=c;if(t_(r,l,n)||t_(e,l,n))delete i[l];else{if(En(d)&&En(u)){let f=n.get(d)||[],_=n.get(u)||[];f.push({obj:r,key:l}),_.push({obj:e,key:l}),n.set(d,f),n.set(u,_)}i[l]=n_(i[l],c,t,n)}}}}else i=e;return i}}function t_(r,e,t){let n=t.get(r[e])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===e&&s.obj===r)return!0}return!1}function xo(r){return Array.isArray(r)}function i_(r){return typeof r=="function"}function En(r){return!Oo(r)&&!xo(r)&&!i_(r)&&typeof r=="object"}function Oo(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function LS(r,e){return!(!Ka(r)||!Ka(e))}var DS,o_=h(()=>{"use strict";e_();DS=20});function s_(r,e){let t,n=new Promise(function(o,s){t=setTimeout(function(){s(new Tn("Operation timed out."))},e)});return Promise.race([r,n]).then(i=>(clearTimeout(t),i),i=>{throw clearTimeout(t),i})}var Tn,a_=h(()=>{"use strict";Tn=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});function ja(r,e){return typeof e=="string"?r===e:!!r.match(e)}function l_(r,e){if(!e)return!1;for(let t of e)if(ja(r,t))return!0;return!1}var c_=h(()=>{"use strict"});var vo,d_=h(()=>{"use strict";vo=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var No,u_=h(()=>{"use strict";d_();No=class{_callback;_that;_isCalled=!1;_deferred=new vo;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function m_(r){if(r==null)return;let e=p_[r.toUpperCase()];return e??(S.warn(`Unknown log level "${r}", expected one of ${Object.keys(p_)}, using default`),V.INFO)}var p_,__=h(()=>{"use strict";x();p_={ALL:V.ALL,VERBOSE:V.VERBOSE,DEBUG:V.DEBUG,INFO:V.INFO,WARN:V.WARN,ERROR:V.ERROR,NONE:V.NONE}});function f_(r,e){return new Promise(t=>{C.with(_o(C.active()),()=>{r.export(e,n=>{t(n)})})})}var h_=h(()=>{"use strict";x();_n()});var E_={};Gf(E_,{AnchoredClock:()=>To,BindOnceFuture:()=>No,CompositePropagator:()=>Ro,ExportResultCode:()=>Fa,RPCType:()=>Ya,SDK_INFO:()=>La,TRACE_PARENT_HEADER:()=>fn,TRACE_STATE_HEADER:()=>hn,TimeoutError:()=>Tn,TraceState:()=>Or,W3CBaggagePropagator:()=>Eo,W3CTraceContextPropagator:()=>bo,_globalThis:()=>Da,addHrTimes:()=>Va,callWithTimeout:()=>s_,deleteRPCMetadata:()=>Wm,diagLogLevelFromString:()=>m_,getBooleanFromEnv:()=>Ca,getNumberFromEnv:()=>Ma,getRPCMetadata:()=>qm,getStringFromEnv:()=>Na,getStringListFromEnv:()=>Pa,getTimeOrigin:()=>Ao,globalErrorHandler:()=>Em,hrTime:()=>Ua,hrTimeDuration:()=>Mm,hrTimeToMicroseconds:()=>Im,hrTimeToMilliseconds:()=>Lm,hrTimeToNanoseconds:()=>Dm,hrTimeToTimeStamp:()=>Pm,internal:()=>IS,isAttributeValue:()=>xa,isTimeInput:()=>wm,isTimeInputHrTime:()=>yo,isTracingSuppressed:()=>yr,isUrlIgnored:()=>l_,loggingErrorHandler:()=>So,merge:()=>r_,millisToHrTime:()=>br,otperformance:()=>Zt,parseKeyPairsIntoRecord:()=>cm,parseTraceParent:()=>Ga,sanitizeAttributes:()=>pm,setGlobalErrorHandler:()=>hm,setRPCMetadata:()=>jm,suppressTracing:()=>_o,timeInputToHrTime:()=>Cm,unrefTimer:()=>Ia,unsuppressTracing:()=>om,urlMatches:()=>ja});var IS,T_=h(()=>{"use strict";dm();um();_m();Tm();va();Um();Vm();Oa();wa();Fm();zm();Qm();_n();ka();o_();a_();c_();u_();__();h_();IS={_export:f_}});var g_=sr(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.hexToBinary=void 0;function S_(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function wS(r){let e=new Uint8Array(r.length/2),t=0;for(let n=0;n<r.length;n+=2){let i=S_(r.charCodeAt(n)),o=S_(r.charCodeAt(n+1));e[t++]=i<<4|o}return e}Co.hexToBinary=wS});var O_=sr(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.getOtlpEncoder=ve.encodeAsString=ve.encodeAsLongBits=ve.toLongBits=ve.hrTimeToNanos=void 0;var US=(T_(),Hf(E_)),Wa=g_();function qa(r){let e=BigInt(1e9);return BigInt(r[0])*e+BigInt(r[1])}ve.hrTimeToNanos=qa;function y_(r){let e=Number(BigInt.asUintN(32,r)),t=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:e,high:t}}ve.toLongBits=y_;function Qa(r){let e=qa(r);return y_(e)}ve.encodeAsLongBits=Qa;function R_(r){return qa(r).toString()}ve.encodeAsString=R_;var VS=typeof BigInt<"u"?R_:US.hrTimeToNanoseconds;function A_(r){return r}function b_(r){if(r!==void 0)return(0,Wa.hexToBinary)(r)}var FS={encodeHrTime:Qa,encodeSpanContext:Wa.hexToBinary,encodeOptionalSpanContext:b_};function BS(r){if(r===void 0)return FS;let e=r.useLongBits??!0,t=r.useHex??!1;return{encodeHrTime:e?Qa:VS,encodeSpanContext:t?A_:Wa.hexToBinary,encodeOptionalSpanContext:t?A_:b_}}ve.getOtlpEncoder=BS});var C_=sr(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.createExportTraceServiceRequest=et.toOtlpSpanEvent=et.toOtlpLink=et.sdkSpanToOtlpSpan=void 0;var Sn=im(),kS=O_();function x_(r,e){let t=r.spanContext(),n=r.status,i=r.parentSpanContext?.spanId?e.encodeSpanContext(r.parentSpanContext?.spanId):void 0;return{traceId:e.encodeSpanContext(t.traceId),spanId:e.encodeSpanContext(t.spanId),parentSpanId:i,traceState:t.traceState?.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:e.encodeHrTime(r.startTime),endTimeUnixNano:e.encodeHrTime(r.endTime),attributes:(0,Sn.toAttributes)(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(o=>N_(o,e)),droppedEventsCount:r.droppedEventsCount,status:{code:n.code,message:n.message},links:r.links.map(o=>v_(o,e)),droppedLinksCount:r.droppedLinksCount}}et.sdkSpanToOtlpSpan=x_;function v_(r,e){return{attributes:r.attributes?(0,Sn.toAttributes)(r.attributes):[],spanId:e.encodeSpanContext(r.context.spanId),traceId:e.encodeSpanContext(r.context.traceId),traceState:r.context.traceState?.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}et.toOtlpLink=v_;function N_(r,e){return{attributes:r.attributes?(0,Sn.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:e.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}et.toOtlpSpanEvent=N_;function GS(r,e){let t=(0,kS.getOtlpEncoder)(e);return{resourceSpans:YS(r,t)}}et.createExportTraceServiceRequest=GS;function HS(r){let e=new Map;for(let t of r){let n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));let i=`${t.instrumentationScope.name}@${t.instrumentationScope.version||""}:${t.instrumentationScope.schemaUrl||""}`,o=n.get(i);o||(o=[],n.set(i,o)),o.push(t)}return e}function YS(r,e){let t=HS(r),n=[],i=t.entries(),o=i.next();for(;!o.done;){let[s,a]=o.value,l=[],c=a.values(),d=c.next();for(;!d.done;){let f=d.value;if(f.length>0){let _=f.map(p=>x_(p,e));l.push({scope:(0,Sn.createInstrumentationScope)(f[0].instrumentationScope),spans:_,schemaUrl:f[0].instrumentationScope.schemaUrl})}d=c.next()}let u={resource:(0,Sn.createResource)(s),scopeSpans:l,schemaUrl:void 0};n.push(u),o=i.next()}return n}});var M_=sr(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.EStatusCode=Ot.ESpanKind=void 0;var KS;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(KS=Ot.ESpanKind||(Ot.ESpanKind={}));var zS;(function(r){r[r.STATUS_CODE_UNSET=0]="STATUS_CODE_UNSET",r[r.STATUS_CODE_OK=1]="STATUS_CODE_OK",r[r.STATUS_CODE_ERROR=2]="STATUS_CODE_ERROR"})(zS=Ot.EStatusCode||(Ot.EStatusCode={}))});var rf=sr(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.ATTR_HTTP_USER_AGENT=K.ATTR_HTTP_URL=K.ATTR_HTTP_STATUS_CODE=K.ATTR_HTTP_SCHEME=K.ATTR_HTTP_RESPONSE_CONTENT_LENGTH=K.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=K.ATTR_HTTP_REQUEST_BODY_SIZE=K.ATTR_HTTP_METHOD=K.ATTR_HTTP_HOST=void 0;K.ATTR_HTTP_HOST="http.host";K.ATTR_HTTP_METHOD="http.method";K.ATTR_HTTP_REQUEST_BODY_SIZE="http.request.body.size";K.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED="http.request_content_length_uncompressed";K.ATTR_HTTP_RESPONSE_CONTENT_LENGTH="http.response_content_length";K.ATTR_HTTP_SCHEME="http.scheme";K.ATTR_HTTP_STATUS_CODE="http.status_code";K.ATTR_HTTP_URL="http.url";K.ATTR_HTTP_USER_AGENT="http.user_agent"});var nd=[{path:"blog",loadChildren:()=>import("./chunk-KJYG2KL6.js")},{path:"query",loadChildren:()=>import("./chunk-VAMFDGWG.js")},{path:"",redirectTo:"blog",pathMatch:"full"}];var di=class extends Jl{serialize(e){return this._withTrailingSlash(super.serialize(e))}_withTrailingSlash(e){let t=e.indexOf("?")>-1?"?":"#",n=e.split(t);return n[0].endsWith("/")||e.substring(e.lastIndexOf("/")+1).indexOf(".")===-1&&(n[0]+="/"),n.join(t)}};var O=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(O||{}),De="*";function id(r,e=null){return{type:O.Sequence,steps:r,options:e}}function hs(r){return{type:O.Style,styles:r,offset:null}}var lt=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},fr=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(i)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Gr="!";function od(r){return new N(3e3,!1)}function Yf(){return new N(3100,!1)}function Kf(){return new N(3101,!1)}function zf(r){return new N(3001,!1)}function jf(r){return new N(3003,!1)}function Wf(r){return new N(3004,!1)}function ad(r,e){return new N(3005,!1)}function ld(){return new N(3006,!1)}function cd(){return new N(3007,!1)}function dd(r,e){return new N(3008,!1)}function ud(r){return new N(3002,!1)}function pd(r,e,t,n,i){return new N(3010,!1)}function md(){return new N(3011,!1)}function _d(){return new N(3012,!1)}function fd(){return new N(3200,!1)}function hd(){return new N(3202,!1)}function Ed(){return new N(3013,!1)}function Td(r){return new N(3014,!1)}function Sd(r){return new N(3015,!1)}function gd(r){return new N(3016,!1)}function Ad(r,e){return new N(3404,!1)}function qf(r){return new N(3502,!1)}function yd(r){return new N(3503,!1)}function Rd(){return new N(3300,!1)}function bd(r){return new N(3504,!1)}function Od(r){return new N(3301,!1)}function xd(r,e){return new N(3302,!1)}function vd(r){return new N(3303,!1)}function Nd(r,e){return new N(3400,!1)}function Cd(r){return new N(3401,!1)}function Md(r){return new N(3402,!1)}function Pd(r,e){return new N(3505,!1)}function ct(r){switch(r.length){case 0:return new lt;case 1:return r[0];default:return new fr(r)}}function gs(r,e,t=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),d=c==s,u=d&&a||new Map;l.forEach((f,_)=>{let p=_,E=f;if(_!=="offset")switch(p=r.normalizePropertyName(p,i),E){case Gr:E=t.get(_);break;case De:E=n.get(_);break;default:E=r.normalizeStyleValue(_,p,E,i);break}u.set(p,E)}),d||o.push(u),a=u,s=c}),i.length)throw qf(i);return o}function ui(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&Es(t,"start",r)));break;case"done":r.onDone(()=>n(t&&Es(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&Es(t,"destroy",r)));break}}function Es(r,e,t){let n=t.totalTime,i=!!t.disabled,o=pi(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,n??r.totalTime,i),s=r._data;return s!=null&&(o._data=s),o}function pi(r,e,t,n,i="",o=0,s){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function me(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function As(r){let e=r.indexOf(":"),t=r.substring(1,e),n=r.slice(e+1);return[t,n]}var Qf=typeof document>"u"?null:document.documentElement;function mi(r){let e=r.parentNode||r.host||null;return e===Qf?null:e}function Xf(r){return r.substring(1,6)=="ebkit"}var Ft=null,sd=!1;function Dd(r){Ft||(Ft=$f()||{},sd=Ft.style?"WebkitAppearance"in Ft.style:!1);let e=!0;return Ft.style&&!Xf(r)&&(e=r in Ft.style,!e&&sd&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ft.style)),e}function $f(){return typeof document<"u"?document.body:null}function ys(r,e){for(;e;){if(e===r)return!0;e=mi(e)}return!1}function Rs(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let n=r.querySelector(e);return n?[n]:[]}var Zf=1e3,bs="{{",Jf="}}",Os="ng-enter",_i="ng-leave",Hr="ng-trigger",Yr=".ng-trigger",xs="ng-animating",fi=".ng-animating";function Qe(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ts(parseFloat(e[1]),e[2])}function Ts(r,e){switch(e){case"s":return r*Zf;default:return r}}function Kr(r,e,t){return r.hasOwnProperty("duration")?r:eh(r,e,t)}function eh(r,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof r=="string"){let a=r.match(n);if(a===null)return e.push(od(r)),{duration:0,delay:0,easing:""};i=Ts(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Ts(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=r;if(!t){let a=!1,l=e.length;i<0&&(e.push(Yf()),a=!0),o<0&&(e.push(Kf()),a=!0),a&&e.splice(l,0,od(r))}return{duration:i,delay:o,easing:s}}function Ld(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function Le(r,e,t){e.forEach((n,i)=>{let o=hi(i);t&&!t.has(i)&&t.set(i,r.style[o]),r.style[o]=n})}function gt(r,e){e.forEach((t,n)=>{let i=hi(n);r.style[i]=""})}function hr(r){return Array.isArray(r)?r.length==1?r[0]:id(r):r}function Id(r,e,t){let n=e.params||{},i=vs(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||t.push(zf(o))})}var Ss=new RegExp(`${bs}\\s*(.+?)\\s*${Jf}`,"g");function vs(r){let e=[];if(typeof r=="string"){let t;for(;t=Ss.exec(r);)e.push(t[1]);Ss.lastIndex=0}return e}function Er(r,e,t){let n=`${r}`,i=n.replace(Ss,(o,s)=>{let a=e[s];return a==null&&(t.push(jf(s)),a=""),a.toString()});return i==n?r:i}var th=/-+([a-z0-9])/g;function hi(r){return r.replace(th,(...e)=>e[1].toUpperCase())}function wd(r,e){return r===0||e===0}function Ud(r,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Ei(r,a)))}}return e}function _e(r,e,t){switch(e.type){case O.Trigger:return r.visitTrigger(e,t);case O.State:return r.visitState(e,t);case O.Transition:return r.visitTransition(e,t);case O.Sequence:return r.visitSequence(e,t);case O.Group:return r.visitGroup(e,t);case O.Animate:return r.visitAnimate(e,t);case O.Keyframes:return r.visitKeyframes(e,t);case O.Style:return r.visitStyle(e,t);case O.Reference:return r.visitReference(e,t);case O.AnimateChild:return r.visitAnimateChild(e,t);case O.AnimateRef:return r.visitAnimateRef(e,t);case O.Query:return r.visitQuery(e,t);case O.Stagger:return r.visitStagger(e,t);default:throw Wf(e.type)}}function Ei(r,e){return window.getComputedStyle(r)[e]}var Ks=(()=>{class r{validateStyleProperty(t){return Dd(t)}containsElement(t,n){return ys(t,n)}getParentElement(t){return mi(t)}query(t,n,i){return Rs(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,o,s,a=[],l){return new lt(i,o)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=cr({token:r,factory:r.\u0275fac})}return r})(),kt=class{static NOOP=new Ks},Gt=class{};var rh=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yi=class extends Gt{normalizePropertyName(e,t){return hi(e)}normalizeStyleValue(e,t,n,i){let o="",s=n.toString().trim();if(rh.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(ad(e,n))}return s+o}};var Ri="*";function nh(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>ih(n,t,e)):t.push(r),t}function ih(r,e,t){if(r[0]==":"){let l=oh(r,t);if(typeof l=="function"){e.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(Sd(r)),e;let i=n[1],o=n[2],s=n[3];e.push(Vd(i,s));let a=i==Ri&&s==Ri;o[0]=="<"&&!a&&e.push(Vd(s,i))}function oh(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(gd(r)),"* => *"}}var Ti=new Set(["true","1"]),Si=new Set(["false","0"]);function Vd(r,e){let t=Ti.has(r)||Si.has(r),n=Ti.has(e)||Si.has(e);return(i,o)=>{let s=r==Ri||r==i,a=e==Ri||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Ti.has(r):Si.has(r)),!a&&n&&typeof o=="boolean"&&(a=o?Ti.has(e):Si.has(e)),s&&a}}var Wd=":self",sh=new RegExp(`s*${Wd}s*,?`,"g");function qd(r,e,t,n){return new Ls(r).build(e,t,n)}var Fd="",Ls=class{_driver;constructor(e){this._driver=e}build(e,t,n){let i=new Is(t);return this._resetContextStyleTimingState(i),_e(this,hr(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Fd,e.collectedStyles=new Map,e.collectedStyles.set(Fd,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(ld()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==O.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==O.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(cd())}),{type:O.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{vs(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(dd(e.name,[...o.values()]))}return{type:O.State,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=_e(this,hr(e.animation),t),i=nh(e.expr,t.errors);return{type:O.Transition,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Bt(e.options)}}visitSequence(e,t){return{type:O.Sequence,steps:e.steps.map(n=>_e(this,n,t)),options:Bt(e.options)}}visitGroup(e,t){let n=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=n;let a=_e(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:O.Group,steps:o,options:Bt(e.options)}}visitAnimate(e,t){let n=dh(e.timings,t.errors);t.currentAnimateTimings=n;let i,o=e.styles?e.styles:hs({});if(o.type==O.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=hs(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:O.Animate,timings:n,style:i,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===De?n.push(a):t.errors.push(ud(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(bs)>=0){o=!0;break}}}),{type:O.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l),u=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(pd(l,d.startTime,d.endTime,o,i)),u=!1),o=d.startTime),u&&c.set(l,{startTime:o,endTime:i}),t.options&&Id(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:O.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(md()),n;let i=1,o=0,s=[],a=!1,l=!1,c=0,d=e.steps.map(B=>{let I=this._makeStyleAst(B,t),W=I.offset!=null?I.offset:ch(I.styles),H=0;return W!=null&&(o++,H=I.offset=W),l=l||H<0||H>1,a=a||H<c,c=H,s.push(H),I});l&&t.errors.push(_d()),a&&t.errors.push(fd());let u=e.steps.length,f=0;o>0&&o<u?t.errors.push(hd()):o==0&&(f=i/(u-1));let _=u-1,p=t.currentTime,E=t.currentAnimateTimings,R=E.duration;return d.forEach((B,I)=>{let W=f>0?I==_?1:f*I:s[I],H=W*R;t.currentTime=p+E.delay+H,E.duration=H,this._validateStyleAst(B,t),B.offset=W,n.styles.push(B)}),n}visitReference(e,t){return{type:O.Reference,animation:_e(this,hr(e.animation),t),options:Bt(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:O.AnimateChild,options:Bt(e.options)}}visitAnimateRef(e,t){return{type:O.AnimateRef,animation:this.visitReference(e.animation,t),options:Bt(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=ah(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,me(t.collectedStyles,t.currentQuerySelector,new Map);let a=_e(this,hr(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:O.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Bt(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Ed());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Kr(e.timings,t.errors,!0);return{type:O.Stagger,animation:_e(this,hr(e.animation),t),timings:n,options:null}}};function ah(r){let e=!!r.split(/\s*,\s*/).find(t=>t==Wd);return e&&(r=r.replace(sh,"")),r=r.replace(/@\*/g,Yr).replace(/@\w+/g,t=>Yr+"-"+t.slice(1)).replace(/:animating/g,fi),[r,e]}function lh(r){return r?Tt({},r):null}var Is=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function ch(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function dh(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=Kr(r,e).duration;return Ns(o,0,"")}let t=r;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Ns(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Kr(t,e);return Ns(i.duration,i.delay,i.easing)}function Bt(r){return r?(r=Tt({},r),r.params&&(r.params=lh(r.params))):r={},r}function Ns(r,e,t){return{duration:r,delay:e,easing:t}}function zs(r,e,t,n,i,o,s=null,a=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var jr=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},uh=1,ph=":enter",mh=new RegExp(ph,"g"),_h=":leave",fh=new RegExp(_h,"g");function Qd(r,e,t,n,i,o=new Map,s=new Map,a,l,c=[]){return new ws().buildKeyframes(r,e,t,n,i,o,s,a,l,c)}var ws=class{buildKeyframes(e,t,n,i,o,s,a,l,c,d=[]){c=c||new jr;let u=new Us(e,t,c,i,o,d,[]);u.options=l;let f=l.delay?Qe(l.delay):0;u.currentTimeline.delayNextStep(f),u.currentTimeline.setStyles([s],null,u.errors,l),_e(this,n,u);let _=u.timelines.filter(p=>p.containsAnimation());if(_.length&&a.size){let p;for(let E=_.length-1;E>=0;E--){let R=_[E];if(R.element===t){p=R;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return _.length?_.map(p=>p.buildKeyframes()):[zs(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Qe(Er(o,i?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,s=n.duration!=null?Qe(n.duration):null,a=n.delay!=null?Qe(n.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),_e(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==O.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bi);let s=Qe(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>_e(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Qe(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),_e(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,i=t.params?Er(n,t.params,t.errors):n;return Kr(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());let o=e.style;o.type==O.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Qe(i.delay):0;o&&(t.previousNode.type===O.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bi);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;let u=t.createSubContext(e.options,c);o&&u.delayNextStep(o),c===t.element&&(l=u.currentTimeline),_e(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let f=u.currentTimeline.currentTime;s=Math.max(s,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let u=d.currentTime;_e(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}},bi={},Us=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=bi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Oi(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=Qe(n.duration)),n.delay!=null&&(i.delay=Qe(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Er(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){let i=t||this.element,o=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=bi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new Vs(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(mh,"."+this._enterClassName),e=e.replace(fh,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(Td(t)),a}},Oi=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=uh,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||De),this._currentKeyframe.set(t,De);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=hh(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Er(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??De),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,u)=>{d===Gr?e.add(u):d===De&&t.add(u)}),n||c.set("offset",l/this.duration),i.push(c)});let o=[...e.values()],s=[...t.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return zs(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Vs=class extends Oi{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",Bd(a)),o.push(c);let d=e.length-1;for(let u=1;u<=d;u++){let f=new Map(e[u]),_=f.get("offset"),p=t+_*n;f.set("offset",Bd(p/s)),o.push(f)}n=s,t=0,i="",e=o}return zs(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}};function Bd(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function hh(r,e){let t=new Map,n;return r.forEach(i=>{if(i==="*"){n??=e.keys();for(let o of n)t.set(o,De)}else for(let[o,s]of i)t.set(o,s)}),t}function kd(r,e,t,n,i,o,s,a,l,c,d,u,f){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:f}}var Cs={},xi=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return Eh(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,o,s,a,l,c,d){let u=[],f=this.ast.options&&this.ast.options.params||Cs,_=a&&a.params||Cs,p=this.buildStyles(n,_,u),E=l&&l.params||Cs,R=this.buildStyles(i,E,u),B=new Set,I=new Map,W=new Map,H=i==="void",ke={params:Xd(E,f),delay:this.ast.options?.delay},Ge=d?[]:Qd(e,t,this.ast.animation,o,s,p,R,ke,c,u),te=0;return Ge.forEach(le=>{te=Math.max(le.duration+le.delay,te)}),u.length?kd(t,this._triggerName,n,i,H,p,R,[],[],I,W,te,u):(Ge.forEach(le=>{let Nt=le.element,or=me(I,Nt,new Set);le.preStyleProps.forEach(Ct=>or.add(Ct));let yl=me(W,Nt,new Set);le.postStyleProps.forEach(Ct=>yl.add(Ct)),Nt!==t&&B.add(Nt)}),kd(t,this._triggerName,n,i,H,p,R,Ge,[...B.values()],I,W,te))}};function Eh(r,e,t,n,i){return r.some(o=>o(e,t,n,i))}function Xd(r,e){let t=Tt({},e);return Object.entries(r).forEach(([n,i])=>{i!=null&&(t[n]=i)}),t}var Fs=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,i=Xd(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Er(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s)})}),n}};function Th(r,e,t){return new Bs(r,e,t)}var Bs=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Fs(i.style,o,n))}),Gd(this.states,"true","1"),Gd(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new xi(e,i,this.states))}),this.fallbackTransition=Sh(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Sh(r,e,t){let n=[(s,a)=>!0],i={type:O.Sequence,steps:[],options:null},o={type:O.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new xi(r,o,e)}function Gd(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var gh=new jr,ks=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],i=[],o=qd(this._driver,t,n,i);if(n.length)throw yd(n);this._animations.set(e,o)}_buildPlayer(e,t,n){let i=e.element,o=gs(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=Qd(this._driver,t,o,Os,_i,new Map,new Map,n,gh,i),s.forEach(d=>{let u=me(a,d.element,new Map);d.postStyleProps.forEach(f=>u.set(f,null))})):(i.push(Rd()),s=[]),i.length)throw bd(i);a.forEach((d,u)=>{d.forEach((f,_)=>{d.set(_,this._driver.computeStyle(u,_,De))})});let l=s.map(d=>{let u=a.get(d.element);return this._buildPlayer(d,new Map,u)}),c=ct(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Od(e);return t}listen(e,t,n,i){let o=pi(t,"","","");return ui(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if(n=="register"){this.register(e,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Hd="ng-animate-queued",Ah=".ng-animate-queued",Ms="ng-animate-disabled",yh=".ng-animate-disabled",Rh="ng-star-inserted",bh=".ng-star-inserted",Oh=[],$d={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ie="__ng_removed",Wr=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=Nh(i),n){let o=e,{value:s}=o,a=xl(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(i=>{n[i]==null&&(n[i]=t[i])})}}},zr="void",Ps=new Wr(zr),Gs=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,be(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw xd(n,t);if(n==null||n.length==0)throw vd(t);if(!Ch(n))throw Nd(n,t);let o=me(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);let a=me(this._engine.statesByElement,e,new Map);return a.has(t)||(be(e,Hr),be(e,Hr+"-"+t),a.set(t,Ps)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Cd(e);return t}trigger(e,t,n,i=!0){let o=this._getTrigger(t),s=new qr(this.id,t,e),a=this._engine.statesByElement.get(e);a||(be(e,Hr),be(e,Hr+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Wr(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Ps),!(c.value===zr)&&l.value===c.value){if(!Dh(l.params,c.params)){let E=[],R=o.matchStyles(l.value,l.params,E),B=o.matchStyles(c.value,c.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{gt(e,R),Le(e,B)})}return}let f=me(this._engine.playersByElement,e,[]);f.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let _=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!_){if(!i)return;_=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(be(e,Hd),s.onStart(()=>{Tr(e,Hd)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let R=this._engine.playersByElement.get(e);if(R){let B=R.indexOf(s);B>=0&&R.splice(B,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Yr,!0);n.forEach(i=>{if(i[Ie])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(e,c,zr,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&ct(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||Ps,d=new Wr(zr),u=new qr(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Ie];(!o||o===$d)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){be(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=pi(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,ui(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Hs=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new Gs(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,i){if(gi(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!gi(t))return;let o=t[Ie];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),be(e,Ms)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Tr(e,Ms))}removeNode(e,t,n){if(gi(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,i,o){this.collectedLeaveElements.push(t),t[Ie]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,i,o){return gi(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Yr,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,fi,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ct(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ie];if(t&&t.setForRemoval){if(e[Ie]=$d,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ms)&&this.markElementAsDisabled(e,!1),this.driver.query(e,yh,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];be(i,Rh)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?ct(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw Md(e)}_flushAnimations(e,t){let n=new jr,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(T=>{d.add(T);let g=this.driver.query(T,Ah,!0);for(let A=0;A<g.length;A++)d.add(g[A])});let u=this.bodyNode,f=Array.from(this.statesByElement.keys()),_=zd(f,this.collectedEnterElements),p=new Map,E=0;_.forEach((T,g)=>{let A=Os+E++;p.set(g,A),T.forEach(v=>be(v,A))});let R=[],B=new Set,I=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let g=this.collectedLeaveElements[T],A=g[Ie];A&&A.setForRemoval&&(R.push(g),B.add(g),A.hasAnimation?this.driver.query(g,bh,!0).forEach(v=>B.add(v)):I.add(g))}let W=new Map,H=zd(f,Array.from(B));H.forEach((T,g)=>{let A=_i+E++;W.set(g,A),T.forEach(v=>be(v,A))}),e.push(()=>{_.forEach((T,g)=>{let A=p.get(g);T.forEach(v=>Tr(v,A))}),H.forEach((T,g)=>{let A=W.get(g);T.forEach(v=>Tr(v,A))}),R.forEach(T=>{this.processLeaveNode(T)})});let ke=[],Ge=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(A=>{let v=A.player,j=A.element;if(ke.push(v),this.collectedEnterElements.length){let Q=j[Ie];if(Q&&Q.setForMove){if(Q.previousTriggersValues&&Q.previousTriggersValues.has(A.triggerName)){let Mt=Q.previousTriggersValues.get(A.triggerName),Ae=this.statesByElement.get(A.element);if(Ae&&Ae.has(A.triggerName)){let wn=Ae.get(A.triggerName);wn.value=Mt,Ae.set(A.triggerName,wn)}}v.destroy();return}}let He=!u||!this.driver.containsElement(u,j),fe=W.get(j),Et=p.get(j),F=this._buildInstruction(A,n,Et,fe,He);if(F.errors&&F.errors.length){Ge.push(F);return}if(He){v.onStart(()=>gt(j,F.fromStyles)),v.onDestroy(()=>Le(j,F.toStyles)),i.push(v);return}if(A.isFallbackTransition){v.onStart(()=>gt(j,F.fromStyles)),v.onDestroy(()=>Le(j,F.toStyles)),i.push(v);return}let Ol=[];F.timelines.forEach(Q=>{Q.stretchStartingKeyframe=!0,this.disabledNodes.has(Q.element)||Ol.push(Q)}),F.timelines=Ol,n.append(j,F.timelines);let kf={instruction:F,player:v,element:j};s.push(kf),F.queriedElements.forEach(Q=>me(a,Q,[]).push(v)),F.preStyleProps.forEach((Q,Mt)=>{if(Q.size){let Ae=l.get(Mt);Ae||l.set(Mt,Ae=new Set),Q.forEach((wn,rs)=>Ae.add(rs))}}),F.postStyleProps.forEach((Q,Mt)=>{let Ae=c.get(Mt);Ae||c.set(Mt,Ae=new Set),Q.forEach((wn,rs)=>Ae.add(rs))})});if(Ge.length){let T=[];Ge.forEach(g=>{T.push(Pd(g.triggerName,g.errors))}),ke.forEach(g=>g.destroy()),this.reportError(T)}let te=new Map,le=new Map;s.forEach(T=>{let g=T.element;n.has(g)&&(le.set(g,g),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,te))}),i.forEach(T=>{let g=T.element;this._getPreviousPlayers(g,!1,T.namespaceId,T.triggerName,null).forEach(v=>{me(te,g,[]).push(v),v.destroy()})});let Nt=R.filter(T=>jd(T,l,c)),or=new Map;Kd(or,this.driver,I,c,De).forEach(T=>{jd(T,l,c)&&Nt.push(T)});let Ct=new Map;_.forEach((T,g)=>{Kd(Ct,this.driver,new Set(T),l,Gr)}),Nt.forEach(T=>{let g=or.get(T),A=Ct.get(T);or.set(T,new Map([...g?.entries()??[],...A?.entries()??[]]))});let ts=[],Rl=[],bl={};s.forEach(T=>{let{element:g,player:A,instruction:v}=T;if(n.has(g)){if(d.has(g)){A.onDestroy(()=>Le(g,v.toStyles)),A.disabled=!0,A.overrideTotalTime(v.totalTime),i.push(A);return}let j=bl;if(le.size>1){let fe=g,Et=[];for(;fe=fe.parentNode;){let F=le.get(fe);if(F){j=F;break}Et.push(fe)}Et.forEach(F=>le.set(F,j))}let He=this._buildAnimation(A.namespaceId,v,te,o,Ct,or);if(A.setRealPlayer(He),j===bl)ts.push(A);else{let fe=this.playersByElement.get(j);fe&&fe.length&&(A.parentPlayer=ct(fe)),i.push(A)}}else gt(g,v.fromStyles),A.onDestroy(()=>Le(g,v.toStyles)),Rl.push(A),d.has(g)&&i.push(A)}),Rl.forEach(T=>{let g=o.get(T.element);if(g&&g.length){let A=ct(g);T.setRealPlayer(A)}}),i.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<R.length;T++){let g=R[T],A=g[Ie];if(Tr(g,_i),A&&A.hasAnimation)continue;let v=[];if(a.size){let He=a.get(g);He&&He.length&&v.push(...He);let fe=this.driver.query(g,fi,!0);for(let Et=0;Et<fe.length;Et++){let F=a.get(fe[Et]);F&&F.length&&v.push(...F)}}let j=v.filter(He=>!He.destroyed);j.length?Mh(this,g,j):this.processLeaveNode(g)}return R.length=0,ts.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let g=this.players.indexOf(T);this.players.splice(g,1)}),T.play()}),ts}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==zr;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,d=c!==o,u=me(n,c,[]);this._getPreviousPlayers(c,d,s,a,t.toState).forEach(_=>{let p=_.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),_.destroy(),u.push(_)})}gt(o,t.fromStyles)}_buildAnimation(e,t,n,i,o,s){let a=t.triggerName,l=t.element,c=[],d=new Set,u=new Set,f=t.timelines.map(p=>{let E=p.element;d.add(E);let R=E[Ie];if(R&&R.removedBeforeQueried)return new lt(p.duration,p.delay);let B=E!==l,I=Ph((n.get(E)||Oh).map(te=>te.getRealPlayer())).filter(te=>{let le=te;return le.element?le.element===E:!1}),W=o.get(E),H=s.get(E),ke=gs(this._normalizer,p.keyframes,W,H),Ge=this._buildPlayer(p,ke,I);if(p.subTimeline&&i&&u.add(E),B){let te=new qr(e,a,E);te.setRealPlayer(Ge),c.push(te)}return Ge});c.forEach(p=>{me(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>vh(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>be(p,xs));let _=ct(f);return _.onDestroy(()=>{d.forEach(p=>Tr(p,xs)),Le(l,t.toStyles)}),u.forEach(p=>{me(i,p,[]).push(_)}),_}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new lt(e.duration,e.delay)}},qr=class{namespaceId;triggerName;element;_player=new lt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>ui(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){me(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function vh(r,e,t){let n=r.get(e);if(n){if(n.length){let i=n.indexOf(t);n.splice(i,1)}n.length==0&&r.delete(e)}return n}function Nh(r){return r??null}function gi(r){return r&&r.nodeType===1}function Ch(r){return r=="start"||r=="done"}function Yd(r,e){let t=r.style.display;return r.style.display=e??"none",t}function Kd(r,e,t,n,i){let o=[];t.forEach(l=>o.push(Yd(l)));let s=[];n.forEach((l,c)=>{let d=new Map;l.forEach(u=>{let f=e.computeStyle(c,u,i);d.set(u,f),(!f||f.length==0)&&(c[Ie]=xh,s.push(c))}),r.set(c,d)});let a=0;return t.forEach(l=>Yd(l,o[a++])),s}function zd(r,e){let t=new Map;if(r.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,i=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=n:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a)}),t}function be(r,e){r.classList?.add(e)}function Tr(r,e){r.classList?.remove(e)}function Mh(r,e,t){ct(t).onDone(()=>r.processLeaveNode(e))}function Ph(r){let e=[];return Zd(r,e),e}function Zd(r,e){for(let t=0;t<r.length;t++){let n=r[t];n instanceof fr?Zd(n.players,e):e.push(n)}}function Dh(r,e){let t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||r[o]!==e[o])return!1}return!0}function jd(r,e,t){let n=t.get(r);if(!n)return!1;let i=e.get(r);return i?n.forEach(o=>i.add(o)):e.set(r,n),t.delete(r),!0}var Sr=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new Hs(e.body,t,n),this._timelineEngine=new ks(e.body,t,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,n,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],d=qd(this._driver,o,l,c);if(l.length)throw Ad(i,l);a=Th(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if(n.charAt(0)=="@"){let[o,s]=As(n),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if(n.charAt(0)=="@"){let[s,a]=As(n);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Lh(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Ds(e[0]),e.length>1&&(n=Ds(e[e.length-1]))):e instanceof Map&&(t=Ds(e)),t||n?new Ih(r,t,n):null}var Ih=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i;let o=r.initialStylesByElement.get(t);o||r.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Le(this._element,this._initialStyles),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(gt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gt(this._element,this._endStyles),this._endStyles=null),Le(this._element,this._initialStyles),this._state=3)}}return r})();function Ds(r){let e=null;return r.forEach((t,n)=>{wh(n)&&(e=e||new Map,e.set(n,t))}),e}function wh(r){return r==="display"||r==="position"}var vi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:Ei(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Ni=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return ys(e,t)}getParentElement(e){return mi(e)}query(e,t,n){return Rs(e,t,n)}computeStyle(e,t,n){return Ei(e,t)}animate(e,t,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(_=>_ instanceof vi);wd(n,i)&&d.forEach(_=>{_.currentSnapshot.forEach((p,E)=>c.set(E,p))});let u=Ld(t).map(_=>new Map(_));u=Ud(e,u,c);let f=Lh(e,u);return new vi(e,u,l,f)}};var Ai="@",Jd="@.disabled",Ci=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Ai&&t==Jd?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,i){return this.delegate.listen(e,t,n,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Ys=class extends Ci{factory;constructor(e,t,n,i,o){super(t,n,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Ai?t.charAt(1)=="."&&t==Jd?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,i){if(t.charAt(0)==Ai){let o=Uh(e),s=t.slice(1),a="";return s.charAt(0)!=Ai&&([s,a]=Vh(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,i)}};function Uh(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function Vh(r){let e=r.indexOf("."),t=r.substring(0,e),n=r.slice(e+1);return[t,n]}var Mi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let n="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let u=()=>c.delete(i);d=new Ci(n,i,this.engine,u),c.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new Ys(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Bh=(()=>{class r extends Sr{constructor(t,n,i){super(t,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(kn(qn),kn(kt),kn(Gt))};static \u0275prov=cr({token:r,factory:r.\u0275fac})}return r})();function kh(){return new yi}function Gh(r,e,t){return new Mi(r,e,t)}var eu=[{provide:Gt,useFactory:kh},{provide:Sr,useClass:Bh},{provide:Yn,useFactory:Gh,deps:[Wl,Sr,ie]}],iA=[{provide:kt,useClass:Ks},{provide:Ye,useValue:"NoopAnimations"},...eu],Hh=[{provide:kt,useFactory:()=>new Ni},{provide:Ye,useFactory:()=>"BrowserAnimations"},...eu];function tu(){return Bl("NgEagerAnimations"),[...Hh]}var ru={providers:[jl(),rc(nd),$l(),Ql(Xl()),tu(),{provide:Fl,useValue:"fullstackladder-app"},{provide:Zl,useClass:di}]};function Yh(r,e){r&1&&k(0,"div",2)}var Kh=new ce("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var iu=(()=>{class r{_elementRef=m(Ee);_ngZone=m(ie);_changeDetectorRef=m(Re);_renderer=m(Ke);_cleanupTransitionEnd;_animationMode=m(Ye,{optional:!0});constructor(){let t=m(Kh,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";get value(){return this._value}set value(t){this._value=nu(t||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=nu(t||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new ye;get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=t=>{this.animationEnd.observers.length===0||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,i){n&2&&(ze("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),Kn("mat-"+i.color),oe("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",ds],bufferValue:[2,"bufferValue","bufferValue",ds],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,i){n&1&&(y(0,"div",0),k(1,"div",1),de(2,Yh,1,0,"div",2),b(),y(3,"div",3),k(4,"span",4),b(),y(5,"div",5),k(6,"span",4),b()),n&2&&(P(),dr("flex-basis",i._getBufferBarFlexBasis()),P(),ue(i.mode==="buffer"?2:-1),P(),dr("transform",i._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return r})();function nu(r,e=0,t=100){return Math.max(e,Math.min(t,r))}var ou=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Te({type:r});static \u0275inj=he({imports:[pe]})}return r})();var su=["*"],Wh=["content"],qh=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qh=["mat-drawer","mat-drawer-content","*"];function Xh(r,e){if(r&1){let t=St();y(0,"div",1),q("click",function(){X(t);let i=se();return $(i._onBackdropClicked())}),b()}if(r&2){let t=se();oe("mat-drawer-shown",t._isShowingBackdrop())}}function $h(r,e){r&1&&(y(0,"mat-drawer-content"),st(1,2),b())}var Zh=new ce("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Jh}),au=new ce("MAT_DRAWER_CONTAINER");function Jh(){return!1}var Qr=(()=>{class r extends ni{_platform=m(We);_changeDetectorRef=m(Re);_container=m(Ws);constructor(){let t=m(Ee),n=m(hc),i=m(ie);super(t,n,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:t,end:n}=this._container;return t!=null&&t.mode!=="over"&&t.opened||n!=null&&n.mode!=="over"&&n.opened}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(n,i){n&2&&(dr("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),oe("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[at([{provide:ni,useExisting:r}]),Yl],ngContentSelectors:su,decls:1,vars:0,template:function(n,i){n&1&&(It(),st(0))},encapsulation:2,changeDetection:0})}return r})(),js=(()=>{class r{_elementRef=m(Ee);_focusTrapFactory=m(uc);_focusMonitor=m(sc);_platform=m(We);_ngZone=m(ie);_renderer=m(Ke);_interactivityChecker=m(dc);_doc=m(qn,{optional:!0});_container=m(au,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=qe(t)}_disableClose=!1;get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=qe(t)),this._autoFocus=t}_autoFocus;get opened(){return this._opened}set opened(t){this.toggle(qe(t))}_opened=!1;_openedVia;_animationStarted=new re;_animationEnd=new re;openedChange=new ye(!0);_openedStream=this.openedChange.pipe(ne(t=>t),ot(()=>{}));openedStart=this._animationStarted.pipe(ne(()=>this.opened),ss(void 0));_closedStream=this.openedChange.pipe(ne(t=>!t),ot(()=>{}));closedStart=this._animationStarted.pipe(ne(()=>!this.opened),ss(void 0));_destroyed=new re;onPositionChanged=new ye;_content;_modeChanged=new re;_injector=m(Hn);_changeDetectorRef=m(Re);constructor(){this.openedChange.pipe(Ne(this._destroyed)).subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement;Cl(t,"keydown").pipe(ne(n=>n.keyCode===27&&!this.disableClose&&!mr(n)),Ne(this._destroyed)).subscribe(n=>this._ngZone.run(()=>{this.close(),n.stopPropagation(),n.preventDefault()})),this._eventCleanups=[this._renderer.listen(t,"transitionrun",this._handleTransitionEvent),this._renderer.listen(t,"transitionend",this._handleTransitionEvent),this._renderer.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),t.removeAttribute("tabindex")},o=this._renderer.listen(t,"blur",i),s=this._renderer.listen(t,"mousedown",i)})),t.focus(n)}_focusByCssSelector(t,n){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,n)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Vr(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);let i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,n,i){return t===this._opened?Promise.resolve(t?"open":"close"):(this._opened=t,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",t),!t&&n&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Bn(1)).subscribe(s=>o(s?"open":"close"))}))}_setIsAnimating(t){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",t)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,i=n.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,n)),i.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}_handleTransitionEvent=t=>{let n=this._elementRef.nativeElement;t.target===n&&this._ngZone.run(()=>{t.type==="transitionrun"?this._animationStarted.next(t):(t.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(t))})};static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["mat-drawer"]],viewQuery:function(n,i){if(n&1&&Ut(Wh,5),n&2){let o;Me(o=Pe())&&(i._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(n,i){n&2&&(ze("align",null)("tabIndex",i.mode!=="side"?"-1":null),dr("visibility",!i._container&&!i.opened?"hidden":null),oe("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:su,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,i){n&1&&(It(),y(0,"div",1,0),st(2),b())},dependencies:[ni],encapsulation:2,changeDetection:0})}return r})(),Ws=(()=>{class r{_dir=m(ei,{optional:!0});_element=m(Ee);_ngZone=m(ie);_changeDetectorRef=m(Re);_animationMode=m(Ye,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Vl;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=qe(t)}_autosize=m(Zh);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:qe(t)}_backdropOverride;backdropClick=new ye;_start;_end;_left;_right;_destroyed=new re;_doCheckSubject=new re;_contentMargins={left:null,right:null};_contentMarginChanges=new re;get scrollable(){return this._userContent||this._content}_injector=m(Hn);constructor(){let t=m(We),n=m(ii);this._dir?.change.pipe(Ne(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),n.change().pipe(Ne(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&t.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Pt(this._allDrawers),Ne(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Pt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Fn(10),Ne(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();t+=i,n-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();n+=i,t-=i}}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Ne(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(Ne(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t.onPositionChanged.pipe(Ne(this._drawers.changes)).subscribe(()=>{Vr({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(t){t._modeChanged.pipe(Ne(ar(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let n=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?n.add(i):n.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(n,i,o){if(n&1&&(wt(o,Qr,5),wt(o,js,5)),n&2){let s;Me(s=Pe())&&(i._content=s.first),Me(s=Pe())&&(i._allDrawers=s)}},viewQuery:function(n,i){if(n&1&&Ut(Qr,5),n&2){let o;Me(o=Pe())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,i){n&2&&oe("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[at([{provide:au,useExisting:r}])],ngContentSelectors:Qh,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,i){n&1&&(It(qh),de(0,Xh,1,2,"div",0),st(1),st(2,1),de(3,$h,2,0,"mat-drawer-content")),n&2&&(ue(i.hasBackdrop?0:-1),P(3),ue(i._content?-1:3))},dependencies:[Qr],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return r})();var lu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Te({type:r});static \u0275inj=he({imports:[pe,kr,kr,pe]})}return r})();var rE=r=>({exact:r}),nE=(r,e)=>e.link;function iE(r,e){if(r&1&&(y(0,"a",12)(1,"span",14)(2,"mat-icon",15),U(3),b(),y(4,"span",16),U(5),b()()()),r&2){let t=e.$implicit;Ce("routerLinkActiveOptions",zl(4,rE,t.link==="/blog"))("routerLink",t.link),P(3),Vt(t.icon),P(2),Vt(t.text)}}var cu=(()=>{class r{constructor(){this.matIconRegistry=m(fc),this.sitePostService=m(ai),this.postCount=Fr(()=>Object.keys(this.sitePostService.postsMeta()).length),this.categoryCount=Fr(()=>new Set(this.sitePostService.postCategories()).size),this.tagCount=Fr(()=>new Set(this.sitePostService.postTags()).size),this.menuItems=Dt([{link:"/blog",icon:"home",text:"\u9996\u9801"},{link:"/blog/categories",icon:"apps",text:"\u5206\u985E"},{link:"/blog/tags",icon:"label",text:"\u6A19\u7C64"},{link:"/blog/archives",icon:"archive",text:"\u6B78\u6A94"}]).asReadonly()}ngOnInit(){this.matIconRegistry.registerFontClassAlias("fontawesome","fab")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=z({type:r,selectors:[["app-layout-sidebar"]],decls:51,vars:3,consts:[[1,"post-statics","flex","p-4"],[1,"statics-block","flex","flex-col","flex-[33%]"],["routerLink","/blog/archives",1,"no-underline","hover:no-underline"],[1,"counter","text-[color:var(--sidebar-highlight-text-color)]","text-[24px]","text-center"],[1,"description","text-[color:var(--sidebar-text-color)]","text-[16px]","text-center"],["routerLink","/blog/categories",1,"no-underline","hover:no-underline"],["routerLink","/blog/tags",1,"no-underline","hover:no-underline"],[1,"my-1"],[1,"section-title","text-[color:var(--sidebar-text-color)]","text-[20px]","text-center","my-1"],[1,"section-content","text-[color:var(--sidebar-text-color)]","text-center"],["href","https://www.tenlong.com.tw/products/9789864348039","target","_blank","rel","noreferrer",1,"no-underline",2,"display","flex","flex-direction","column","align-items","center"],["src","assets/promotion/rxjs.webp","width","160px","height","224px","alt","\u6253\u901A RxJS \u4EFB\u7763\u4E8C\u8108 - \u597D\u8A55\u71B1\u552E\u4E2D\uFF01","loading","lazy"],["mat-list-item","","routerLinkActive","text-[color:var(--sidebar-highlight-text-color)]",3,"routerLinkActiveOptions","routerLink"],["mat-list-item","","href","/atom.xml","target","_blank","rel","noreferrer"],[1,"flex","flex-row"],[1,"mr-2"],[1,"link-text"],["mat-list-item","","href","https://github.com/wellwind/","target","_blank","rel","noreferrer"],["fontSet","fontawesome","fontIcon","fa-github",1,"mr-2"],["mat-list-item","","href","https://www.facebook.com/fullstackledder","target","_blank","rel","noreferrer"],["fontSet","fontawesome","fontIcon","fa-facebook",1,"mr-2"]],template:function(n,i){n&1&&(y(0,"div",0)(1,"div",1)(2,"a",2)(3,"div",3),U(4),b(),y(5,"div",4),U(6," \u6587\u7AE0 "),b()()(),y(7,"div",1)(8,"a",5)(9,"div",3),U(10),b(),y(11,"div",4),U(12," \u5206\u985E "),b()()(),y(13,"div",1)(14,"a",6)(15,"div",3),U(16),b(),y(17,"div",4),U(18," \u6A19\u7C64 "),b()()()(),k(19,"mat-divider",7),y(20,"div")(21,"div",8),U(22," \u597D\u66F8\u63A8\u85A6 "),b(),y(23,"div",9)(24,"mat-nav-list")(25,"a",10),k(26,"img",11),y(27,"div"),U(28,"\u6253\u901A RxJS \u4EFB\u7763\u4E8C\u8108"),b()()()()(),k(29,"mat-divider",7),y(30,"mat-nav-list"),zn(31,iE,6,6,"a",12,nE),b(),k(33,"mat-divider",7),y(34,"mat-nav-list")(35,"a",13)(36,"span",14)(37,"mat-icon",15),U(38,"rss_feed"),b(),y(39,"span",16),U(40,"RSS"),b()()(),y(41,"a",17)(42,"span",14),k(43,"mat-icon",18),y(44,"span",16),U(45,"GitHub"),b()()(),y(46,"a",19)(47,"span",14),k(48,"mat-icon",20),y(49,"span",16),U(50,"Facebook"),b()()()()),n&2&&(P(4),Wn(" ",i.postCount()," "),P(6),Wn(" ",i.categoryCount()," "),P(6),Wn(" ",i.tagCount()," "),P(15),jn(i.menuItems()))},dependencies:[$n,tc,Lc,Dc,zc,Kc,Yc,ri,ti],encapsulation:2,changeDetection:0})}}return r})();var du=(()=>{class r{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||r)};static \u0275dir=Lt({type:r})}return r})();var Di=new ce("MatFormField");var lE=["panel"],cE=["*"];function dE(r,e){if(r&1&&(y(0,"div",1,0),st(2),b()),r&2){let t=e.id,n=se();Kn(n._classList),oe("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-autocomplete-panel-animations-enabled",!n._animationsDisabled)("mat-primary",n._color==="primary")("mat-accent",n._color==="accent")("mat-warn",n._color==="warn"),Ce("id",n.id),ze("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}var qs=class{source;option;constructor(e,t){this.source=e,this.option=t}},pu=new ce("mat-autocomplete-default-options",{providedIn:"root",factory:uE});function uE(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var mu=(()=>{class r{_changeDetectorRef=m(Re);_elementRef=m(Ee);_defaults=m(pu);_animationsDisabled=m(Ye,{optional:!0})==="NoopAnimations";_activeOptionChanges=Un.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(t){this._color=t,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new ye;opened=new ye;closed=new ye;optionActivated=new ye;set classList(t){this._classList=t,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}id=m(Zn).getId("mat-autocomplete-");inertGroups;constructor(){let t=m(We);this.inertGroups=t?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new pc(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){let n=new qs(this,t);this.optionSelected.emit(n)}_getPanelAriaLabelledby(t){if(this.ariaLabel)return null;let n=t?t+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:t}_skipPredicate(){return!1}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(n,i,o){if(n&1&&(wt(o,li,5),wt(o,Nc,5)),n&2){let s;Me(s=Pe())&&(i.options=s),Me(s=Pe())&&(i.optionGroups=s)}},viewQuery:function(n,i){if(n&1&&(Ut(kl,7),Ut(lE,5)),n&2){let o;Me(o=Pe())&&(i.template=o.first),Me(o=Pe())&&(i.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",je],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",je],requireSelection:[2,"requireSelection","requireSelection",je],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",je],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",je]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[at([{provide:vc,useExisting:r}])],ngContentSelectors:cE,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,i){n&1&&(It(),de(0,dE,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return r})();var pE={provide:Ic,useExisting:Il(()=>Qs),multi:!0};var _u=new ce("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=m(oi);return()=>r.scrollStrategies.reposition()}});function mE(r){return()=>r.scrollStrategies.reposition()}var _E={provide:_u,deps:[oi],useFactory:mE},Qs=(()=>{class r{_environmentInjector=m(wl);_element=m(Ee);_overlay=m(oi);_viewContainerRef=m(Gl);_zone=m(ie);_changeDetectorRef=m(Re);_dir=m(ei,{optional:!0});_formField=m(Di,{optional:!0,host:!0});_viewportRuler=m(ii);_scrollStrategy=m(_u);_renderer=m(Ke);_defaults=m(pu,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new re;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=Un.EMPTY;_breakpointObserver=m(lc);_handsetLandscapeSubscription=Un.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new re;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Jn(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return ar(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ne(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ne(()=>this._overlayAttached)):os()).pipe(ot(t=>t instanceof Cc?t:null))}optionSelections=Vn(()=>{let t=this.autocomplete?this.autocomplete.options:null;return t?t.changes.pipe(Pt(t),lr(()=>ar(...t.map(n=>n.onSelectionChange)))):this._initialized.pipe(lr(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new is(t=>{let n=o=>{let s=ic(o),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&!this._hasFocus()&&(!a||!a.contains(s))&&(!l||!l.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&t.next(o)},i=[this._renderer.listen("document","click",n),this._renderer.listen("document","auxclick",n),this._renderer.listen("document","touchend",n)];return()=>{i.forEach(o=>o())}})}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){let n=t.keyCode,i=mr(t);if(n===27&&!i&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&n===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){let o=this.autocomplete._keyManager.activeItem,s=n===38||n===40;n===9||s&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let n=t.target,i=n.value;if(n.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let o=this.autocomplete.options?.find(s=>s.selected);if(o){let s=this._getDisplayValue(o.value);i!==s&&o.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return nc()===this._element.nativeElement}_floatLabel(t=!1){this._formField&&this._formField.floatLabel==="auto"&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let t=new is(i=>{Vr(()=>{i.next()},{injector:this._environmentInjector})}),n=this.autocomplete.options?.changes.pipe(Ll(()=>this._positionStrategy.reapplyLastPosition()),Ml(0))??os();return ar(t,n).pipe(lr(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Bn(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){let n=this.autocomplete;return n&&n.displayWith?n.displayWith(t):t}_assignOptionValue(t){let n=this._getDisplayValue(t);t==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){let n=this.autocomplete,i=t?t.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),n._emitSelectEvent(i),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,n){this.autocomplete?.options?.forEach(i=>{i!==t&&i.selected&&i.deselect(n)})}_openPanelInternal(t=this._element.nativeElement.value){if(this._attachOverlay(t),this._floatLabel(),this._trackedModal){let n=this.autocomplete.id;ps(this._trackedModal,"aria-owns",n)}}_attachOverlay(t){this.autocomplete;let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new Ec(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(Ac.HandsetLandscape).subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=t=>{(t.keyCode===27&&!mr(t)||t.keyCode===38&&mr(t,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),t.stopPropagation(),t.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Tc({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){let n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],s;this.position==="above"?s=o:this.position==="below"?s=n:s=[...n,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let t=this.autocomplete;if(t.autoActiveFirstOption){let n=-1;for(let i=0;i<t.options.length;i++)if(!t.options.get(i).disabled){n=i;break}t._keyManager.setActiveItem(n)}else t._keyManager.setActiveItem(-1)}_canOpen(){let t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_scrollToOption(t){let n=this.autocomplete,i=Mc(t,n.options,n.optionGroups);if(t===0&&i===1)n._setScrollTop(0);else if(n.panel){let o=n.options.toArray()[t];if(o){let s=o._getHostElement(),a=Pc(s.offsetTop,s.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(a)}}}_trackedModal=null;_applyModalPanelOwnership(){let t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let n=this.autocomplete.id;this._trackedModal&&Jn(this._trackedModal,"aria-owns",n),ps(t,"aria-owns",n),this._trackedModal=t}_clearFromModal(){if(this._trackedModal){let t=this.autocomplete.id;Jn(this._trackedModal,"aria-owns",t),this._trackedModal=null}}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Lt({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,i){n&1&&q("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(s){return i._handleInput(s)})("keydown",function(s){return i._handleKeydown(s)})("click",function(){return i._handleClick()}),n&2&&ze("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",je]},exportAs:["matAutocompleteTrigger"],features:[at([pE]),Gn]})}return r})(),fu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Te({type:r});static \u0275inj=he({providers:[_E],imports:[Sc,_s,pe,kr,_s,pe]})}return r})();var hE=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return r})(),EE={passive:!0},hu=(()=>{class r{_platform=m(We);_ngZone=m(ie);_renderer=m(Yn).createRenderer(null,null);_styleLoader=m(ac);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return vl;this._styleLoader.load(hE);let n=us(t),i=this._monitoredElements.get(n);if(i)return i.subject;let o=new re,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),oc(this._renderer,n,"animationstart",a,EE)));return this._monitoredElements.set(n,{subject:o,unlisten:l}),o}stopMonitoring(t){let n=us(t),i=this._monitoredElements.get(n);i&&(i.unlisten(),i.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=cr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Eu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Te({type:r});static \u0275inj=he({})}return r})();var Tu=new ce("MAT_INPUT_VALUE_ACCESSOR");var Xs=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Te({type:r});static \u0275inj=he({imports:[pe,cc,pe]})}return r})();var TE=["button","checkbox","file","hidden","image","radio","range","reset","submit"],SE=new ce("MAT_INPUT_CONFIG"),Su=(()=>{class r{_elementRef=m(Ee);_platform=m(We);ngControl=m(Vc,{optional:!0,self:!0});_autofillMonitor=m(hu);_ngZone=m(ie);_formField=m(Di,{optional:!0});_renderer=m(Ke);_uid=m(Zn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=m(SE,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new re;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=qe(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Uc.required)??!1}set required(t){this._required=qe(t)}_required;get type(){return this._type}set type(t){let n=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&ms().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=qe(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>ms().has(t));constructor(){let t=m(Bc,{optional:!0}),n=m(Gc,{optional:!0}),i=m(xc),o=m(Tu,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Ul(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Oc(i,this.ngControl,n,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Br(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){TE.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){let n=this._elementRef.nativeElement,i=n.getAttribute("aria-describedby"),o;if(i){let s=this._formFieldDescribedBy||t;o=t.concat(i.split(" ").filter(a=>a&&!s.includes(a)))}else o=t;this._formFieldDescribedBy=t,o.length?n.setAttribute("aria-describedby",o.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let n=t.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Lt({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,i){n&1&&q("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),n&2&&(ls("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),ze("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),oe("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",je]},exportAs:["matInput"],features:[at([{provide:du,useExisting:r}]),Gn]})}return r})(),gu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Te({type:r});static \u0275inj=he({imports:[pe,Xs,Xs,Eu,pe]})}return r})();var AE=(r,e)=>e.link;function yE(r,e){r&1&&(y(0,"mat-icon"),U(1,"menu_open"),b())}function RE(r,e){r&1&&(y(0,"mat-icon"),U(1,"menu"),b())}function bE(r,e){r&1&&(y(0,"mat-icon"),U(1,"light_mode"),b())}function OE(r,e){r&1&&(y(0,"mat-icon"),U(1,"dark_mode"),b())}function xE(r,e){if(r&1){let t=St();y(0,"button",9),q("click",function(){X(t);let i=se();return $(i.toggleTheme())}),de(1,bE,2,0,"mat-icon")(2,OE,2,0,"mat-icon"),b()}if(r&2){let t=se();P(),ue(t.theme()==="light"?1:2)}}function vE(r,e){if(r&1&&(y(0,"mat-option",12)(1,"span",13),U(2),b(),y(3,"span",14),U(4),b()()),r&2){let t=e.$implicit;Ce("value",t),P(2),Vt(t.type),P(2),Vt(t.text)}}function NE(r,e){if(r&1){let t=St();y(0,"div",8)(1,"input",10,0),q("keyup.enter",function(){X(t);let i=ur(2),o=ur(3),s=ur(5),a=se();return a.searchKeywordChange.emit(a.searchKeyword.value||""),i.blur(),o.closePanel(),$(s._isOpen=!1)})("input",function(){X(t);let i=se();return $(i.keepSearchKeyword.set(i.searchKeyword.value||""))}),b(),y(4,"mat-autocomplete",11,1),q("optionSelected",function(i){X(t);let o=se();return $(o.optionSelected(i))})("opened",function(){X(t);let i=se();return $(i.searchPanelOpened())})("closed",function(){X(t);let i=se();return $(i.searchPanelClosed())}),zn(6,vE,5,3,"mat-option",12,AE),b()()}if(r&2){let t=ur(5),n=se();P(),Ce("formControl",n.searchKeyword)("matAutocomplete",t),P(5),jn(n.suggestList())}}var Au=(()=>{class r{constructor(){this.menuOpen=as(!0),this.menuOpenChange=Ur(),this.theme=as("dark"),this.themeChange=Ur(),this.searchKeywordChange=Ur(),this.selectSuggestItemChange=Ur(),this.platformService=m(_r),this.sitePostService=m(ai),this.isServer=this.platformService.isServer,this.isSmallScreen=this.platformService.isSmallScreen,this.searchKeyword=new ci(""),this.keepSearchKeyword=Dt(""),this.suggestList$=Nl([this.sitePostService.postsMetaWithSlugAndSortDesc$,this.searchKeyword.valueChanges.pipe(Fn(300),Pl())]).pipe(lr(([t,n])=>Vn(()=>import("./chunk-A5FBTWJ5.js").then(i=>i.searchPosts)).pipe(ot(i=>i(t,n||""))))),this.suggestList=si(this.suggestList$)}toggleMenu(){this.menuOpenChange.emit(!this.menuOpen()),Y.api.pushEvent("menu-toggle",{menuOpen:this.menuOpen()?"N":"Y",theme:this.theme()==="light"?"dark":"light"})}toggleTheme(){this.themeChange.emit(this.theme()==="light"?"dark":"light"),Y.api.pushEvent("theme-toggle",{theme:this.theme()==="light"?"dark":"light"})}optionSelected(t){Y.api.pushEvent("suggest-item-selected",{keyword:this.keepSearchKeyword(),link:t.option.value.link,type:t.option.value.type,title:t.option.value.text}),this.selectSuggestItemChange.emit(t.option.value.link),this.searchKeyword.setValue("")}searchPanelOpened(){this.originalView=Y.api.getView()?.name,Y.api.setView({name:"search-panel"}),Y.api.pushEvent("search-panel-opened",{});let{trace:t,context:n}=Y.api.getOTEL()??{trace:null,context:null};if(!t||!n)return;let o=t.getTracer("Toolbar").startSpan("Open Search Panel");this.span=o}searchPanelClosed(){Y.api.setView({name:this.originalView??""}),Y.api.pushEvent("search-panel-closed",{}),this.span&&(this.span.setAttribute("search-keyword",this.keepSearchKeyword()),this.span.end(),this.span=void 0)}goHome(){Y.api.pushEvent("go-home")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=z({type:r,selectors:[["app-layout-toolbar"]],inputs:{menuOpen:[1,"menuOpen"],theme:[1,"theme"]},outputs:{menuOpenChange:"menuOpenChange",themeChange:"themeChange",searchKeywordChange:"searchKeywordChange",selectSuggestItemChange:"selectSuggestItemChange"},decls:11,vars:4,consts:[["input","","trigger","matAutocompleteTrigger"],["auto","matAutocomplete"],["color","primary","xmlns","http://www.w3.org/1999/html",1,"toolbar","mat-elevation-z6","fixed","z-10"],["role","button","aria-label","\u6253\u958B/\u6536\u5408\u9078\u55AE","mat-icon-button","",3,"click"],["routerLink","/",1,"header-link","no-underline","text-[color:var(--header-link-color)]","hover:text-[color:var(--header-link-color)]","hover:no-underline","active:text-[color:var(--header-link-color)]",3,"click"],[1,"header-link","text-2xl"],[1,"grow"],["role","button","aria-label","\u6DF1\u8272/\u4EAE\u8272\u6A21\u5F0F","mat-icon-button","",1,"mr-2"],[1,"search-bar"],["role","button","aria-label","\u6DF1\u8272/\u4EAE\u8272\u6A21\u5F0F","mat-icon-button","",1,"mr-2",3,"click"],["autocomplete","off","type","text","matInput","","accesskey","/","placeholder","\u641C\u5C0B... ( Alt + / )",1,"search-input","h-9","rounded-md","w-60","text-[16px]","border-0","p-2","hidden","md:block",3,"keyup.enter","input","formControl","matAutocomplete"],["panelWidth","auto",3,"optionSelected","opened","closed"],[3,"value"],[1,"suggest-item-type"],[1,"suggest-item-text"]],template:function(n,i){n&1&&(y(0,"mat-toolbar",2)(1,"button",3),q("click",function(){return i.toggleMenu()}),de(2,yE,2,0,"mat-icon")(3,RE,2,0,"mat-icon"),b(),y(4,"h1")(5,"a",4),q("click",function(){return i.goHome()}),y(6,"span",5),U(7,"\u5168\u7AEF\u958B\u767C\u4EBA\u54E1\u5929\u68AF"),b()()(),k(8,"div",6),de(9,xE,3,1,"button",7)(10,NE,8,2,"div",8),b()),n&2&&(P(2),ue(i.menuOpen()?2:-1),P(),ue(i.menuOpen()?-1:3),P(6),ue(i.isServer?-1:9),P(),ue(i.isSmallScreen()?-1:10))},dependencies:[$n,Hc,wc,Fc,kc,Rc,yc,ri,ti,gu,Su,fu,mu,li,Qs,_c,mc],encapsulation:2,changeDetection:0})}}return r})();var CE=["matDrawerContent"];function ME(r,e){r&1&&k(0,"mat-progress-bar",2)}var yu=(()=>{class r{constructor(){this.matDrawerContent=Hl("matDrawerContent"),this.cdr=m(Re),this.router=m(Xn),this.platformService=m(_r),this.menuOpen=Dt(!0),this.theme=Dt("dark"),this.isSmallScreen=this.platformService.isSmallScreen,this.searchKeyword=new ci(""),this.pageLoading$=this.router.events.pipe(ne(t=>t instanceof pr||t instanceof Qn),ot(t=>t instanceof pr)),this.pageLoading=si(this.pageLoading$),this.themeEffect=Br(()=>{this.platformService.isServer||(localStorage.setItem("theme",this.theme()||""),document.body.classList.remove("dark-theme"),document.body.classList.remove("light-theme"),document.body.classList.add(`${this.theme()}-theme`),this.cdr.detectChanges())}),this.smallScreenEffect=Br(()=>{this.platformService.isServer||this.isSmallScreen()&&this.menuOpen.set(!1)})}get isServer(){return this.platformService.isServer}ngOnInit(){this.router.events.pipe(ne(t=>t instanceof pr)).subscribe(()=>{let t=this.matDrawerContent();t&&(t.scrollTo({top:0,left:0}),this.cdr.detectChanges())}),this.setTheme(),this.cdr.detectChanges()}async selectSuggestItem(t){await this.router.navigateByUrl(t)}async goSearchPage(t){t&&await this.router.navigate(["query"],{queryParams:{q:t}})}setTheme(){if(this.platformService.isServer)return;let t=localStorage.getItem("theme");t?this.theme.set(t):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&this.theme.set("light")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=z({type:r,selectors:[["app-layout"]],viewQuery:function(n,i){n&1&&Kl(i.matDrawerContent,CE,5),n&2&&cs()},decls:8,vars:10,consts:[["matDrawerContent",""],[3,"menuOpenChange","themeChange","selectSuggestItemChange","searchKeywordChange","menuOpen","theme"],["mode","indeterminate","color","accent",1,"!fixed","top-0","z-50"],[1,"drawer-container","top-16","h-[calc(100vh","-","64px)]"],[1,"sidebar","min-w-[240px]","max-w-[240px]",3,"closed","mode","disableClose","opened"],[1,"main-content"]],template:function(n,i){if(n&1){let o=St();y(0,"app-layout-toolbar",1),q("menuOpenChange",function(a){return X(o),$(i.menuOpen.set(a))})("themeChange",function(a){return X(o),$(i.theme.set(a))})("selectSuggestItemChange",function(a){return X(o),$(i.selectSuggestItem(a))})("searchKeywordChange",function(a){return X(o),$(i.goSearchPage(a))}),b(),de(1,ME,1,0,"mat-progress-bar",2),y(2,"mat-drawer-container",3)(3,"mat-drawer",4),q("closed",function(){return X(o),$(i.menuOpen.set(!1))}),k(4,"app-layout-sidebar"),b(),y(5,"mat-drawer-content",5,0),k(7,"router-outlet"),b()()}n&2&&(Ce("menuOpen",i.menuOpen())("theme",i.theme()),P(),ue(i.pageLoading()?1:-1),P(2),oe("server-sidebar",i.isServer),Ce("mode",i.isSmallScreen()?"over":"side")("disableClose",!i.isSmallScreen())("opened",i.menuOpen()),P(2),oe("server",i.isServer))},dependencies:[ou,iu,lu,js,Ws,Qr,ec,Au,cu],styles:[".drawer-container[_ngcontent-%COMP%]{height:calc(100vh - 64px)}  .mat-drawer-inner-container::-webkit-scrollbar{height:4px;width:4px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#00000042}@media (max-width: 959.98px){.sidebar[_ngcontent-%COMP%]{min-width:320px;max-width:320px}.sidebar.server-sidebar[_ngcontent-%COMP%]{display:none}}.main-content.server[_ngcontent-%COMP%]{margin-left:240px}@media (max-width: 959.98px){.main-content.server[_ngcontent-%COMP%]{margin-left:0!important}}"],changeDetection:0})}}return r})();var Ru=(()=>{class r{constructor(){this.router=m(Xn),this.platformService=m(_r),this.siteMetaService=m(bc)}ngOnInit(){this.router.events.pipe(ne(t=>t instanceof pr)).subscribe(()=>{this.siteMetaService.resetMeta({title:"",description:"\u500B\u4EBA\u5B78\u7FD2\u7A0B\u5F0F\u8A2D\u8A08\u3001\u7CFB\u7D71\u958B\u767C\u548C\u8B80\u66F8\u7684\u7D93\u9A57\u53CA\u5FC3\u5F97\u3002",keywords:[],type:"website"})}),this.router.events.pipe(ne(t=>t instanceof Qn),Pt(null),Dl()).subscribe(t=>{if(!this.platformService.isServer&&gc.production){let n=t[1];if(!n)return;Y.api&&(Y.api.pushEvent("page_change",{url:n.url}),Y.api.setPage({id:n.url,url:n.url}),Y.api.setView({name:n.url})),gtag("event","page_view",{page_path:n.url||""})}})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=z({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&k(0,"app-layout")},dependencies:[yu],encapsulation:2,changeDetection:0})}}return r})();x();x();var bp=we("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function pa(r){return r.setValue(bp,!0)}function zt(r){return r.getValue(bp)===!0}var Op="=",Ki=";",ln=",",zi="baggage";x();function xp(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?ln:""}${t}`;return n.length>8192?e:n},"")}function vp(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=Ki+t.metadata.toString()),n})}function Np(r){let e=r.split(Ki);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.indexOf(Op);if(n<=0)return;let i=decodeURIComponent(t.substring(0,n).trim()),o=decodeURIComponent(t.substring(n+1).trim()),s;return e.length>0&&(s=Jr(e.join(Ki))),{key:i,value:o,metadata:s}}var cn=class{inject(e,t,n){let i=G.getBaggage(e);if(!i||zt(e))return;let o=vp(i).filter(a=>a.length<=4096).slice(0,180),s=xp(o);s.length>0&&n.set(t,zi,s)}extract(e,t,n){let i=n.get(t,zi),o=Array.isArray(i)?i.join(ln):i;if(!o)return e;let s={};return o.length===0||(o.split(ln).forEach(l=>{let c=Np(l);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),s[c.key]=d}}),Object.entries(s).length===0)?e:G.setBaggage(e,G.createBaggage(s))}fields(){return[zi]}};x();function jt(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!TT(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!ji(n)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}function TT(r){return typeof r=="string"&&r.length>0}function ji(r){return r==null?!0:Array.isArray(r)?ST(r):Cp(r)}function ST(r){let e;for(let t of r)if(t!=null){if(!e){if(Cp(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Cp(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}x();function Mp(){return r=>{S.error(gT(r))}}function gT(r){return typeof r=="string"?r:JSON.stringify(AT(r))}function AT(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}var yT=Mp();function Fe(r){try{yT(r)}catch{}}var Je=performance;var Pp="2.1.0";Rt();var Yp="process.runtime.name";var gr={[qt]:"opentelemetry",[Yp]:"browser",[Wt]:to,[Qt]:Pp};var bT=9,OT=6,xT=Math.pow(10,OT),ma=Math.pow(10,bT);function bt(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*xT);return[t,n]}function no(){let r=Je.timeOrigin;if(typeof r!="number"){let e=Je;r=e.timing&&e.timing.fetchStart}return r}function _a(r){let e=bt(no()),t=bt(typeof r=="number"?r:Je.now());return so(e,t)}function fa(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=ma),[t,n]}function io(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function oo(r){return io(r)||typeof r=="number"||r instanceof Date}function so(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=ma&&(t[1]-=ma,t[0]+=1),t}var Ar=function(r){return r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r}(Ar||{});x();var un=class{_propagators;_fields;constructor(e={}){this._propagators=e.propagators??[],this._fields=Array.from(new Set(this._propagators.map(t=>typeof t.fields=="function"?t.fields():[]).reduce((t,n)=>t.concat(n),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(o){S.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(e,t,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,t,n)}catch(s){S.warn(`Failed to extract with ${o.constructor.name}. Err: ${s.message}`)}return i},e)}fields(){return this._fields.slice()}};x();var ha="[_0-9a-z-*/]",vT=`[a-z]${ha}{0,255}`,NT=`[a-z0-9]${ha}{0,240}@[a-z]${ha}{0,13}`,CT=new RegExp(`^(?:${vT}|${NT})$`),MT=/^[ -~]{0,255}[!-~]$/,PT=/,|=/;function Kp(r){return CT.test(r)}function zp(r){return MT.test(r)&&!PT.test(r)}var jp=32,DT=512,Wp=",",qp="=",ao=class r{_internalState=new Map;constructor(e){e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+qp+this.get(t)),e),[]).join(Wp)}_parse(e){e.length>DT||(this._internalState=e.split(Wp).reverse().reduce((t,n)=>{let i=n.trim(),o=i.indexOf(qp);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);Kp(s)&&zp(a)&&t.set(s,a)}return t},new Map),this._internalState.size>jp&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,jp))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}};var lo="traceparent",co="tracestate",LT="00",IT="(?!ff)[\\da-f]{2}",wT="(?![0]{32})[\\da-f]{32}",UT="(?![0]{16})[\\da-f]{16}",VT="[\\da-f]{2}",FT=new RegExp(`^\\s?(${IT})-(${wT})-(${UT})-(${VT})(-.*)?\\s?$`);function Qp(r){let e=FT.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Xt=class{inject(e,t,n){let i=M.getSpanContext(e);if(!i||zt(e)||!Ue(i))return;let o=`${LT}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||J.NONE).toString(16)}`;n.set(t,lo,o),i.traceState&&n.set(t,co,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,lo);if(!i)return e;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return e;let s=Qp(o);if(!s)return e;s.isRemote=!0;let a=n.get(t,co);if(a){let l=Array.isArray(a)?a.join(","):a;s.traceState=new ao(typeof l=="string"?l:void 0)}return M.setSpanContext(e,s)}fields(){return[lo,co]}};var BT="[object Object]",kT="[object Null]",GT="[object Undefined]",HT=Function.prototype,Xp=HT.toString,YT=Xp.call(Object),KT=Object.getPrototypeOf,$p=Object.prototype,Zp=$p.hasOwnProperty,$t=Symbol?Symbol.toStringTag:void 0,Jp=$p.toString;function Ea(r){if(!zT(r)||jT(r)!==BT)return!1;let e=KT(r);if(e===null)return!0;let t=Zp.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Xp.call(t)===YT}function zT(r){return r!=null&&typeof r=="object"}function jT(r){return r==null?r===void 0?GT:kT:$t&&$t in Object(r)?WT(r):qT(r)}function WT(r){let e=Zp.call(r,$t),t=r[$t],n=!1;try{r[$t]=void 0,n=!0}catch{}let i=Jp.call(r);return n&&(e?r[$t]=t:delete r[$t]),i}function qT(r){return Jp.call(r)}var QT=20;function Sa(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=tm(e,r.shift(),0,t);return e}function Ta(r){return po(r)?r.slice():r}function tm(r,e,t=0,n){let i;if(!(t>QT)){if(t++,uo(r)||uo(e)||rm(e))i=Ta(e);else if(po(r)){if(i=r.slice(),po(e))for(let o=0,s=e.length;o<s;o++)i.push(Ta(e[o]));else if(pn(e)){let o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){let l=o[s];i[l]=Ta(e[l])}}}else if(pn(r))if(pn(e)){if(!XT(r,e))return e;i=Object.assign({},r);let o=Object.keys(e);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=e[l];if(uo(c))typeof c>"u"?delete i[l]:i[l]=c;else{let d=i[l],u=c;if(em(r,l,n)||em(e,l,n))delete i[l];else{if(pn(d)&&pn(u)){let f=n.get(d)||[],_=n.get(u)||[];f.push({obj:r,key:l}),_.push({obj:e,key:l}),n.set(d,f),n.set(u,_)}i[l]=tm(i[l],c,t,n)}}}}else i=e;return i}}function em(r,e,t){let n=t.get(r[e])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===e&&s.obj===r)return!0}return!1}function po(r){return Array.isArray(r)}function rm(r){return typeof r=="function"}function pn(r){return!uo(r)&&!po(r)&&!rm(r)&&typeof r=="object"}function uo(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function XT(r,e){return!(!Ea(r)||!Ea(e))}var mo=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};var mn=class{_callback;_that;_isCalled=!1;_deferred=new mo;constructor(e,t){this._callback=e,this._that=t}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};var L_=ns(C_());var P_=ns(M_());var jS="duration_ns";function D_(r=[]){var e,t;for(let n of r){let{scopeSpans:i}=n;for(let o of i){let{scope:s,spans:a=[]}=o;for(let l of a){if(l.kind!==P_.ESpanKind.SPAN_KIND_CLIENT)continue;let c={traceId:l.traceId.toString(),spanId:l.spanId.toString()},d={};for(let _ of l.attributes)d[_.key]=String(Object.values(_.value)[0]);!Number.isNaN(l.endTimeUnixNano)&&!Number.isNaN(l.startTimeUnixNano)&&(d[jS]=String(Number(l.endTimeUnixNano)-Number(l.startTimeUnixNano)));let u=((e=s?.name)!==null&&e!==void 0?e:"").indexOf("-"),f=Jc;s?.name&&(u===-1&&(f=(t=s.name.split("/")[1])!==null&&t!==void 0?t:s.name),u>-1&&(f=s?.name.substring(u+1))),Y.api.pushEvent(`faro.tracing.${f}`,d,void 0,{spanContext:c,timestampOverwriteMs:Number(l.endTimeUnixNano)/1e6,customPayloadTransformer:_=>{var p,E;return d["faro.action.user.name"]!=null&&d["faro.action.user.parentId"]!=null&&(_.action={name:d["faro.action.user.name"],parentId:d["faro.action.user.parentId"]},(p=_.attributes)===null||p===void 0||delete p["faro.action.user.name"],(E=_.attributes)===null||E===void 0||delete E["faro.action.user.parentId"]),_}})}}}}var Mo=class{constructor(e){this.config=e}export(e,t){let n=(0,L_.createExportTraceServiceRequest)(e,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(n),D_(n.resourceSpans),t({code:Ar.SUCCESS})}shutdown(){return Promise.resolve(void 0)}};var I_="session.id",w_="deployment.environment.name",U_="service.namespace",V_="process.runtime.name",F_="process.runtime.version",B_="telemetry.distro.name",k_="telemetry.distro.version",G_="browser.brands",H_="browser.language",Y_="browser.mobile",K_="browser.platform";x();x();var gn=class{emit(e){}},z_=new gn;var Xa=class{getLogger(e,t,n){return new gn}},Po=new Xa;var Do=class{constructor(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):z_}};var An=class{getLogger(e,t,n){var i;return(i=this.getDelegateLogger(e,t,n))!==null&&i!==void 0?i:new Do(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Po}setDelegate(e){this._delegate=e}getDelegateLogger(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getLogger(e,t,n)}};var $a=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var yn=Symbol.for("io.opentelemetry.js.api.logs"),xr=$a;function j_(r,e,t){return n=>n===r?e:t}var Za=1;var Lo=class r{constructor(){this._proxyLoggerProvider=new An}static getInstance(){return this._instance||(this._instance=new r),this._instance}setGlobalLoggerProvider(e){return xr[yn]?this.getLoggerProvider():(xr[yn]=j_(Za,e,Po),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,t;return(t=(e=xr[yn])===null||e===void 0?void 0:e.call(xr,Za))!==null&&t!==void 0?t:this._proxyLoggerProvider}getLogger(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)}disable(){delete xr[yn],this._proxyLoggerProvider=new An}};var Io=Lo.getInstance();function W_(r,e,t,n){for(let i=0,o=r.length;i<o;i++){let s=r[i];e&&s.setTracerProvider(e),t&&s.setMeterProvider(t),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}function q_(r){r.forEach(e=>e.disable())}function Ja(r){let e=r.tracerProvider||M.getTracerProvider(),t=r.meterProvider||sn.getMeterProvider(),n=r.loggerProvider||Io.getLoggerProvider(),i=r.instrumentations?.flat()??[];return W_(i,e,t,n),()=>{q_(i)}}x();var ae=console.error.bind(console);function Rn(r,e,t){let n=!!r[e]&&Object.prototype.propertyIsEnumerable.call(r,e);Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}var wo=(r,e,t)=>{if(!r||!r[e]){ae("no original function "+String(e)+" to wrap");return}if(!t){ae("no wrapper function"),ae(new Error().stack);return}let n=r[e];if(typeof n!="function"||typeof t!="function"){ae("original object and wrapper must be functions");return}let i=t(n,e);return Rn(i,"__original",n),Rn(i,"__unwrap",()=>{r[e]===i&&Rn(r,e,n)}),Rn(i,"__wrapped",!0),Rn(r,e,i),i},el=(r,e,t)=>{if(r)Array.isArray(r)||(r=[r]);else{ae("must provide one or more modules to patch"),ae(new Error().stack);return}if(!(e&&Array.isArray(e))){ae("must provide one or more functions to wrap on modules");return}r.forEach(n=>{e.forEach(i=>{wo(n,i,t)})})},Uo=(r,e)=>{if(!r||!r[e]){ae("no function to unwrap."),ae(new Error().stack);return}let t=r[e];if(!t.__unwrap)ae("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else{t.__unwrap();return}},tl=(r,e)=>{if(r)Array.isArray(r)||(r=[r]);else{ae("must provide one or more modules to patch"),ae(new Error().stack);return}if(!(e&&Array.isArray(e))){ae("must provide one or more functions to unwrap on modules");return}r.forEach(t=>{e.forEach(n=>{Uo(t,n)})})};function bn(r){r&&r.logger&&(typeof r.logger!="function"?ae("new logger isn't a function, not replacing"):ae=r.logger)}bn.wrap=wo;bn.massWrap=el;bn.unwrap=Uo;bn.massUnwrap=tl;var Vo=class{instrumentationName;instrumentationVersion;_config={};_tracer;_meter;_logger;_diag;constructor(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this.setConfig(n),this._diag=S.createComponentLogger({namespace:e}),this._tracer=M.getTracer(e,t),this._meter=sn.getMeter(e,t),this._logger=Io.getLogger(e,t),this._updateMetricInstruments()}_wrap=wo;_unwrap=Uo;_massWrap=el;_massUnwrap=tl;get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){let e=this.init()??[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config=Tt({enabled:!0},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,n,i){if(e)try{e(n,i)}catch(o){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},o)}}};var xt=class extends Vo{constructor(e,t,n){super(e,t,n),this._config.enabled&&this.enable()}};function vr(r,e,t){let n,i;try{i=r()}catch(o){n=o}finally{if(e(n,i),n&&!t)throw n;return i}}function Nr(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var w=function(r){return r[r.STABLE=1]="STABLE",r[r.OLD=2]="OLD",r[r.DUPLICATE=3]="DUPLICATE",r}(w||{});function On(r,e){let t=w.OLD,n=e?.split(",").map(i=>i.trim()).filter(i=>i!=="");for(let i of n??[])if(i.toLowerCase()===r+"/dup"){t=w.DUPLICATE;break}else i.toLowerCase()===r&&(t=w.STABLE);return t}var Cr=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var Mr=performance;var qS=9,QS=6,XS=Math.pow(10,QS),rl=Math.pow(10,qS);function er(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*XS);return[t,n]}function nl(){let r=Mr.timeOrigin;if(typeof r!="number"){let e=Mr;r=e.timing&&e.timing.fetchStart}return r}function xn(r){let e=er(nl()),t=er(typeof r=="number"?r:Mr.now());return X_(e,t)}function tr(r){if(Q_(r))return r;if(typeof r=="number")return r<nl()?xn(r):er(r);if(r instanceof Date)return er(r.getTime());throw TypeError("Invalid input type")}function tt(r){return r[0]*rl+r[1]}function Q_(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function X_(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=rl&&(t[1]-=rl,t[0]+=1),t}function Fo(r,e){return typeof e=="string"?r===e:!!r.match(e)}function il(r,e){if(!e)return!1;for(let t of e)if(Fo(r,t))return!0;return!1}var D=function(r){return r.CONNECT_END="connectEnd",r.CONNECT_START="connectStart",r.DECODED_BODY_SIZE="decodedBodySize",r.DOM_COMPLETE="domComplete",r.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",r.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",r.DOM_INTERACTIVE="domInteractive",r.DOMAIN_LOOKUP_END="domainLookupEnd",r.DOMAIN_LOOKUP_START="domainLookupStart",r.ENCODED_BODY_SIZE="encodedBodySize",r.FETCH_START="fetchStart",r.LOAD_EVENT_END="loadEventEnd",r.LOAD_EVENT_START="loadEventStart",r.NAVIGATION_START="navigationStart",r.REDIRECT_END="redirectEnd",r.REDIRECT_START="redirectStart",r.REQUEST_START="requestStart",r.RESPONSE_END="responseEnd",r.RESPONSE_START="responseStart",r.SECURE_CONNECTION_START="secureConnectionStart",r.START_TIME="startTime",r.UNLOAD_EVENT_END="unloadEventEnd",r.UNLOAD_EVENT_START="unloadEventStart",r}(D||{});var $_="http.response_content_length",Z_="http.response_content_length_uncompressed";var ol;function ZS(){return ol||(ol=document.createElement("a")),ol}function J_(r,e){return e in r}function rt(r,e,t,n=!0){if(J_(t,e)&&typeof t[e]=="number"&&!(n&&t[e]===0))return r.addEvent(e,t[e])}function Bo(r,e,t=!1,n,i){if(n===void 0&&(n=e[D.START_TIME]!==0),t||(rt(r,D.FETCH_START,e,n),rt(r,D.DOMAIN_LOOKUP_START,e,n),rt(r,D.DOMAIN_LOOKUP_END,e,n),rt(r,D.CONNECT_START,e,n),rt(r,D.SECURE_CONNECTION_START,e,n),rt(r,D.CONNECT_END,e,n),rt(r,D.REQUEST_START,e,n),rt(r,D.RESPONSE_START,e,n),rt(r,D.RESPONSE_END,e,n)),!i){let o=e[D.ENCODED_BODY_SIZE];o!==void 0&&r.setAttribute($_,o);let s=e[D.DECODED_BODY_SIZE];s!==void 0&&o!==s&&r.setAttribute(Z_,s)}}function ef(r){return r.slice().sort((e,t)=>{let n=e[D.FETCH_START],i=t[D.FETCH_START];return n>i?1:n<i?-1:0})}function tf(){return typeof location<"u"?location.origin:void 0}function sl(r,e,t,n,i=new WeakSet,o){let s=Pr(r);r=s.toString();let a=eg(r,e,t,n,i,o);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let l=ef(a);if(s.origin!==tf()&&l.length>1){let c=l[0],d=JS(l,c[D.RESPONSE_END],t),u=c[D.RESPONSE_END];return d[D.FETCH_START]<u&&(d=c,c=void 0),{corsPreFlightRequest:c,mainRequest:d}}else return{mainRequest:a[0]}}function JS(r,e,t){let n=tt(t),i=tt(tr(e)),o=r[1],s,a=r.length;for(let l=1;l<a;l++){let c=r[l],d=tt(tr(c[D.FETCH_START])),u=tt(tr(c[D.RESPONSE_END])),f=n-u;d>=i&&(!s||f<s)&&(s=f,o=c)}return o}function eg(r,e,t,n,i,o){let s=tt(e),a=tt(t),l=n.filter(c=>{let d=tt(tr(c[D.FETCH_START])),u=tt(tr(c[D.RESPONSE_END]));return c.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&c.name===r&&d>=s&&u<=a});return l.length>0&&(l=l.filter(c=>!i.has(c))),l}function Pr(r){if(typeof URL=="function")return new URL(r,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);let e=ZS();return e.href=r,e}function al(r,e){let t=e||[];return(typeof t=="string"||t instanceof RegExp)&&(t=[t]),Pr(r).origin===tf()?!0:t.some(i=>Fo(r,i))}var ko=function(r){return r.COMPONENT="component",r.HTTP_STATUS_TEXT="http.status_text",r}(ko||{});var ee=ns(rf());Rt();x();var nf=S.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function of(...r){if(r[0]instanceof URL||typeof r[0]=="string"){let e=r[1];if(!e?.body)return Promise.resolve();if(e.body instanceof ReadableStream){let{body:t,length:n}=rg(e.body);return e.body=t,n}else return Promise.resolve(ig(e.body))}else{let e=r[0];return e?.body?e.clone().text().then(t=>ll(t)):Promise.resolve()}}function rg(r){if(!r.pipeThrough)return nf.warn("Platform has ReadableStream but not pipeThrough!"),{body:r,length:Promise.resolve(void 0)};let e=0,t,n=new Promise(o=>{t=o}),i=new TransformStream({start(){},async transform(o,s){let a=await o;e+=a.byteLength,s.enqueue(o)},flush(){t(e)}});return{body:r.pipeThrough(i),length:n}}function ng(r){return typeof Document<"u"&&r instanceof Document}function ig(r){if(ng(r))return new XMLSerializer().serializeToString(document).length;if(typeof r=="string")return ll(r);if(r instanceof Blob)return r.size;if(r instanceof FormData)return sg(r);if(r instanceof URLSearchParams)return ll(r.toString());if(r.byteLength!==void 0)return r.byteLength;nf.warn("unknown body type")}var og=new TextEncoder;function ll(r){return og.encode(r).byteLength}function sg(r){let e=0;for(let[t,n]of r.entries())e+=t.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function sf(r){let e=lg(),t=r.toUpperCase();return t in e?t:"_OTHER"}var ag={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},vn;function lg(){if(vn===void 0){let r=void 0;r&&r.length>0?(vn={},r.forEach(e=>{vn[e]=!0})):vn=ag}return vn}var cg={"https:":"443","http:":"80"};function af(r){let e=Number(r.port||cg[r.protocol]);if(e&&!isNaN(e))return e}var cl="0.202.0";var dg=300,lf=typeof process=="object"&&process.release?.name==="node",Nn=class extends xt{component="fetch";version=cl;moduleName=this.component;_usedResources=new WeakSet;_tasksCount=0;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-fetch",cl,e),this._semconvStability=On("http",e?.semconvStabilityOptIn)}init(){}_addChildSpan(e,t){let n=this.tracer.startSpan("CORS Preflight",{startTime:t[D.FETCH_START]},M.setSpan(C.active(),e)),i=!(this._semconvStability&w.OLD);Bo(n,t,this.getConfig().ignoreNetworkEvents,void 0,i),n.end(t[D.RESPONSE_END])}_addFinalSpanAttributes(e,t){let n=Pr(t.url);if(this._semconvStability&w.OLD&&(e.setAttribute(ee.ATTR_HTTP_STATUS_CODE,t.status),t.statusText!=null&&e.setAttribute(ko.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(ee.ATTR_HTTP_HOST,n.host),e.setAttribute(ee.ATTR_HTTP_SCHEME,n.protocol.replace(":","")),typeof navigator<"u"&&e.setAttribute(ee.ATTR_HTTP_USER_AGENT,navigator.userAgent)),this._semconvStability&w.STABLE){e.setAttribute($i,t.status),e.setAttribute(Zi,n.hostname);let i=af(n);i&&e.setAttribute(Ji,i)}}_addHeaders(e,t){if(!al(t,this.getConfig().propagateTraceHeaderCorsUrls)){let n={};G.inject(C.active(),n),Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(e instanceof Request)G.inject(C.active(),e.headers,{set:(n,i,o)=>n.set(i,typeof o=="string"?o:String(o))});else if(e.headers instanceof Headers)G.inject(C.active(),e.headers,{set:(n,i,o)=>n.set(i,typeof o=="string"?o:String(o))});else if(e.headers instanceof Map)G.inject(C.active(),e.headers,{set:(n,i,o)=>n.set(i,typeof o=="string"?o:String(o))});else{let n={};G.inject(C.active(),n),e.headers=Object.assign({},n,e.headers||{})}}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(e,t={}){if(il(e,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let n="",i={};if(this._semconvStability&w.OLD){let o=(t.method||"GET").toUpperCase();n=`HTTP ${o}`,i[ko.COMPONENT]=this.moduleName,i[ee.ATTR_HTTP_METHOD]=o,i[ee.ATTR_HTTP_URL]=e}if(this._semconvStability&w.STABLE){let o=t.method,s=sf(t.method||"GET");n||(n=s),i[Qi]=s,s!==o&&(i[Xi]=o),i[ro]=e}return this.tracer.startSpan(n,{kind:Ze.CLIENT,attributes:i})}_findResourceAndAddNetworkEvents(e,t,n){let i=t.entries;if(!i.length){if(!performance.getEntriesByType)return;i=performance.getEntriesByType("resource")}let o=sl(t.spanUrl,t.startTime,n,i,this._usedResources,"fetch");if(o.mainRequest){let s=o.mainRequest;this._markResourceAsUsed(s);let a=o.corsPreFlightRequest;a&&(this._addChildSpan(e,a),this._markResourceAsUsed(a));let l=!(this._semconvStability&w.OLD);Bo(e,s,this.getConfig().ignoreNetworkEvents,void 0,l)}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,n){let i=er(Date.now()),o=xn();this._addFinalSpanAttributes(e,n),this._semconvStability&w.STABLE&&n.status>=400&&(e.setStatus({code:Ve.ERROR}),e.setAttribute(dn,String(n.status))),setTimeout(()=>{t.observer?.disconnect(),this._findResourceAndAddNetworkEvents(e,t,o),this._tasksCount--,this._clearResources(),e.end(i)},dg)}_patchConstructor(){return e=>{let t=this;return function(...i){let o=this,s=Pr(i[0]instanceof Request?i[0].url:String(i[0])).href,a=i[0]instanceof Request?i[0]:i[1]||{},l=t._createSpan(s,a);if(!l)return e.apply(this,i);let c=t._prepareSpanData(s);t.getConfig().measureRequestSize&&of(...i).then(p=>{p&&(t._semconvStability&w.OLD&&l.setAttribute(ee.ATTR_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED,p),t._semconvStability&w.STABLE&&l.setAttribute(ee.ATTR_HTTP_REQUEST_BODY_SIZE,p))}).catch(p=>{t._diag.warn("getFetchBodyLength",p)});function d(p,E){t._applyAttributesAfterFetch(p,a,E),t._endSpan(p,c,{status:E.status||0,statusText:E.message,url:s})}function u(p,E){t._applyAttributesAfterFetch(p,a,E),E.status>=200&&E.status<400?t._endSpan(p,c,E):t._endSpan(p,c,{status:E.status,statusText:E.statusText,url:s})}function f(p,E,R){try{let I=R.clone().body;if(I){let W=I.getReader(),H=()=>{W.read().then(({done:ke})=>{ke?u(p,R):H()},ke=>{d(p,ke)})};H()}else u(p,R)}finally{E(R)}}function _(p,E,R){try{d(p,R)}finally{E(R)}}return new Promise((p,E)=>C.with(M.setSpan(C.active(),l),()=>(t._addHeaders(a,s),t._callRequestHook(l,a),t._tasksCount++,e.apply(o,a instanceof Request?[a]:[s,a]).then(f.bind(o,l,p),_.bind(o,l,E)))))}}}_applyAttributesAfterFetch(e,t,n){let i=this.getConfig().applyCustomAttributesOnSpan;i&&vr(()=>i(e,t,n),o=>{o&&this._diag.error("applyCustomAttributesOnSpan",o)},!0)}_callRequestHook(e,t){let n=this.getConfig().requestHook;n&&vr(()=>n(e,t),i=>{i&&this._diag.error("requestHook",i)},!0)}_prepareSpanData(e){let t=xn(),n=[];if(typeof PerformanceObserver!="function")return{entries:n,startTime:t,spanUrl:e};let i=new PerformanceObserver(o=>{o.getEntries().forEach(a=>{a.initiatorType==="fetch"&&a.name===e&&n.push(a)})});return i.observe({entryTypes:["resource"]}),{entries:n,observer:i,startTime:t,spanUrl:e}}enable(){if(lf){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}Nr(fetch)&&(this._unwrap(Cr,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(Cr,"fetch",this._patchConstructor())}disable(){lf||(this._unwrap(Cr,"fetch"),this._usedResources=new WeakSet)}};x();var pt=performance;var ug=9,pg=6,mg=Math.pow(10,pg),dl=Math.pow(10,ug);function Cn(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*mg);return[t,n]}function ul(){let r=pt.timeOrigin;if(typeof r!="number"){let e=pt;r=e.timing&&e.timing.fetchStart}return r}function Mn(r){let e=Cn(ul()),t=Cn(typeof r=="number"?r:pt.now());return df(e,t)}function rr(r){if(cf(r))return r;if(typeof r=="number")return r<ul()?Mn(r):Cn(r);if(r instanceof Date)return Cn(r.getTime());throw TypeError("Invalid input type")}function nt(r){return r[0]*dl+r[1]}function cf(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function df(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=dl&&(t[1]-=dl,t[0]+=1),t}function Go(r,e){return typeof e=="string"?r===e:!!r.match(e)}function pl(r,e){if(!e)return!1;for(let t of e)if(Go(r,t))return!0;return!1}var L=function(r){return r.CONNECT_END="connectEnd",r.CONNECT_START="connectStart",r.DECODED_BODY_SIZE="decodedBodySize",r.DOM_COMPLETE="domComplete",r.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",r.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",r.DOM_INTERACTIVE="domInteractive",r.DOMAIN_LOOKUP_END="domainLookupEnd",r.DOMAIN_LOOKUP_START="domainLookupStart",r.ENCODED_BODY_SIZE="encodedBodySize",r.FETCH_START="fetchStart",r.LOAD_EVENT_END="loadEventEnd",r.LOAD_EVENT_START="loadEventStart",r.NAVIGATION_START="navigationStart",r.REDIRECT_END="redirectEnd",r.REDIRECT_START="redirectStart",r.REQUEST_START="requestStart",r.RESPONSE_END="responseEnd",r.RESPONSE_START="responseStart",r.SECURE_CONNECTION_START="secureConnectionStart",r.START_TIME="startTime",r.UNLOAD_EVENT_END="unloadEventEnd",r.UNLOAD_EVENT_START="unloadEventStart",r}(L||{});var uf="http.response_content_length",pf="http.response_content_length_uncompressed";var ml;function _g(){return ml||(ml=document.createElement("a")),ml}function mf(r,e){return e in r}function it(r,e,t,n=!0){if(mf(t,e)&&typeof t[e]=="number"&&!(n&&t[e]===0))return r.addEvent(e,t[e])}function Ho(r,e,t=!1,n,i){if(n===void 0&&(n=e[L.START_TIME]!==0),t||(it(r,L.FETCH_START,e,n),it(r,L.DOMAIN_LOOKUP_START,e,n),it(r,L.DOMAIN_LOOKUP_END,e,n),it(r,L.CONNECT_START,e,n),it(r,L.SECURE_CONNECTION_START,e,n),it(r,L.CONNECT_END,e,n),it(r,L.REQUEST_START,e,n),it(r,L.RESPONSE_START,e,n),it(r,L.RESPONSE_END,e,n)),!i){let o=e[L.ENCODED_BODY_SIZE];o!==void 0&&r.setAttribute(uf,o);let s=e[L.DECODED_BODY_SIZE];s!==void 0&&o!==s&&r.setAttribute(pf,s)}}function _f(r){return r.slice().sort((e,t)=>{let n=e[L.FETCH_START],i=t[L.FETCH_START];return n>i?1:n<i?-1:0})}function ff(){return typeof location<"u"?location.origin:void 0}function _l(r,e,t,n,i=new WeakSet,o){let s=mt(r);r=s.toString();let a=hg(r,e,t,n,i,o);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let l=_f(a);if(s.origin!==ff()&&l.length>1){let c=l[0],d=fg(l,c[L.RESPONSE_END],t),u=c[L.RESPONSE_END];return d[L.FETCH_START]<u&&(d=c,c=void 0),{corsPreFlightRequest:c,mainRequest:d}}else return{mainRequest:a[0]}}function fg(r,e,t){let n=nt(t),i=nt(rr(e)),o=r[1],s,a=r.length;for(let l=1;l<a;l++){let c=r[l],d=nt(rr(c[L.FETCH_START])),u=nt(rr(c[L.RESPONSE_END])),f=n-u;d>=i&&(!s||f<s)&&(s=f,o=c)}return o}function hg(r,e,t,n,i,o){let s=nt(e),a=nt(t),l=n.filter(c=>{let d=nt(rr(c[L.FETCH_START])),u=nt(rr(c[L.RESPONSE_END]));return c.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&c.name===r&&d>=s&&u<=a});return l.length>0&&(l=l.filter(c=>!i.has(c))),l}function mt(r){if(typeof URL=="function")return new URL(r,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);let e=_g();return e.href=r,e}function fl(r,e){let t=e||[];return(typeof t=="string"||t instanceof RegExp)&&(t=[t]),mt(r).origin===ff()?!0:t.some(i=>Go(r,i))}Rt();var hf="http.host",Ef="http.method",Tf="http.request.body.size",Sf="http.request_content_length_uncompressed";var gf="http.scheme",Af="http.status_code",yf="http.url",Rf="http.user_agent";var _t=function(r){return r.METHOD_OPEN="open",r.METHOD_SEND="send",r.EVENT_ABORT="abort",r.EVENT_ERROR="error",r.EVENT_LOAD="loaded",r.EVENT_TIMEOUT="timeout",r}(_t||{});x();var Eg=S.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function Tg(r){return typeof Document<"u"&&r instanceof Document}function Of(r){if(Tg(r))return new XMLSerializer().serializeToString(document).length;if(typeof r=="string")return bf(r);if(r instanceof Blob)return r.size;if(r instanceof FormData)return gg(r);if(r instanceof URLSearchParams)return bf(r.toString());if(r.byteLength!==void 0)return r.byteLength;Eg.warn("unknown body type")}var Sg=new TextEncoder;function bf(r){return Sg.encode(r).byteLength}function gg(r){let e=0;for(let[t,n]of r.entries())e+=t.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function xf(r){let e=yg(),t=r.toUpperCase();return t in e?t:"_OTHER"}var Ag={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0},Pn;function yg(){if(Pn===void 0){let r=void 0;r&&r.length>0?(Pn={},r.forEach(e=>{Pn[e]=!0})):Pn=Ag}return Pn}var Rg={"https:":"443","http:":"80"};function vf(r){let e=Number(r.port||Rg[r.protocol]);if(e&&!isNaN(e))return e}var hl="0.202.0";var El=function(r){return r.HTTP_STATUS_TEXT="http.status_text",r}(El||{});var bg=300,Dn=class extends xt{component="xml-http-request";version=hl;moduleName=this.component;_tasksCount=0;_xhrMem=new WeakMap;_usedResources=new WeakSet;_semconvStability;constructor(e={}){super("@opentelemetry/instrumentation-xml-http-request",hl,e),this._semconvStability=On("http",e?.semconvStabilityOptIn)}init(){}_addHeaders(e,t){let n=mt(t).href;if(!fl(n,this.getConfig().propagateTraceHeaderCorsUrls)){let o={};G.inject(C.active(),o),Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let i={};G.inject(C.active(),i),Object.keys(i).forEach(o=>{e.setRequestHeader(o,String(i[o]))})}_addChildSpan(e,t){C.with(M.setSpan(C.active(),e),()=>{let n=this.tracer.startSpan("CORS Preflight",{startTime:t[L.FETCH_START]}),i=!(this._semconvStability&w.OLD);Ho(n,t,this.getConfig().ignoreNetworkEvents,void 0,i),n.end(t[L.RESPONSE_END])})}_addFinalSpanAttributes(e,t,n){if(this._semconvStability&w.OLD){if(t.status!==void 0&&e.setAttribute(Af,t.status),t.statusText!==void 0&&e.setAttribute(El.HTTP_STATUS_TEXT,t.statusText),typeof n=="string"){let i=mt(n);e.setAttribute(hf,i.host),e.setAttribute(gf,i.protocol.replace(":",""))}e.setAttribute(Rf,navigator.userAgent)}this._semconvStability&w.STABLE&&t.status&&e.setAttribute($i,t.status)}_applyAttributesAfterXHR(e,t){let n=this.getConfig().applyCustomAttributesOnSpan;typeof n=="function"&&vr(()=>n(e,t),i=>{i&&this._diag.error("applyCustomAttributesOnSpan",i)},!0)}_addResourceObserver(e,t){let n=this._xhrMem.get(e);!n||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(n.createdResources={observer:new PerformanceObserver(i=>{let o=i.getEntries(),s=mt(t);o.forEach(a=>{a.initiatorType==="xmlhttprequest"&&a.name===s.href&&n.createdResources&&n.createdResources.entries.push(a)})}),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(pt.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,n,i,o){if(!n||!i||!o||!e.createdResources)return;let s=e.createdResources.entries;(!s||!s.length)&&(s=pt.getEntriesByType("resource"));let a=_l(mt(n).href,i,o,s,this._usedResources);if(a.mainRequest){let l=a.mainRequest;this._markResourceAsUsed(l);let c=a.corsPreFlightRequest;c&&(this._addChildSpan(t,c),this._markResourceAsUsed(c));let d=!(this._semconvStability&w.OLD);Ho(t,l,this.getConfig().ignoreNetworkEvents,void 0,d)}}_cleanPreviousSpanInformation(e){let t=this._xhrMem.get(e);if(t){let n=t.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(e)}}_createSpan(e,t,n){if(pl(t,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let i="",o=mt(t),s={};if(this._semconvStability&w.OLD&&(i=n.toUpperCase(),s[Ef]=n,s[yf]=o.toString()),this._semconvStability&w.STABLE){let l=n,c=xf(n);i||(i=c),s[Qi]=c,c!==l&&(s[Xi]=l),s[ro]=o.toString(),s[Zi]=o.hostname;let d=vf(o);d&&(s[Ji]=d)}let a=this.tracer.startSpan(i,{kind:Ze.CLIENT,attributes:s});return a.addEvent(_t.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:a,spanUrl:t}),a}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{let t=this;return function(...i){let o=i[0],s=i[1];return t._createSpan(this,s,o),e.apply(this,i)}}}_patchSend(){let e=this;function t(c,d,u,f){let _=d.callbackToRemoveEvents;typeof _=="function"&&_();let{span:p,spanUrl:E,sendStartTime:R}=d;p&&(e._findResourceAndAddNetworkEvents(d,p,E,R,u),p.addEvent(c,f),e._addFinalSpanAttributes(p,d,E),p.end(f),e._tasksCount--),e._clearResources()}function n(c,d,u,f){let _=e._xhrMem.get(d);if(!_)return;if(_.status=d.status,_.statusText=d.statusText,e._xhrMem.delete(d),_.span){let R=_.span;e._applyAttributesAfterXHR(R,d),e._semconvStability&w.STABLE&&(u?f&&(R.setStatus({code:Ve.ERROR,message:f}),R.setAttribute(dn,f)):_.status&&_.status>=400&&(R.setStatus({code:Ve.ERROR}),R.setAttribute(dn,String(_.status))))}let p=Mn(),E=Date.now();setTimeout(()=>{t(c,_,p,E)},bg)}function i(){n(_t.EVENT_ERROR,this,!0,"error")}function o(){n(_t.EVENT_ABORT,this,!1)}function s(){n(_t.EVENT_TIMEOUT,this,!0,"timeout")}function a(){this.status<299?n(_t.EVENT_LOAD,this,!1):n(_t.EVENT_ERROR,this,!1)}function l(c){c.removeEventListener("abort",o),c.removeEventListener("error",i),c.removeEventListener("load",a),c.removeEventListener("timeout",s);let d=e._xhrMem.get(c);d&&(d.callbackToRemoveEvents=void 0)}return c=>function(...u){let f=e._xhrMem.get(this);if(!f)return c.apply(this,u);let _=f.span,p=f.spanUrl;if(_&&p){if(e.getConfig().measureRequestSize&&u?.[0]){let E=u[0],R=Of(E);R!==void 0&&(e._semconvStability&w.OLD&&_.setAttribute(Sf,R),e._semconvStability&w.STABLE&&_.setAttribute(Tf,R))}C.with(M.setSpan(C.active(),_),()=>{e._tasksCount++,f.sendStartTime=Mn(),_.addEvent(_t.METHOD_SEND),this.addEventListener("abort",o),this.addEventListener("error",i),this.addEventListener("load",a),this.addEventListener("timeout",s),f.callbackToRemoveEvents=()=>{l(this),f.createdResources&&f.createdResources.observer.disconnect()},e._addHeaders(this,p),e._addResourceObserver(this,p)})}return c.apply(this,u)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),Nr(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),Nr(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}};var Yo=class extends Dn{constructor(e={}){super(e);let t=this;this.parentCreateSpan=t._createSpan.bind(this)}_patchOpen(){return e=>{let t=this;return function(...i){try{let o=i[0],s=ed(i[1]);t.parentCreateSpan(this,s,o)}catch(o){Y.internalLogger.error(o)}return e.apply(this,i)}}}};x();function Og(r,e,t){let n=t instanceof Error?0:t.status;Nf(r,n)}function xg(r,e){Nf(r,e.status)}function Nf(r,e){if(e==null)return;let t=e===0,n=e>=400&&e<600;(t||n)&&r.setStatus({code:Ve.ERROR})}function Cf(r){return(e,t,n)=>{Og(e,t,n),r?.(e,t,n)}}function Mf(r){return(e,t)=>{xg(e,t),r?.(e,t)}}var vg=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};function Pf(r={}){let{fetchInstrumentationOptions:e,xhrInstrumentationOptions:t}=r,n=vg(r,["fetchInstrumentationOptions","xhrInstrumentationOptions"]),i=Ng(e,n),o=Cg(t,n);return[new Nn(i),new Yo(o)]}function Ng(r,e){return Object.assign(Object.assign(Object.assign(Object.assign({},e),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:Cf(r?.applyCustomAttributesOnSpan)})}function Cg(r,e){return Object.assign(Object.assign(Object.assign(Object.assign({},e),{ignoreNetworkEvents:!0}),r),{applyCustomAttributesOnSpan:Mf(r?.applyCustomAttributesOnSpan)})}x();x();Rt();function Tl(){return"unknown_service"}var Dr=r=>r!==null&&typeof r=="object"&&typeof r.then=="function";var Sl=class r{_rawAttributes;_asyncAttributesPending=!1;_schemaUrl;_memoizedAttributes;static FromAttributeList(e,t){let n=new r({},t);return n._rawAttributes=Df(e),n._asyncAttributesPending=e.filter(([i,o])=>Dr(o)).length>0,n}constructor(e,t){let n=e.attributes??{};this._rawAttributes=Object.entries(n).map(([i,o])=>(Dr(o)&&(this._asyncAttributesPending=!0),[i,o])),this._rawAttributes=Df(this._rawAttributes),this._schemaUrl=Mg(t?.schemaUrl)}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[t,n]=this._rawAttributes[e];this._rawAttributes[e]=[t,Dr(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){if(this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[t,n]of this._rawAttributes){if(Dr(n)){S.debug(`Unsettled resource attribute ${t} skipped`);continue}n!=null&&(e[t]??=n)}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let t=Pg(this,e),n=t?{schemaUrl:t}:void 0;return r.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],n)}};function Ko(r,e){return Sl.FromAttributeList(Object.entries(r),e)}function Ln(){return Ko({[eo]:Tl(),[Wt]:gr[Wt],[qt]:gr[qt],[Qt]:gr[Qt]})}function Df(r){return r.map(([e,t])=>Dr(t)?[e,t.catch(n=>{S.debug("promise rejection for resource attribute: %s - %s",e,n)})]:[e,t])}function Mg(r){if(typeof r=="string"||r===void 0)return r;S.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",r)}function Pg(r,e){let t=r?.schemaUrl,n=e?.schemaUrl,i=t===void 0||t==="",o=n===void 0||n==="";if(i)return n;if(o||t===n)return t;S.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',t,n)}x();x();Rt();var Lf="exception";var zo=class{_spanContext;kind;parentSpanContext;attributes={};links=[];events=[];startTime;resource;instrumentationScope;_droppedAttributesCount=0;_droppedEventsCount=0;_droppedLinksCount=0;name;status={code:Ve.UNSET};endTime=[0,0];_ended=!1;_duration=[-1,-1];_spanProcessor;_spanLimits;_attributeValueLengthLimit;_performanceStartTime;_performanceOffset;_startTimeProvided;constructor(e){let t=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=Je.now(),this._performanceOffset=t-(this._performanceStartTime+no()),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime(e.startTime??t),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,t){if(t==null||this._isSpanEnded())return this;if(e.length===0)return S.warn(`Invalid attribute key: ${e}`),this;if(!ji(t))return S.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return n!==void 0&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;let{eventCountLimit:i}=this._spanLimits;if(i===0)return S.warn("No events allowed."),this._droppedEventsCount++,this;i!==void 0&&this.events.length>=i&&(this._droppedEventsCount===0&&S.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),oo(t)&&(oo(n)||(n=t),t=void 0);let o=jt(t);return this.events.push({name:e,attributes:o,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status=Tt({},e),this.status.message!=null&&typeof e.message!="string"&&(S.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){S.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=fa(this.startTime,this.endTime),this._duration[0]<0&&(S.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&S.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=Je.now())return _a(e+this._performanceOffset);if(typeof e=="number")return bt(e);if(e instanceof Date)return bt(e.getTime());if(io(e))return e;if(this._startTimeProvided)return bt(Date.now());let t=Je.now()-this._performanceStartTime;return so(this.startTime,bt(t))}isRecording(){return this._ended===!1}recordException(e,t){let n={};typeof e=="string"?n[Wi]=e:e&&(e.code?n[qi]=e.code.toString():e.name&&(n[qi]=e.name),e.message&&(n[Wi]=e.message),e.stack&&(n[Vp]=e.stack)),n[qi]||n[Wi]?this.addEvent(Lf,n,t):S.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);S.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(S.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,t):n):e}};x();var ge=function(r){return r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED",r}(ge||{});var ft=class{shouldSample(){return{decision:ge.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var Be=class{shouldSample(){return{decision:ge.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};x();var vt=class{_root;_remoteParentSampled;_remoteParentNotSampled;_localParentSampled;_localParentNotSampled;constructor(e){this._root=e.root,this._root||(Fe(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Be),this._remoteParentSampled=e.remoteParentSampled??new Be,this._remoteParentNotSampled=e.remoteParentNotSampled??new ft,this._localParentSampled=e.localParentSampled??new Be,this._localParentNotSampled=e.localParentNotSampled??new ft}shouldSample(e,t,n,i,o,s){let a=M.getSpanContext(e);return!a||!Ue(a)?this._root.shouldSample(e,t,n,i,o,s):a.isRemote?a.traceFlags&J.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,o,s):this._remoteParentNotSampled.shouldSample(e,t,n,i,o,s):a.traceFlags&J.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,o,s):this._localParentNotSampled.shouldSample(e,t,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};x();var Lr=class{_ratio;_upperBound;constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Gi(t)&&this._accumulate(t)<this._upperBound?ge.RECORD_AND_SAMPLED:ge.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,o=parseInt(e.slice(i,i+8),16);t=(t^o)>>>0}return t}};var ht=function(r){return r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio",r}(ht||{}),jo=1;function Wo(){return{sampler:gl(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:void 0??1/0,attributeCountLimit:void 0??128},spanLimits:{attributeValueLengthLimit:void 0??1/0,attributeCountLimit:void 0??128,linkCountLimit:void 0??128,eventCountLimit:void 0??128,attributePerEventCountLimit:void 0??128,attributePerLinkCountLimit:void 0??128}}}function gl(){let r=void 0??ht.ParentBasedAlwaysOn;switch(r){case ht.AlwaysOn:return new Be;case ht.AlwaysOff:return new ft;case ht.ParentBasedAlwaysOn:return new vt({root:new Be});case ht.ParentBasedAlwaysOff:return new vt({root:new ft});case ht.TraceIdRatio:return new Lr(If());case ht.ParentBasedTraceIdRatio:return new vt({root:new Lr(If())});default:return S.error(`OTEL_TRACES_SAMPLER value "${r}" invalid, defaulting to "${ht.ParentBasedAlwaysOn}".`),new vt({root:new Be})}}function If(){let r=void 0;return r==null?(S.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${jo}.`),jo):r<0||r>1?(S.error(`OTEL_TRACES_SAMPLER_ARG=${r} was given, but it is out of range ([0..1]), defaulting to ${jo}.`),jo):r}var Dg=128,Lg=1/0;function wf(r){let e={sampler:gl()},t=Wo(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}function Uf(r){let e=Object.assign({},r.spanLimits);return e.attributeCountLimit=r.spanLimits?.attributeCountLimit??r.generalLimits?.attributeCountLimit??void 0??void 0??Dg,e.attributeValueLengthLimit=r.spanLimits?.attributeValueLengthLimit??r.generalLimits?.attributeValueLengthLimit??void 0??void 0??Lg,Object.assign({},r,{spanLimits:e})}x();var qo=class{_exporter;_maxExportBatchSize;_maxQueueSize;_scheduledDelayMillis;_exportTimeoutMillis;_isExporting=!1;_finishedSpans=[];_timer;_shutdownOnce;_droppedSpansCount=0;constructor(e,t){this._exporter=e,this._maxExportBatchSize=typeof t?.maxExportBatchSize=="number"?t.maxExportBatchSize:void 0??512,this._maxQueueSize=typeof t?.maxQueueSize=="number"?t.maxQueueSize:void 0??2048,this._scheduledDelayMillis=typeof t?.scheduledDelayMillis=="number"?t.scheduledDelayMillis:void 0??5e3,this._exportTimeoutMillis=typeof t?.exportTimeoutMillis=="number"?t.exportTimeoutMillis:void 0??3e4,this._shutdownOnce=new mn(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(S.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&J.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&S.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(S.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let o=0,s=i;o<s;o++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);C.with(pa(C.active()),()=>{let i;this._finishedSpans.length<=this._maxExportBatchSize?(i=this._finishedSpans,this._finishedSpans=[]):i=this._finishedSpans.splice(0,this._maxExportBatchSize);let o=()=>this._exporter.export(i,a=>{clearTimeout(n),a.code===Ar.SUCCESS?e():t(a.error??new Error("BatchSpanProcessor: span export failed"))}),s=null;for(let a=0,l=i.length;a<l;a++){let c=i[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(s??=[],s.push(c.resource.waitForAsyncAttributes()))}s===null?o():Promise.all(s).then(o,a=>{Fe(a),t(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{this._isExporting=!1,Fe(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),this._timer,void 0)}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};var nr=class extends qo{_visibilityChangeListener;_pageHideListener;constructor(e,t){super(e,t),this.onInit(t)}onInit(e){e?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(t=>{Fe(t)})},this._pageHideListener=()=>{this.forceFlush().catch(t=>{Fe(t)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}};var ir=class{generateTraceId=Vf(16);generateSpanId=Vf(8)},Qo=Array(32);function Vf(r){return function(){for(let t=0;t<r*2;t++)Qo[t]=Math.floor(Math.random()*16)+48,Qo[t]>=58&&(Qo[t]+=39);return String.fromCharCode.apply(null,Qo.slice(0,r*2))}}var Xo=class{_sampler;_generalLimits;_spanLimits;_idGenerator;instrumentationScope;_resource;_spanProcessor;constructor(e,t,n,i){let o=wf(t);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new ir,this._resource=n,this._spanProcessor=i,this.instrumentationScope=e}startSpan(e,t={},n=C.active()){t.root&&(n=M.deleteSpan(n));let i=M.getSpan(n);if(zt(n))return S.debug("Instrumentation suppressed, returning Noop Span"),M.wrapSpanContext(rn);let o=i?.spanContext(),s=this._idGenerator.generateSpanId(),a,l,c;!o||!M.isSpanContextValid(o)?l=this._idGenerator.generateTraceId():(l=o.traceId,c=o.traceState,a=o);let d=t.kind??Ze.INTERNAL,u=(t.links??[]).map(I=>({context:I.context,attributes:jt(I.attributes)})),f=jt(t.attributes),_=this._sampler.shouldSample(n,l,e,d,f,u);c=_.traceState??c;let p=_.decision===on.RECORD_AND_SAMPLED?J.SAMPLED:J.NONE,E={traceId:l,spanId:s,traceFlags:p,traceState:c};if(_.decision===on.NOT_RECORD)return S.debug("Recording is off, propagating context in a non-recording span"),M.wrapSpanContext(E);let R=jt(Object.assign(f,_.attributes));return new zo({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:E,name:e,kind:d,links:u,parentSpanContext:a,attributes:R,startTime:t.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,t,n,i){let o,s,a;if(arguments.length<2)return;arguments.length===2?a=t:arguments.length===3?(o=t,a=n):(o=t,s=n,a=i);let l=s??C.active(),c=this.startSpan(e,o,l),d=M.setSpan(l,c);return C.with(d,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};var $o=class{_spanProcessors;constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(n=>{Fe(n||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}};var Ir=function(r){return r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved",r}(Ir||{}),wr=class{_config;_tracers=new Map;_resource;_activeSpanProcessor;constructor(e={}){let t=Sa({},Wo(),Uf(e));this._resource=t.resource??Ln(),this._config=Object.assign({},t,{resource:this._resource});let n=[];e.spanProcessors?.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new $o(n)}getTracer(e,t,n){let i=`${e}@${t||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new Xo({name:e,version:t,schemaUrl:n?.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(i)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._activeSpanProcessor._spanProcessors.map(n=>new Promise(i=>{let o,s=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${e} ms`)),o=Ir.timeout},e);n.forceFlush().then(()=>{clearTimeout(s),o!==Ir.timeout&&(o=Ir.resolved,i(o))}).catch(a=>{clearTimeout(s),o=Ir.error,i(a)})}));return new Promise((n,i)=>{Promise.all(t).then(o=>{let s=o.filter(a=>a!==Ir.resolved);s.length>0?i(s):n()}).catch(o=>i([o]))})}shutdown(){return this._activeSpanProcessor.shutdown()}};x();var Zo=class{_enabled=!1;_currentContext=ut;_bindFunction(e=ut,t){let n=this,i=function(...o){return n.with(e,()=>t.apply(this,o))};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),i}active(){return this._currentContext}bind(e,t){return e===void 0&&(e=this.active()),typeof t=="function"?this._bindFunction(e,t):t}disable(){return this._currentContext=ut,this._enabled=!1,this}enable(){return this._enabled?this:(this._enabled=!0,this._currentContext=ut,this)}with(e,t,n,...i){let o=this._currentContext;this._currentContext=e||ut;try{return t.call(n,...i)}finally{this._currentContext=o}}};x();function Ig(r){if(r!==null){if(r===void 0){let e=new Zo;e.enable(),C.setGlobalContextManager(e);return}r.enable(),C.setGlobalContextManager(r)}}function wg(r){if(r!==null){if(r===void 0){G.setGlobalPropagator(new un({propagators:[new Xt,new cn]}));return}G.setGlobalPropagator(r)}}var In=class extends wr{constructor(e={}){super(e)}register(e={}){M.setGlobalTracerProvider(this),wg(e.propagator),Ig(e.contextManager)}};Rt();var Jo=class{constructor(e,t){this.processor=e,this.metas=t}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n;let i=this.metas.value.session;i?.id&&(e.attributes[I_]=i.id,e.attributes.session_id=i.id);let o=(n=this.metas.value.user)!==null&&n!==void 0?n:{};o.email&&(e.attributes["user.email"]=o.email),o.id&&(e.attributes["user.id"]=o.id),o.username&&(e.attributes["user.name"]=o.username),o.fullName&&(e.attributes["user.full_name"]=o.fullName),o.roles&&(e.attributes["user.roles"]=o.roles.split(",").map(s=>s.trim())),o.hash&&(e.attributes["user.hash"]=o.hash),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}};x();var es=class{constructor(e){this.processor=e,$c.subscribe(t=>{if(t.type===Wc){this.message=t;return}[qc,Xc,Qc].includes(t.type)&&(this.message=void 0)})}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var n,i;e.kind===Ze.CLIENT&&this.message&&(e.attributes["faro.action.user.name"]=(n=this.message)===null||n===void 0?void 0:n.name,e.attributes["faro.action.user.parentId"]=(i=this.message)===null||i===void 0?void 0:i.parentId),this.processor.onStart(e,t)}onEnd(e){this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}};function Ff(r={}){var e;return((e=r.attributes)===null||e===void 0?void 0:e.isSampled)==="true"?ge.RECORD_AND_SAMPLED:ge.NOT_RECORD}var Al=(()=>{class r extends Zc{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-tracing",this.version=fs}initialize(){var t,n,i,o,s;let a=this.options,l={};this.config.app.name&&(l[eo]=this.config.app.name),this.config.app.namespace&&(l[U_]=this.config.app.namespace),this.config.app.version&&(l[Fp]=this.config.app.version),this.config.app.environment&&(l[w_]=this.config.app.environment,l[Ip]=this.config.app.environment);let c=this.metas.value.browser;jc(c?.brands)&&(l[G_]=c.brands.map(E=>E.brand)),c?.language&&(l[H_]=c.language),typeof c?.mobile=="boolean"&&(l[Y_]=!!c.mobile),c?.os&&(l[K_]=c.os),c?.userAgent&&(l[Bp]=c.userAgent),l[V_]="browser",l[F_]=(t=this.metas.value.browser)===null||t===void 0?void 0:t.userAgent,l[B_]="faro-web-sdk",l[k_]=fs,Object.assign(l,a.resourceAttributes);let d=Ln().merge(Ko(l));new In({resource:d,sampler:{shouldSample:()=>({decision:Ff(this.api.getSession())})},spanProcessors:[(n=a.spanProcessor)!==null&&n!==void 0?n:new es(new Jo(new nr(new Mo({api:this.api}),{scheduledDelayMillis:r.SCHEDULED_BATCH_DELAY_MS,maxExportBatchSize:30}),this.metas))]}).register({propagator:(i=a.propagator)!==null&&i!==void 0?i:new Xt,contextManager:a.contextManager});let{propagateTraceHeaderCorsUrls:f,fetchInstrumentationOptions:_,xhrInstrumentationOptions:p}=(o=this.options.instrumentationOptions)!==null&&o!==void 0?o:{};Ja({instrumentations:(s=a.instrumentations)!==null&&s!==void 0?s:Pf({ignoreUrls:this.getIgnoreUrls(),propagateTraceHeaderCorsUrls:f,fetchInstrumentationOptions:_,xhrInstrumentationOptions:p})}),this.api.initOTEL(M,C)}getIgnoreUrls(){return this.transports.transports.flatMap(t=>t.getIgnoreUrls())}}return r.SCHEDULED_BATCH_DELAY_MS=1e3,r})();var Bf=()=>{rd({url:"https://faro-collector-prod-ap-southeast-1.grafana.net/collect/7589747939196e0549ee6d33aa985355",app:{name:"Fullstack Ladder",version:"1.0.0",environment:"production"},instrumentations:[...td(),new Al]})};Bf();ql(Ru,ru).catch(r=>console.error(r));
